"use strict";(self.webpackChunkgrafana=self.webpackChunkgrafana||[]).push([[6618],{60499:(L,i,t)=>{t.r(i),t.d(i,{default:()=>M});var e=t(31733),s=t(97890),g=t(8310),r=t(42943),f=t(97923);const d=(0,r.Q)(()=>Promise.all([t.e(6826),t.e(4937),t.e(518),t.e(4759),t.e(3889)]).then(t.bind(t,44759))),h=(0,r.Q)(()=>Promise.all([t.e(6826),t.e(5394),t.e(9191),t.e(6671),t.e(9758)]).then(t.bind(t,19758))),E=(0,r.Q)(()=>Promise.all([t.e(6826),t.e(5394),t.e(9191),t.e(6671),t.e(7257)]).then(t.bind(t,87257))),v=(0,r.Q)(()=>Promise.all([t.e(6826),t.e(5394),t.e(9119),t.e(5197)]).then(t.bind(t,45197))),P=(0,r.Q)(()=>Promise.all([t.e(6826),t.e(5394),t.e(9119),t.e(7091)]).then(t.bind(t,77091))),u=(0,r.Q)(()=>Promise.all([t.e(9191),t.e(1085)]).then(t.bind(t,71085))),m=(0,r.Q)(()=>Promise.all([t.e(6826),t.e(5394),t.e(9119),t.e(6624)]).then(t.bind(t,16624))),C=O=>e.createElement(f.O,{navId:"receivers",accessType:"notification"},e.createElement(s.rs,null,e.createElement(s.AW,{exact:!0,path:"/alerting/notifications",component:d}),e.createElement(s.AW,{exact:!0,path:"/alerting/notifications/receivers/new",component:E}),e.createElement(s.AW,{exact:!0,path:"/alerting/notifications/receivers/:name/edit",component:h}),e.createElement(s.AW,{exact:!0,path:"/alerting/notifications/templates/:name/edit",component:v}),e.createElement(s.AW,{exact:!0,path:"/alerting/notifications/templates/new",component:P}),e.createElement(s.AW,{exact:!0,path:"/alerting/notifications/templates/:name/duplicate",component:m}),e.createElement(s.AW,{exact:!0,path:"/alerting/notifications/global-config",component:u}))),M=(0,g.Pf)(C,{style:"page"})},97923:(L,i,t)=>{t.d(i,{J:()=>W,O:()=>F});var e=t(31733),s=t(56423),g=t(50186),r=t(85498),f=t(94746),d=t(76932),h=t(50370),E=t(76067),v=t(79106),P=t(58037),u=t(51343),m=t(25111);const C=({localStoreKey:n,startClosed:l=!1,severity:a="error",collapseText:c,collapseTooltip:y,collapseJustify:A="flex-end",alertTitle:o,children:V})=>{const Y=(0,E.l4)(),z=M(Y,a),[x,D]=(0,h.Z)(n,l);return e.createElement(e.Fragment,null,x&&e.createElement(v.Lh,{justify:A},e.createElement(P.u,{content:y,placement:"bottom"},e.createElement(u.zx,{fill:"text",variant:"secondary",icon:(0,m.j)(a),className:z.warningButton,onClick:()=>D(!1)},c))),!x&&e.createElement(m.b,{severity:a,title:o,onRemove:()=>D(!0)},V))},M=(n,l)=>{const a=n.colors[l];return{warningButton:(0,d.css)({color:a.text,"&:hover":{background:a.transparent}})}},O="grafana.unifiedalerting.upgrade.previewNotice",S=()=>r.config.unifiedAlertingEnabled||!r.config.featureToggles.alertingPreviewUpgrade?null:e.createElement(C,{localStoreKey:O,alertTitle:"This is a preview of the upgraded Grafana Alerting",collapseText:"Grafana Alerting Preview",collapseTooltip:"Show preview warning",severity:"warning"},e.createElement("p",null,"No rules are being evaluated and legacy alerting is still running.",e.createElement("br",null),"Please contact your administrator to upgrade permanently."),e.createElement(f.h,{external:!0,href:"https://grafana.com/docs/grafana/latest/alerting/set-up/migrating-alerts/"},"Read about upgrading"));var T=t(1203),N=t(41164),I=t(38834),R=t(67451);function U(n){return n.name===R.GC?"Grafana":n.name.slice(0,37)}const B=({disabled:n=!1})=>{const l=(0,E.wW)(K),{selectedAlertmanager:a,availableAlertManagers:c,setSelectedAlertmanager:y}=(0,T.ZA)(),A=(0,e.useMemo)(()=>c.map(o=>({label:U(o),value:o.name,imgUrl:o.imgUrl,meta:o.meta})),[c]);return e.createElement(N._,{className:l.field,label:n?"Alertmanager":"Choose Alertmanager",disabled:n||A.length===1,"data-testid":"alertmanager-picker"},e.createElement(I.Ph,{"aria-label":n?"Alertmanager":"Choose Alertmanager",width:29,className:"ds-picker select-container",backspaceRemovesValue:!1,onChange:o=>{o?.value&&y(o.value)},options:A,maxMenuHeight:500,noOptionsMessage:"No datasources found",value:a,getOptionLabel:o=>o.label}))},K=n=>({field:(0,d.css)`
    margin: 0;
  `}),G=()=>e.createElement(m.b,{title:"No Alertmanager found",severity:"warning"},"We could not find any external Alertmanagers and you may not have access to the built-in Grafana Alertmanager."),Q=()=>e.createElement(m.b,{title:"Selected Alertmanager not found.",severity:"warning"},"The selected Alertmanager no longer exists or you may not have permission to access it. You can select a different Alertmanager from the dropdown."),p=({availableAlertManagers:n})=>{const l=n.length>0;return e.createElement("div",null,l?e.createElement(Q,null):e.createElement(G,null))},W=({children:n,isLoading:l,...a})=>e.createElement(g.T,{...a},e.createElement(g.T.Contents,{isLoading:l},e.createElement("div",null,e.createElement(S,null),n))),F=({children:n,accessType:l,...a})=>{const c=Z();return e.createElement(T.h5,{accessType:l},e.createElement(W,{...a,actions:e.createElement(B,{disabled:c})},e.createElement(j,null,n)))};function Z(){const n=(0,s.Z)();return["/edit","/new"].some(a=>n?.pathname?.includes(a))}const j=({children:n})=>{const{availableAlertManagers:l,selectedAlertmanager:a}=(0,T.ZA)();return a?e.createElement(e.Fragment,null,n):e.createElement(p,{availableAlertManagers:l})}}}]);

//# sourceMappingURL=NotificationsListPage.993e56a5036bc2bbd5c6.js.map