(self.webpackChunkgrafana=self.webpackChunkgrafana||[]).push([[7628],{60958:(x,w,i)=>{"use strict";i.d(w,{O:()=>k});var z=i(74687),I=i(91977),E=i(19690);const A={http:80,https:443,ftp:21};class k{constructor(){this.absUrl=this.wrapInDeprecationWarning(this.absUrl),this.hash=this.wrapInDeprecationWarning(this.hash),this.host=this.wrapInDeprecationWarning(this.host),this.path=this.wrapInDeprecationWarning(this.path),this.port=this.wrapInDeprecationWarning(this.port,"window.location"),this.protocol=this.wrapInDeprecationWarning(this.protocol,"window.location"),this.replace=this.wrapInDeprecationWarning(this.replace),this.search=this.wrapInDeprecationWarning(this.search),this.state=this.wrapInDeprecationWarning(this.state),this.url=this.wrapInDeprecationWarning(this.url)}wrapInDeprecationWarning(s,p){let c=this;return function(){return(0,z.d)("$location",s.name,p||"locationService"),s.apply(c,arguments)}}absUrl(){return`${window.location.origin}${this.url()}`}hash(s){if((0,E.GQ)("AngularLocationWrapper",!1,"Angular compat layer: hash"),s)throw new Error("AngularLocationWrapper method not implemented.");return E.E1.getLocation().hash.slice(1)}host(){return new URL(window.location.href).hostname}path(s){(0,E.GQ)("AngularLocationWrapper",!1,"Angular compat layer: path");const p=E.E1.getLocation();if(s!=null){let c=String(s);c=c.startsWith("/")?c:`/${c}`;const h=new URL(`${window.location.origin}${c}`);return E.E1.push({pathname:h.pathname,search:h.search.length>0?h.search:p.search,hash:h.hash.length>0?h.hash:p.hash}),this}return s===null?(E.E1.push("/"),this):p.pathname}port(){const s=new URL(window.location.href);return parseInt(s.port,10)||A[s.protocol]||null}protocol(){return new URL(window.location.href).protocol.slice(0,-1)}replace(){throw new Error("AngularLocationWrapper method not implemented.")}search(s,p){if((0,E.GQ)("AngularLocationWrapper",!1,"Angular compat layer: search"),!s)return E.E1.getSearchObject();if(s&&arguments.length>1)return E.E1.partial({[s]:p}),this;if(s){let c;typeof s=="object"?c={...s}:c=(0,E.Ox)(s);for(const d of Object.keys(c))(c[d]===null||c[d]===void 0)&&delete c[d];const h=I.Cj.renderUrl(E.E1.getLocation().pathname,c);E.E1.push(h)}return this}state(s){throw(0,E.GQ)("AngularLocationWrapper",!1,"Angular compat layer: state"),new Error("AngularLocationWrapper method not implemented.")}url(s){if((0,E.GQ)("AngularLocationWrapper",!1,"Angular compat layer: url"),s!==void 0)return s.startsWith("#")?E.E1.push({...E.E1.getLocation(),hash:s}):s.startsWith("?")?E.E1.push({...E.E1.getLocation(),search:s}):s.trim().length===0?E.E1.push("/"):E.E1.push(s),E.E1;const p=E.E1.getLocation();return`${p.pathname}${p.search}${p.hash}`}}},97628:(x,w,i)=>{"use strict";i.d(w,{AngularApp:()=>or});var z=i(93065),I=i.n(z),E=i(40510),A=i(56821),k=i(1727),o=i(65888),s=i(74642);const p=`
  <ng-transclude class="panel-height-helper"></ng-transclude>
`;o.hF.directive("grafanaPanel",["$timeout",r=>({restrict:"E",template:p,transclude:!0,scope:{ctrl:"="},link:(t,n)=>{const e=t.ctrl,a=t.ctrl.panel,l=new E.w0;let u;function m(){u&&u.update()}e.events.on(A.Kh.componentDidMount,()=>{if(e.__proto__.constructor.scrollable){const v="baron baron__root baron__clipper panel-content--scrollable",O="baron__scroller",f=`
            <div class="baron__track">
              <div class="baron__bar"></div>
            </div>
          `,D=n,T=n.find(":first").find(":first");D.addClass(v),$(f).appendTo(D),T.addClass(O),u=I()({root:D[0],scroller:T[0],bar:".baron__bar",barOnCls:"_scrollbar",scrollingCls:"_scrolling"}),u.scroll()}});function y(){e.height=t.$parent.$parent.size.height,e.width=t.$parent.$parent.size.width}y(),l.add(a.events.subscribe(k.U5,()=>{y(),e.events.emit("refresh")})),l.add(a.events.subscribe(s._z,v=>{v.payload?.fromAngular||(y(),r(()=>{m(),e.events.emit("render")}))})),l.add(e.events.subscribe(s._z,v=>{v.payload&&(v.payload.fromAngular=!0,a.events.publish(v))})),t.$on("$destroy",()=>{n.off(),l.unsubscribe(),e.events.emit(A.Kh.panelTeardown),e.events.removeAllListeners(),u&&u.dispose()}),a.events.publish(s.GT)}})]);var c=i(49564),h=i(20655),d=i.n(h);const W=d().module("grafana.directives"),Y={};W.directive("panelEditorTab",["dynamicDirectiveSrv",H]);function H(r){return r.create({scope:{ctrl:"=",editorTab:"="},directive:t=>{const n=t.ctrl.pluginId,e=t.editorTab.title.toLowerCase().replace(" ","-").replace("&","").replace(" ","").replace(" ","-");if(Y[n]){if(Y[n][e])return Y[n][e]}else Y[n]=[];const a={fn:()=>t.editorTab.directiveFn(),name:`panel-editor-tab-${n}${e}`};return Y[n][e]=a,a}})}class q{constructor(){this.hasTextEditMode=!1}$onInit(){this.panelCtrl=this.queryCtrl.panelCtrl,this.target=this.queryCtrl.target,this.panel=this.panelCtrl.panel,this.hasTextEditMode&&this.queryCtrl.toggleEditorMode&&(this.panelCtrl.toggleEditorMode=this.queryCtrl.toggleEditorMode.bind(this.queryCtrl)),this.queryCtrl.getCollapsedText&&(this.panelCtrl.getCollapsedText=this.queryCtrl.getCollapsedText.bind(this.queryCtrl))}}o.hF.directive("queryEditorRow",R);function R(){return{restrict:"E",controller:q,bindToController:!0,controllerAs:"ctrl",templateUrl:"public/app/angular/panel/partials/query_editor_row.html",transclude:!0,scope:{queryCtrl:"=",canCollapse:"=",hasTextEditMode:"="}}}var Z=i(8256),g=i(69781),it=i.n(g),pt=i(74011),K=i(4419);o.ZP.filter("stringSort",()=>r=>r.sort()),o.ZP.filter("slice",()=>(r,t,n)=>(0,g.isUndefined)(r)?r:r.slice(t,n)),o.ZP.filter("stringify",()=>r=>(0,g.isObject)(r)&&!(0,g.isArray)(r)?d().toJson(r):(0,g.isNull)(r)?null:r.toString()),o.ZP.filter("moment",()=>(r,t)=>{switch(t){case"ago":return(0,pt.CQ)(r).fromNow()}return(0,pt.CQ)(r).fromNow()});function at(r=(0,K.J)()){const t=(n,e)=>{let a;return e.ctrl?a=(e.ctrl.panel||e.ctrl.row).scopedVars:a=e.row.scopedVars,r.replaceWithText(n,a)};return t.$stateful=!0,t}o.ZP.filter("interpolateTemplateVars",at);const lt={};class b{constructor(){}set(){console.warn("old deprecated alert srv being used")}}o.ZP.service("alertSrv",b);class ot{constructor(t){this.$compile=t}addDirective(t,n,e){const a=d().element(document.createElement(n));this.$compile(a)(e),t.empty(),t.append(a)}link(t,n,e,a){const l=a.directive(t);if(!l||!l.fn){n.empty();return}l.fn.registered||(o.ZP.directive(e.$normalize(l.name),l.fn),l.fn.registered=!0),this.addDirective(n,l.name,t)}create(t){return{restrict:"E",scope:t.scope,link:(e,a,l)=>{if(t.watchPath){let u=null;e.$watch(t.watchPath,()=>{u&&u.$destroy(),u=e.$new(),this.link(u,a,l,t)})}else this.link(e,a,l,t)}}}}ot.$inject=["$compile"],o.ZP.service("dynamicDirectiveSrv",ot);var U=i(31733),ut=i(46475);function C(r,t){if(d().isFunction(r))return r;if(!r)throw new Error("ReactComponent name attribute must be specified");let n;try{n=t.get(r)}catch{}if(!n)try{n=r.split(".").reduce((e,a)=>e[a],window)}catch{}if(!n)throw Error("Cannot find react component "+r);return n}function nt(r,t){if(r.wrappedInApply)return r;const n=function(){const e=arguments,a=t.$root.$$phase;return a==="$apply"||a==="$digest"?r.apply(null,e):t.$apply(()=>r.apply(null,e))};return n.wrappedInApply=!0,n}function tt(r,t,n){return Object.keys(r||{}).reduce((e,a)=>{const l=r[a],u=(n||{})[a]||{};return e[a]=d().isFunction(l)&&u.wrapApply!==!1?nt(l,t):l,e},{})}function B(r,t,n,e){const a=d().isFunction(t.$watchCollection),l=d().isFunction(t.$watchGroup),u=[];for(const m of n){const y=bt(m),v=xt(r,m);!y||y.match(/\(.*\)/)||v==="one-time"||(v==="collection"&&a?t.$watchCollection(y,e):v==="reference"&&l?u.push(y):t.$watch(y,e,v!=="reference"))}r==="one-time"&&e(),u.length&&t.$watchGroup(u,e)}function Q(r,t,n,e){n.$evalAsync(()=>{e.render(U.createElement(r,t))})}function mt(r){return Array.isArray(r)?r[0]:r}function dt(r){return Array.isArray(r)?r[1]:{}}function bt(r){return Array.isArray(r)?r[0]:r}function Ct(r,t){const n=Object.keys(r).find(e=>e.toLowerCase()===t.toLowerCase()||(0,g.kebabCase)(e)===(0,g.kebabCase)(t));return r[n]}function xt(r,t){return Array.isArray(t)&&d().isObject(t[1])&&t[1].watchDepth||r}const L=r=>({restrict:"E",replace:!0,link:function(t,n,e){const a=C(e.name,r),l=(0,ut.s)(n[0]),u=()=>{const m=t.$eval(e.props),y=tt(m,t);Q(a,y,t,l)};e.props?B(e.watchDepth,t,[e.props],u):u(),t.$on("$destroy",()=>{e.onScopeDestroy?t.$eval(e.onScopeDestroy,{unmountComponent:l.unmount.bind(this)}):l.unmount()})}}),F=r=>(t,n,e,a)=>{const l={restrict:"E",replace:!0,link:function(u,m,y){const v=C(t,r),O=(0,ut.s)(m[0]);n=n||Object.keys(v.propTypes||{});const f=()=>{let T={};const G={};n.forEach(ht=>{const N=mt(ht);T[N]=u.$eval(Ct(y,N)),G[N]=dt(ht)}),T=tt(T,u,G),T=d().extend({},T,a),Q(v,T,u,O)},D=n.map(T=>Array.isArray(T)?[Ct(y,T[0]),dt(T)]:Ct(y,T));n.length?B(y.watchDepth,u,D,f):f(),u.$on("$destroy",()=>{y.onScopeDestroy?u.$eval(y.onScopeDestroy,{unmountComponent:O.unmount.bind(this)}):O.unmount()})}};return d().extend(l,e)},S=d().module("react",[]);S.directive("reactComponent",["$injector",L]),S.factory("reactDirective",["$injector",F]),o.ZP.service("uiSegmentSrv",["$sce","templateSrv",V]);function V(r,t){const n=this;class e{constructor(l){if(l==="*"||l.value==="*"){this.value="*",this.html=r.trustAsHtml('<i class="fa fa-asterisk"><i>'),this.type=l.type,this.expandable=!0;return}if((0,g.isString)(l)){this.value=l,this.html=r.trustAsHtml(t.highlightVariablesAsHtml(this.value));return}this.text=l.value,this.cssClass=l.cssClass,this.custom=l.custom,this.type=l.type,this.fake=l.fake,this.value=l.value,this.selectMode=l.selectMode,this.expandable=l.expandable,this.html=l.html||r.trustAsHtml(t.highlightVariablesAsHtml(this.value))}}this.getSegmentForValue=function(a,l){return a?this.newSegment(a):this.newSegment({value:l,fake:!0})},this.newSelectMeasurement=()=>new e({value:"select measurement",fake:!0}),this.newFake=(a,l,u)=>new e({value:a,fake:!0,type:l,cssClass:u}),this.newSegment=a=>new e(a),this.newKey=a=>new e({value:a,type:"key",cssClass:"query-segment-key"}),this.newKeyValue=a=>new e({value:a,type:"value",cssClass:"query-segment-value"}),this.newCondition=a=>new e({value:a,type:"condition",cssClass:"query-keyword"}),this.newOperator=a=>new e({value:a,type:"operator",cssClass:"query-segment-operator"}),this.newOperators=a=>(0,g.map)(a,l=>new e({value:l,type:"operator",cssClass:"query-segment-operator"})),this.transformToSegments=(a,l)=>u=>{const m=(0,g.map)(u,y=>n.newSegment({value:y.text,expandable:y.expandable}));return a&&(0,g.each)(t.getVariables(),y=>{(l===void 0||l===y.type)&&m.unshift(n.newSegment({type:"value",value:"$"+y.name,expandable:!0}))}),m},this.newSelectMetric=()=>new e({value:"select metric",fake:!0}),this.newPlusButton=()=>new e({fake:!0,html:'<i class="fa fa-plus "></i>',type:"plus-button",cssClass:"query-part"})}var j=i(38294),et=i.n(j);o.ZP.service("popoverSrv",["$compile","$rootScope","$timeout",X]);function X(r,t,n){let e=null;this.close=()=>{e&&e.close()},this.show=a=>{e&&(e.close(),e=null);const l=(0,g.extend)(t.$new(!0),a.model);let u;const m=()=>{setTimeout(()=>{l.$destroy(),u.tether&&u.destroy(),a.onClose&&a.onClose()}),e=null};l.dismiss=()=>{u.close()};const y=document.createElement("div");return y.innerHTML=a.template,r(y)(l),n(()=>{u=new(et())({target:a.element,content:y,position:a.position,classes:a.classNames||"drop-popover",openOn:a.openOn,hoverCloseDelay:200,tetherOptions:{constraints:[{to:"scrollParent",attachment:"together"}]}}),u.on("close",()=>{m()}),e=u,e.open()},100),()=>{u&&u.close()}}}class ft{constructor(t){this.$timeout=t,this.timers=[]}register(t){return this.timers.push(t),t}cancel(t){this.timers=(0,g.without)(this.timers,t),this.$timeout.cancel(t)}cancelAll(){(0,g.each)(this.timers,t=>{this.$timeout.cancel(t)}),this.timers=[]}}ft.$inject=["$timeout"],o.ZP.service("timer",ft);class M{constructor(t,n){this.$compile=t,this.$rootScope=n}load(t,n,e){const a=this.$rootScope.$new();(0,g.assign)(a,n);const l=this.$compile(e)(a);return d().element(t).append(l),{destroy:()=>{a.$destroy(),l.remove()},digest:()=>{a.$$phase||a.$digest()},getScope:()=>a}}}M.$inject=["$compile","$rootScope"],o.ZP.service("angularLoader",M);var st=i(341),P=i.n(st);const Tt=P()(window);P().fn.place_tt=(()=>{const r={offset:5};return function(t,n,e){return e=P().extend(!0,{},r,e),this.each(()=>{const a=P()(this);let l,u;a.addClass("grafana-tooltip"),P()("#tooltip").remove(),a.appendTo(document.body),e.compile&&d().element(document).injector().invoke(["$compile","$rootScope",(v,O)=>{const f=O.$new(!0);(0,g.extend)(f,e.scopeData),v(a)(f),f.$digest(),f.$destroy()}]),l=a.outerWidth(!0),u=a.outerHeight(!0);const m=t+e.offset+l>Tt.width()?t-e.offset-l:t+e.offset,y=n+e.offset+u>Tt.height()?n-e.offset-u:n+e.offset;a.css("left",m>0?m:0),a.css("top",y>0?y:0)})}})();function At(r){const t='<input type="text" class="gf-form-input input-medium tight-form-input" spellcheck="false" style="display:none"></input>',n='<a class="gf-form-label tight-form-func dropdown-toggle" tabindex="1" gf-dropdown="menuItems" data-toggle="dropdown" ><i class="fa fa-plus"></i></a>';return{scope:{menuItems:"=dropdownTypeahead",dropdownTypeaheadOnSelect:"&dropdownTypeaheadOnSelect",model:"=ngModel"},link:(e,a,l)=>{const u=P()(t),m=P()(n);u.appendTo(a),m.appendTo(a),l.linkText&&m.html(l.linkText),l.ngModel&&e.$watch("model",O=>{(0,g.each)(e.menuItems,f=>{(0,g.each)(f.submenu,D=>{D.value===O&&m.html(D.text)})})});const y=(0,g.reduce)(e.menuItems,(O,f,D)=>(f.submenu?(0,g.each)(f.submenu,(T,G)=>{T.click="menuItemSelected("+D+","+G+")",O.push(f.text+" "+T.text)}):(f.click="menuItemSelected("+D+")",O.push(f.text)),O),[]),v=()=>{u.hide(),u.val(""),m.show(),m.focus(),a.removeClass("open")};e.menuItemSelected=(O,f)=>{const D=e.menuItems[O],T={$item:D};D.submenu&&f!==void 0&&(T.$subItem=D.submenu[f]),e.dropdownTypeaheadOnSelect(T),v()},u.attr("data-provide","typeahead"),u.typeahead({source:y,minLength:1,items:10,updater:O=>{const f={};return(0,g.each)(e.menuItems,D=>{(0,g.each)(D.submenu,T=>{O===D.text+" "+T.text&&(f.$subItem=T,f.$item=D)})}),f.$item&&e.$apply(()=>{e.dropdownTypeaheadOnSelect(f)}),u.trigger("blur"),""}}),m.click(()=>{m.hide(),u.show(),u.focus()}),u.keyup(()=>{a.toggleClass("open",u.val()==="")}),a.mousedown(O=>{O.preventDefault()}),u.blur(()=>{u.hide(),u.val(""),m.show(),m.focus(),setTimeout(()=>{a.removeClass("open")},200)}),r(a.contents())(e)}}}function gt(r){const t='<input type="text" class="gf-form-input" spellcheck="false" style="display:none"></input>',n='<a class="{{buttonTemplateClass}} dropdown-toggle" tabindex="1" gf-dropdown="menuItems" data-toggle="dropdown" ><i class="fa fa-plus"></i></a>';return{scope:{menuItems:"=dropdownTypeahead2",dropdownTypeaheadOnSelect:"&dropdownTypeaheadOnSelect",model:"=ngModel",buttonTemplateClass:"@"},link:(e,a,l)=>{const u=P()(t);e.buttonTemplateClass||(e.buttonTemplateClass="gf-form-input");const m=P()(n),y={blur:null};u.appendTo(a),m.appendTo(a),l.linkText&&m.html(l.linkText),l.ngModel&&e.$watch("model",f=>{(0,g.each)(e.menuItems,D=>{(0,g.each)(D.submenu,T=>{T.value===f&&m.html(T.text)})})});const v=(0,g.reduce)(e.menuItems,(f,D,T)=>(D.submenu?(0,g.each)(D.submenu,(G,ht)=>{G.click="menuItemSelected("+T+","+ht+")",f.push(D.text+" "+G.text)}):(D.click="menuItemSelected("+T+")",f.push(D.text)),f),[]),O=()=>{u.hide(),u.val(""),m.show(),m.focus(),a.removeClass("open")};e.menuItemSelected=(f,D)=>{const T=e.menuItems[f],G={$item:T};T.submenu&&D!==void 0&&(G.$subItem=T.submenu[D]),e.dropdownTypeaheadOnSelect(G),O()},u.attr("data-provide","typeahead"),u.typeahead({source:v,minLength:1,items:10,updater:f=>{const D={};return(0,g.each)(e.menuItems,T=>{(0,g.each)(T.submenu,G=>{f===T.text+" "+G.text&&(D.$subItem=G,D.$item=T)})}),D.$item&&e.$apply(()=>{e.dropdownTypeaheadOnSelect(D)}),u.trigger("blur"),""}}),m.click(()=>{m.hide(),u.show(),u.focus()}),u.keyup(()=>{a.toggleClass("open",u.val()==="")}),a.mousedown(f=>{f.preventDefault(),y.blur=null}),u.blur(()=>{y.blur=setTimeout(()=>{O()},1)}),r(a.contents())(e)}}}o.ZP.directive("dropdownTypeahead",["$compile",At]),o.ZP.directive("dropdownTypeahead2",["$compile",gt]);function Nt(r){return{link:(t,n)=>{const e=n[0],a=()=>{const u=new Event("change");return e.dispatchEvent(u)},l=({animationName:u})=>{switch(u){case"onAutoFillStart":return a();case"onAutoFillCancel":return a()}return null};e.addEventListener("animationstart",l),t.$on("$destroy",()=>{e.removeEventListener("animationstart",l)})}}}o.ZP.directive("autofillEventFix",["$compile",Nt]);function Mt(r,t,n){const e='<input type="text" data-provide="typeahead"  class="gf-form-input input-medium" spellcheck="false" style="display:none"></input>',a='<a class="gf-form-label" ng-class="segment.cssClass" tabindex="1" give-focus="segment.focus" ng-bind-html="segment.html"></a>',l='<a class="gf-form-input gf-form-input--dropdown" ng-class="segment.cssClass" tabindex="1" give-focus="segment.focus" ng-bind-html="segment.html"></a>';return{scope:{segment:"=",getOptions:"&",onChange:"&",debounce:"@"},link:(u,m)=>{const y=P()(e),v=u.segment,O=P()(v.selectMode?l:a);let f=null,D=null,T=!0;const G=u.debounce;y.appendTo(m),O.appendTo(m),u.updateVariableValue=N=>{N===""||v.value===N||u.$apply(()=>{const _=(0,g.find)(u.altSegments,{value:N});_?(v.value=_.value,v.html=_.html||t.trustAsHtml(n.highlightVariablesAsHtml(_.value)),v.fake=!1,v.expandable=_.expandable,_.type&&(v.type=_.type)):v.custom!=="false"&&(v.value=N,v.html=t.trustAsHtml(n.highlightVariablesAsHtml(N)),v.expandable=!0,v.fake=!1),u.onChange()})},u.switchToLink=N=>{T&&!N||(clearTimeout(D),D=null,T=!0,y.hide(),O.show(),u.updateVariableValue(y.val()))},u.inputBlur=()=>{D=setTimeout(u.switchToLink,200)},u.source=(N,_)=>{u.$apply(()=>{u.getOptions({$query:N}).then(J=>{u.altSegments=J,f=(0,g.map)(u.altSegments,rt=>(0,g.escape)(rt.value)),v.custom!=="false"&&!v.fake&&(0,g.indexOf)(f,v.value)===-1&&f.unshift((0,g.escape)(v.value)),_(f)})})},u.updater=N=>(N=(0,g.unescape)(N),N===v.value?(clearTimeout(D),y.focus(),N):(y.val(N),u.switchToLink(!0),N)),u.matcher=function(N){if(T)return!1;let _=this.query;_[0]==="/"&&(_=_.substring(1)),_[_.length-1]==="/"&&(_=_.substring(0,_.length-1));try{return N.toLowerCase().match(_.toLowerCase())}catch{return!1}},y.attr("data-provide","typeahead"),y.typeahead({source:u.source,minLength:0,items:1e4,updater:u.updater,matcher:u.matcher});const ht=y.data("typeahead");ht.lookup=function(){this.query=this.$element.val()||"";const N=this.source(this.query,P().proxy(this.process,this));return N&&this.process(N)},G&&(ht.lookup=(0,g.debounce)(ht.lookup,500,{leading:!0})),O.keydown(N=>{(N.keyCode===40||N.keyCode===13)&&O.click()}),O.click(()=>{f=null,y.css("width",Math.max(O.width(),80)+16+"px"),O.hide(),y.show(),y.focus(),T=!1;const N=y.data("typeahead");N&&(y.val(""),N.lookup())}),y.blur(u.inputBlur),r(m.contents())(u)}}}function Pt(r){return{template:'<metric-segment segment="segment" get-options="getOptionsInternal()" on-change="onSegmentChange()"></metric-segment>',restrict:"E",scope:{property:"=",options:"=",getOptions:"&",onChange:"&"},link:{pre:function(n,e,a){let l;n.valueToSegment=u=>{const m=(0,g.find)(n.options,{value:u}),y={cssClass:a.cssClass,custom:a.custom,value:m?m.text:u,selectMode:a.selectMode};return r.newSegment(y)},n.getOptionsInternal=()=>n.options?(l=n.options,Promise.resolve((0,g.map)(n.options,u=>({value:u.text})))):n.getOptions().then(u=>(l=u,(0,g.map)(u,m=>m.html?m:{value:m.text}))),n.onSegmentChange=()=>{if(l){const u=(0,g.find)(l,{text:n.segment.value});u&&u.value!==n.property?n.property=u.value:a.custom!=="false"&&(n.property=n.segment.value)}else n.property=n.segment.value;n.$$postDigest(()=>{n.$apply(()=>{n.onChange()})})},n.segment=n.valueToSegment(n.property)}}}}o.ZP.directive("metricSegment",["$compile","$sce","templateSrv",Mt]),o.ZP.directive("metricSegmentModel",["uiSegmentSrv",Pt]),o.ZP.directive("tip",["$compile",Ft]);function Ft(r){return{restrict:"E",link:(t,n,e)=>{let a='<i class="grafana-tip fa fa-'+(e.icon||"question-circle")+`" bs-tooltip="'`+n.text().replace(/[\'\"\\{}<>&]/g,l=>"&amp;#"+l.charCodeAt(0)+";")+`'"></i>`;n.replaceWith(r(d().element(a))(t))}}}o.ZP.directive("compile",["$compile",Ut]);function Ut(r){return{restrict:"A",link:(t,n,e)=>{t.$watch(a=>a.$eval(e.compile),a=>{n.html(a),r(n.contents())(t)})}}}o.ZP.directive("watchChange",zt);function zt(){return{scope:{onchange:"&watchChange"},link:(r,t)=>{t.on("input",()=>{r.$apply(()=>{r.onchange({inputValue:t.val()})})})}}}o.ZP.directive("editorOptBool",["$compile",ee]);function ee(r){return{restrict:"E",link:(t,n,e)=>{const a=e.change?' ng-change="'+e.change+'"':"",l=e.tip?" <tip>"+e.tip+"</tip>":"",m='<div class="editor-option gf-form-checkbox text-center"'+(e.showIf?' ng-show="'+e.showIf+'" ':"")+'> <label for="'+e.model+'" class="small">'+e.text+l+'</label><input class="cr1" id="'+e.model+'" type="checkbox"        ng-model="'+e.model+'"'+a+'       ng-checked="'+e.model+'"></input> <label for="'+e.model+'" class="cr1"></label>';n.replaceWith(r(d().element(m))(t))}}}o.ZP.directive("editorCheckbox",["$compile, $interpolate",ne]);function ne(r,t){return{restrict:"E",link:(n,e,a)=>{const l=t(a.text)(n),u=t(a.model)(n),m=a.change?' ng-change="'+a.change+'"':"",y=a.tip?" <tip>"+a.tip+"</tip>":"",v='<label for="'+n.$id+u+'" class="checkbox-label">'+l+y+"</label>";let O='<input class="cr1" id="'+n.$id+u+'" type="checkbox"        ng-model="'+u+'"'+m+'       ng-checked="'+u+'"></input> <label for="'+n.$id+u+'" class="cr1"></label>';O=O+v,e.addClass("gf-form-checkbox"),e.html(r(d().element(O))(n))}}}o.ZP.directive("gfDropdown",["$parse","$compile","$timeout",re]);function re(r,t,n){function e(a,l){const m=['<ul class="dropdown-menu '+(l==="top"?"dropup":"")+'" role="menu" aria-labelledby="drop1">',"</ul>"];for(let y=0;y<a.length;y++){const v=a[y];if(v.divider){m.splice(y+1,0,'<li class="divider"></li>');continue}let O="<li"+(v.submenu&&v.submenu.length?' class="dropdown-submenu"':"")+'><a tabindex="-1" ng-href="'+(v.href||"")+'"'+(v.click?' ng-click="'+v.click+'"':"")+(v.target?' target="'+v.target+'"':"")+(v.method?' data-method="'+v.method+'"':"")+">"+(v.text||"")+"</a>";v.submenu&&v.submenu.length&&(O+=e(v.submenu).join(`
`)),O+="</li>",m.splice(y+1,0,O)}return m}return{restrict:"EA",scope:!0,link:function(l,u,m){const y=r(m.gfDropdown),v=y(l);n(()=>{const O=u.data("placement");d().element(e(v,O).join("")).insertAfter(u),t(u.next("ul.dropdown-menu"))(l)}),u.addClass("dropdown-toggle").attr("data-toggle","dropdown")}}}o.ZP.directive("bsTooltip",["$parse","$compile",function(r,t){return{restrict:"A",scope:!0,link:function(e,a,l){let u=r(l.bsTooltip),m=u(e);e.$watch(l.bsTooltip,function(v,O){v!==O&&(m=v)}),a.on("show",function(v){P()(".tooltip.in").each(function(){const O=P()(this),f=O.data("tooltip");f&&!f.$element.is(a)&&O.tooltip("hide")})}),a.tooltip({title:function(){return d().isFunction(m)?m.apply(null,arguments):m},html:!0,container:"body"});const y=a.data("tooltip");y.show=function(){const v=P().fn.tooltip.Constructor.prototype.show.apply(this,arguments);return this.tip().data("tooltip",this),v},e._tooltip=function(v){a.tooltip(v)},e.hide=function(){a.tooltip("hide")},e.show=function(){a.tooltip("show")},e.dismiss=e.hide}}}]),o.ZP.directive("bsTypeahead",["$parse",function(r){return{restrict:"A",require:"?ngModel",link:function(n,e,a,l){let u=r(a.bsTypeahead),m=u(n);n.$watch(a.bsTypeahead,function(v,O){v!==O&&(m=v)}),e.attr("data-provide","typeahead"),e.typeahead({source:function(){return d().isFunction(m)?m.apply(null,arguments):m},minLength:a.minLength||1,items:a.item,updater:function(v){return l&&n.$apply(function(){l.$setViewValue(v)}),n.$emit("typeahead-updated",v),v}});const y=e.data("typeahead");y.lookup=function(){let v;return this.query=this.$element.val()||"",this.query.length<this.options.minLength?this.shown?this.hide():this:(v=(0,g.isFunction)(this.source)?this.source(this.query,P().proxy(this.process,this)):this.source,v?this.process(v):this)},a.matchAll&&(y.matcher=function(){return!0}),a.minLength==="0"&&setTimeout(function(){e.on("focus",function(){e.val().length===0&&setTimeout(e.typeahead.bind(e,"lookup"),200)})})}}}]);var ie=i(17201);function ae(){return{restrict:"A",priority:1,require:"ngModel",link:(r,t,n,e)=>{n.type==="radio"||n.type==="checkbox"||(t.off("input keydown change"),t.bind("blur",()=>{r.$apply(()=>{e.$setViewValue(t.val())})}))}}}function oe(){return{restrict:"A",require:"ngModel",link:(r,t,n,e)=>{e.$parsers.push(a=>a===""?null:a)}}}function se(){return{require:"ngModel",link:(r,t,n,e)=>{e.$validators.integer=(a,l)=>e.$isEmpty(a)||l.indexOf("$")===0||l.indexOf("+$")===0?!0:ie.describeTextRange(l).invalid!==!0}}}o.ZP.directive("ngModelOnblur",ae),o.ZP.directive("emptyToNull",oe),o.ZP.directive("validTimeSpan",se);var le=i(7225),lr=i(90402);function Zt(r,t){const{color:n,borderColor:e}=(0,le.Bx)(r);t.css("background-color",n),t.css("border-color",e)}function ce(){return{scope:{tagColorFromName:"="},link:(r,t)=>{Zt(r.tagColorFromName,t)}}}function ue(){function r(t,n){if(n)return d().isFunction(t.$parent[n])?t.$parent[n]:e=>e[n]}return{restrict:"EA",scope:{model:"=ngModel",onTagsUpdated:"&"},template:"<select multiple></select>",replace:!1,link:function(t,n,e){d().isArray(t.model)||(t.model=[]);const a=P()("select",n);e.placeholder&&a.attr("placeholder",e.placeholder),a.tagsinput({typeahead:{source:d().isFunction(t.$parent[e.typeaheadSource])?t.$parent[e.typeaheadSource]:null},widthClass:e.widthClass,itemValue:r(t,e.itemvalue),itemText:r(t,e.itemtext),tagClass:d().isFunction(t.$parent[e.tagclass])?t.$parent[e.tagclass]:()=>e.tagclass}),a.on("itemAdded",l=>{t.model.indexOf(l.item)===-1&&(t.model.push(l.item),t.onTagsUpdated&&t.onTagsUpdated());const u=a.next().children("span").filter(()=>P()(this).text()===l.item);Zt(l.item,u)}),a.on("itemRemoved",l=>{const u=t.model.indexOf(l.item);u!==-1&&(t.model.splice(u,1),t.onTagsUpdated&&t.onTagsUpdated())}),t.$watch("model",()=>{d().isArray(t.model)||(t.model=[]),a.tagsinput("removeAll");for(let l=0;l<t.model.length;l++)a.tagsinput("add",t.model[l])},!0)}}}o.ZP.directive("tagColorFromName",ce),o.ZP.directive("bootstrapTagsinput",ue);function he(r){let t=r[0];const n=r[r.length-1];let e;t=t.nextSibling;for(let a=1;t!==n&&t;a++)(e||r[a]!==t)&&(e||(e=P()([].slice.call(r,0,a))),e.push(t)),t=t.nextSibling;return e||r}o.ZP.directive("rebuildOnChange",["$animate",de]);function de(r){return{multiElement:!0,terminal:!0,transclude:!0,priority:600,restrict:"E",link:(t,n,e,a,l)=>{let u,m,y;function v(){y&&(y.remove(),y=null),m&&(m.$destroy(),m=null),u&&(y=he(u.clone),r.leave(y).then(()=>{y=null}),u=null)}t.$watch(e.property,function(f,D){m&&f!==D&&v(),!m&&(f||e.showNull)?l((T,G)=>{m=G,T[T.length++]=document.createComment(" end rebuild on change "),u={clone:T},r.enter(T,n.parent(),n)}):v()})}}}o.ZP.directive("giveFocus",()=>(r,t,n)=>{t.click(e=>{e.stopPropagation()}),r.$watch(n.giveFocus,e=>{e&&setTimeout(()=>{t.focus();const a=t[0];if(a.setSelectionRange){const l=t.val().length*2;a.setSelectionRange(l,l)}},200)},!0)});const cr={};class pe{constructor(){const t=()=>{};this.observer=new MutationObserver(t);const n={attributes:!0,attributeFilter:["class"],characterData:!1,childList:!0,subtree:!1};this.observer.observe(d().element(".delta-html")[0],n)}$onDestroy(){this.observer.disconnect()}}function fe(){return{controller:pe,replace:!1,restrict:"A"}}o.ZP.directive("diffDelta",fe);class jt{constructor(t,n,e){this.$scope=t,this.$rootScope=n,this.$anchorScroll=e}goToLine(t){let n;const e=()=>{this.$anchorScroll(`l${t}`),n()};this.$scope.switchView().then(()=>{n=this.$rootScope.$on("json-diff-ready",e.bind(this))})}}jt.$inject=["$scope","$rootScope","$anchorScroll"];function me(){return{controller:jt,controllerAs:"ctrl",replace:!0,restrict:"E",scope:{line:"@lineDisplay",link:"@lineLink",switchView:"&"},template:'<a class="diff-linenum btn btn-inverse btn-small" ng-click="ctrl.goToLine(link)">Line {{ line }}</a>'}}o.ZP.directive("diffLinkJson",me);function ge(){"use strict";return{restrict:"A",require:"ngModel",link:(r,t,n,e)=>{function a(u){return(u||"").split(",")}function l(u){return(0,g.isArray)(u)?(u||"").join(","):u}e.$parsers.push(a),e.$formatters.push(l)}}}o.ZP.directive("arrayJoin",ge);var ve=i(5279),Ot=i(49311),ye=i(89719),be=i(39236),Ce=i(88937),Ee=i(40154),we=i(6037),xe=i(7122),Te=i(69671),Se=i(5334),Ae=i(85498),Pe=i(13771);function vt(r,t,n){o.ZP.directive(r,["reactDirective",e=>e((0,Pe.E)(t,Ae.config.theme2),n)])}var De=i(33204),$e=i(27774),Me=i(56490),ke=i(88511),Oe=i(81382),Dt=i(76932),Le=i(88062),Ie=i(4981),Kt=i(76067),Qt=i(48018),Gt=i(21568);const Re=r=>{const[t,n]=(0,U.useState)(null),e=r.type==="submenu",a=(0,Kt.wW)(Fe),l=r.iconClassName?(0,Qt.toIconName)(r.iconClassName):void 0;switch(r.type){case"divider":return U.createElement("li",{className:"divider"});case"group":return U.createElement("li",null,U.createElement("span",{className:a.groupLabel},r.text));default:return U.createElement("li",{className:e?`dropdown-submenu ${Ne(t)}`:void 0,ref:n,"data-testid":Gt.wl.components.Panels.Panel.menuItems(r.text)},U.createElement("a",{onClick:r.onClick,href:r.href,role:"menuitem"},l&&U.createElement(Ot.J,{name:l,className:a.menuIconClassName}),U.createElement("span",{className:"dropdown-item-text","aria-label":Gt.wl.components.Panels.Panel.headerItems(r.text)},r.text,e&&U.createElement(Ot.J,{name:"angle-right",className:a.shortcutIconClassName})),r.shortcut&&U.createElement("span",{className:"dropdown-menu-item-shortcut"},U.createElement(Ot.J,{name:"keyboard",className:a.menuIconClassName})," ",r.shortcut)),r.children)}};function Ne(r){if(!r)return"invisible";const t=r.parentElement.getBoundingClientRect(),n=r.getBoundingClientRect();return n.width===0?"invisible":t.right+n.width+10>window.innerWidth?"pull-left":"pull-right"}function Fe(r){return{menuIconClassName:(0,Dt.css)({marginRight:r.spacing(1),"a::after":{display:"none"}}),shortcutIconClassName:(0,Dt.css)({position:"absolute",top:"7px",right:r.spacing(.5),color:r.colors.text.secondary}),groupLabel:(0,Dt.css)({color:r.colors.text.secondary,fontSize:r.typography.size.sm,padding:r.spacing(.5,1)})}}var Ue=i(8466),ze=i(13807);const Be=({children:r,customCss:t})=>{if(!r||r.length===0)return null;const n=r.find(e=>e.active===!0);return U.createElement("div",{className:`gf-form-select-wrapper width-20 ${t}`},U.createElement("div",{className:"dropdown"},U.createElement("button",{type:"button",className:"gf-form-input dropdown-toggle","data-toggle":"dropdown",style:{textAlign:"left"}},n?.text),U.createElement("ul",{role:"menu",className:"dropdown-menu dropdown-menu--menu"},r.map(e=>e.hideFromTabs?null:U.createElement(Re,{key:e.url,iconClassName:e.icon,text:e.text,href:e.url})))))},We=({children:r})=>!r||r.length===0?null:U.createElement("nav",null,U.createElement(Be,{customCss:"page-header__select-nav"},r),U.createElement(Le.J,{className:"page-header__tabs",hideBorder:!0},r.map((t,n)=>!t.hideFromTabs&&U.createElement(Ie.O,{label:t.text,active:t.active,key:`${t.url}-${n}`,icon:t.icon,href:t.url,suffix:t.tabSuffix})))),Ve=({navItem:r,renderTitle:t,actions:n,info:e,subTitle:a})=>{const l=(0,Kt.wW)(Ze);if(!r)return null;const u=m=>{const y=m.icon==="grafana"?12:14,v=m.icon&&(0,Qt.toIconName)(m.icon),O=a??m.subTitle;return U.createElement("div",{className:"page-header__inner"},U.createElement("span",{className:"page-header__logo"},v&&U.createElement(Ot.J,{name:v,size:"xxxl",style:{marginTop:y}}),m.img&&U.createElement("img",{className:"page-header__img",src:m.img,alt:""})),U.createElement("div",{className:(0,Dt.cx)("page-header__info-block",l.headerText)},t?t(m.text):He(m.text,m.highlightText),e&&U.createElement(Ue.S,{info:e}),O&&U.createElement("div",{className:"page-header__sub-title"},O),n&&U.createElement("div",{className:l.actions},n)))};return U.createElement("div",{className:l.headerCanvas},U.createElement("div",{className:"page-container"},U.createElement("div",{className:"page-header"},u(r),r.children&&r.children.length>0&&U.createElement(We,null,r.children))))};function He(r,t){return r?U.createElement("h1",{className:"page-header__title"},r,t&&U.createElement(ze.Z,{text:t,className:(0,Dt.css)`
            vertical-align: middle;
          `})):null}const Ze=r=>({actions:(0,Dt.css)({display:"flex",flexDirection:"row",gap:r.spacing(1)}),headerText:(0,Dt.css)({display:"flex",flexDirection:"column",gap:r.spacing(1)}),headerCanvas:(0,Dt.css)`
    background: ${r.colors.background.canvas};
  `});var je=i(38834);const Ke=r=>{const{value:t,placeholder:n,className:e,isSearchable:a,onChange:l}=r,u=Qe(r),m=Ge(u,t),y=(0,U.useCallback)(v=>l(v.value),[l]);return U.createElement(je.Ph,{className:e,isMulti:!1,isClearable:!1,backspaceRemovesValue:!1,onChange:y,options:u,isSearchable:a,maxMenuHeight:500,placeholder:n,noOptionsMessage:"No options found",value:m})},Qe=({variables:r=[],options:t})=>(0,U.useMemo)(()=>!Array.isArray(r)||r.length===0?t:[{label:"Template Variables",options:r.map(({name:n})=>({label:`$${n}`,value:`$${n}`}))},...t],[r,t]),Ge=(r,t)=>(0,U.useMemo)(()=>(r.every(e=>e.options)?(0,g.flatten)(r.map(e=>e.options)):r).find(e=>e.value===t),[r,t]);var Je=i(41374),Xe=i(96190);const{SecretFormField:Ye}=ve.LegacyForms;function qe(){vt("footer",Oe.$_,[]),vt("icon",Ot.J,["name","size","type",["onClick",{watchDepth:"reference",wrapApply:!0}]]),vt("spinner",ye.$,["inline"]),vt("helpModal",Xe.B,[]),vt("pageHeader",Ve,["model","noTabs"]),vt("emptyListCta",ke.Z,["title","buttonIcon","buttonLink","buttonTitle",["onClick",{watchDepth:"reference",wrapApply:!0}],"proTip","proTipLink","proTipLinkTitle","proTipTarget","infoBox","infoBoxTitle"]),vt("tagFilter",Je.D,["tags",["onChange",{watchDepth:"reference"}],["tagOptions",{watchDepth:"reference"}]]),vt("colorPicker",be.zH,["color",["onChange",{watchDepth:"reference",wrapApply:!0}]]),vt("seriesColorPickerPopover",Ce.q,["color","series","onColorChange","onToggleAxis"]),vt("unitPicker",Ee.n,["value","width",["onChange",{watchDepth:"reference",wrapApply:!0}]]),vt("metricSelect",Ke,["options","onChange","value","isSearchable","className","placeholder",["variables",{watchDepth:"reference"}]]),vt("cloudMonitoringQueryEditor",Me.W,["target","onQueryChange","onExecuteQuery",["events",{watchDepth:"reference"}],["datasource",{watchDepth:"reference"}],["templateSrv",{watchDepth:"reference"}]]),vt("secretFormField",Ye,["value","isConfigured","inputWidth","labelWidth","aria-label",["onReset",{watchDepth:"reference",wrapApply:!0}],["onChange",{watchDepth:"reference",wrapApply:!0}]]),vt("graphContextMenu",we.w,["x","y","itemsGroup",["onClose",{watchDepth:"reference",wrapApply:!0}],["getContextMenuSource",{watchDepth:"reference",wrapApply:!0}],["timeZone",{watchDepth:"reference",wrapApply:!0}]]),vt("drilldownLinksEditor",xe.d,["value","links","suggestions",["onChange",{watchDepth:"reference",wrapApply:!0}]]),vt("datasourceHttpSettingsNext",Te.E,["defaultUrl","showAccessOptions","dataSourceConfig","showForwardOAuthIdentityOption",["onChange",{watchDepth:"reference",wrapApply:!0}]]),vt("folderPicker",De.Fz,["labelClass","rootName","enableCreateNew","enableReset","initialTitle","initialFolderId","dashboardId","onCreateFolder",["enterFolderCreation",{watchDepth:"reference",wrapApply:!0}],["exitFolderCreation",{watchDepth:"reference",wrapApply:!0}],["onLoad",{watchDepth:"reference",wrapApply:!0}],["onChange",{watchDepth:"reference",wrapApply:!0}]]),vt("timePickerSettings",$e.P,["renderCount","refreshIntervals","timePickerHidden","nowDelay","timezone",["onTimeZoneChange",{watchDepth:"reference",wrapApply:!0}],["onRefreshIntervalChange",{watchDepth:"reference",wrapApply:!0}],["onNowDelayChange",{watchDepth:"reference",wrapApply:!0}],["onHideTimePickerChange",{watchDepth:"reference",wrapApply:!0}]]),vt("clipboardButton",Se.m,[["getText",{watchDepth:"reference",wrapApply:!0}]])}var Bt=i(67598);const _e=`
<div class="dropdown cascade-open">
<a ng-click="showActionsMenu()" class="query-part-name pointer dropdown-toggle" data-toggle="dropdown">{{part.def.type}}</a>
<span>(</span><span class="query-part-parameters"></span><span>)</span>
<ul class="dropdown-menu">
  <li ng-repeat="action in partActions">
    <a ng-click="triggerPartAction(action)">{{action.text}}</a>
  </li>
</ul>
`;o.ZP.directive("queryPartEditor",["templateSrv",tn]);function tn(r){const t='<input type="text" class="hide input-mini tight-form-func-param"></input>';return{restrict:"E",template:_e,scope:{part:"=",handleEvent:"&",debounce:"@"},link:function(e,a){const l=e.part,u=l.def,m=a.find(".query-part-parameters"),y=e.debounce;e.partActions=[];function v(N){const _=P()(this),J=_.next();J.val(l.params[N]),J.css("width",_.width()+16+"px"),_.hide(),J.show(),J.focus(),J.select();const rt=J.data("typeahead");rt&&(J.val(""),rt.lookup())}function O(N){const _=P()(this),J=_.prev(),rt=_.val();(rt!==""||l.def.params[N].optional)&&(J.html(r.highlightVariablesAsHtml(rt)),l.updateParam(_.val(),N),e.$apply(()=>{e.handleEvent({$event:{name:"part-param-changed"}})})),_.hide(),J.show()}function f(N,_){_.which===13&&O.call(this,N)}function D(){this.style.width=(3+this.value.length)*8+"px"}function T(N,_,J){if(!_.options&&!_.dynamicLookup)return;const rt=(yt,wt)=>{if(_.options){let Et=_.options;return _.type==="int"&&(Et=(0,g.map)(Et,It=>It.toString())),Et}e.$apply(()=>{e.handleEvent({$event:{name:"get-param-options"}}).then(Et=>{const It=(0,g.map)(Et,$t=>(0,g.escape)($t.value));wt(It)})})};N.attr("data-provide","typeahead"),N.typeahead({source:rt,minLength:0,items:1e3,updater:yt=>(yt=(0,g.unescape)(yt),setTimeout(()=>{O.call(N[0],J)},0),yt)});const ct=N.data("typeahead");ct.lookup=function(){this.query=this.$element.val()||"";const yt=this.source(this.query,P().proxy(this.process,this));return yt&&this.process(yt)},y&&(ct.lookup=(0,g.debounce)(ct.lookup,500,{leading:!0}))}e.showActionsMenu=()=>{(0,Bt.E)(e)(e.handleEvent({$event:{name:"get-part-actions"}}).then(N=>{e.partActions=N}))},e.triggerPartAction=N=>{e.handleEvent({$event:{name:"action",action:N}})};function G(){(0,g.each)(u.params,(N,_)=>{if(N.optional&&l.params.length<=_)return;_>0&&P()("<span>, </span>").appendTo(m);const J=r.highlightVariablesAsHtml(l.params[_]),rt=P()('<a class="graphite-func-param-link pointer">'+J+"</a>"),ct=P()(t);rt.appendTo(m),ct.appendTo(m),ct.blur((0,g.partial)(O,_)),ct.keyup(D),ct.keypress((0,g.partial)(f,_)),rt.click((0,g.partial)(v,_)),T(ct,N,_)})}function ht(){m.empty(),G()}ht()}}}function en(r){let t=this.query;return t===""?!0:(t[0]==="/"&&(t=t.substring(1)),t[t.length-1]==="/"&&(t=t.substring(0,t.length-1)),r.toLowerCase().match(t.toLowerCase()))}class Jt{constructor(t,n,e,a){this.$scope=t,this.$sce=e,this.templateSrv=a,this.inputElement=n.find("input").first(),this.linkElement=n.find("a").first(),this.linkMode=!0,this.cancelBlur=null,this.labelMode=!1,this.lookupText=!1,this.debounce=!1,t.$watch("ctrl.model",this.modelChanged.bind(this))}$onInit(){this.labelMode?this.cssClasses="gf-form-label "+this.cssClass:this.cssClasses="gf-form-input gf-form-input--dropdown "+this.cssClass,this.placeholder&&this.inputElement.attr("placeholder",this.placeholder),this.inputElement.attr("data-provide","typeahead"),this.inputElement.typeahead({source:this.typeaheadSource.bind(this),minLength:0,items:1e4,updater:this.typeaheadUpdater.bind(this),matcher:en});const t=this.inputElement.data("typeahead");t.lookup=function(){this.query=this.$element.val()||"",this.source(this.query,this.process.bind(this))},this.debounce&&(t.lookup=(0,g.debounce)(t.lookup,500,{leading:!0})),this.linkElement.keydown(n=>{(n.keyCode===40||n.keyCode===13)&&this.linkElement.click()}),this.inputElement.keydown(n=>{n.keyCode===13&&setTimeout(()=>{this.inputElement.blur()},300)}),this.inputElement.blur(this.inputBlur.bind(this)),this.startOpen&&setTimeout(this.open.bind(this),0)}getOptionsInternal(t){return(0,Bt.E)(this.$scope)(Promise.resolve(this.getOptions({$query:t})))}isPromiseLike(t){return t&&typeof t.then=="function"}modelChanged(){(0,g.isObject)(this.model)?this.updateDisplay(this.model.text):this.lookupText?this.getOptionsInternal("").then(t=>{const n=(0,g.find)(t,{value:this.model});this.updateDisplay(n?n.text:this.model)}):this.updateDisplay(this.model)}typeaheadSource(t,n){this.getOptionsInternal(t).then(e=>{this.optionCache=e;const a=(0,g.map)(e,l=>(0,g.escape)(l.text));this.allowCustom&&this.text!==""&&(0,g.indexOf)(a,this.text)===-1&&a.unshift(this.text),n(a)})}typeaheadUpdater(t){return t===this.text?(clearTimeout(this.cancelBlur),this.inputElement.focus(),t):(this.inputElement.val(t),this.switchToLink(!0),t)}switchToLink(t){this.linkMode&&!t||(clearTimeout(this.cancelBlur),this.cancelBlur=null,this.linkMode=!0,this.inputElement.hide(),this.linkElement.show(),this.updateValue(this.inputElement.val()))}inputBlur(){this.cancelBlur=setTimeout(this.switchToLink.bind(this),200)}updateValue(t){t=(0,g.unescape)(t),!(t===""||this.text===t)&&this.$scope.$apply(()=>{const n=(0,g.find)(this.optionCache,{text:t});n?((0,g.isObject)(this.model)?this.model=n:this.model=n.value,this.text=n.text):this.allowCustom&&((0,g.isObject)(this.model)?this.model.text=this.model.value=t:this.model=t,this.text=t),this.$scope.$$postDigest(()=>{this.$scope.$apply(()=>{this.onChange({$option:n})})})})}updateDisplay(t){this.text=t,this.display=this.$sce.trustAsHtml(this.templateSrv.highlightVariablesAsHtml(t))}open(){this.inputElement.css("width",Math.max(this.linkElement.width(),80)+16+"px"),this.inputElement.show(),this.inputElement.focus(),this.linkElement.hide(),this.linkMode=!1;const t=this.inputElement.data("typeahead");t&&(this.inputElement.val(""),t.lookup())}}Jt.$inject=["$scope","$element","$sce","templateSrv"];const nn=`
<input type="text"
  data-provide="typeahead"
  class="gf-form-input"
  spellcheck="false"
  style="display:none">
</input>
<a ng-class="ctrl.cssClasses"
   tabindex="1"
   ng-click="ctrl.open()"
   give-focus="ctrl.focus"
   ng-bind-html="ctrl.display || '&nbsp;'">
</a>
`;function rn(){return{restrict:"E",template:nn,controller:Jt,bindToController:!0,controllerAs:"ctrl",scope:{model:"=",getOptions:"&",onChange:"&",cssClass:"@",allowCustom:"@",labelMode:"@",lookupText:"@",placeholder:"@",startOpen:"@",debounce:"@"}}}o.ZP.directive("gfFormDropdown",rn);const an=`
<div class="baron__track">
  <div class="baron__bar"></div>
</div>
`,on="baron baron__root",sn="baron__scroller";function ln(){return{restrict:"A",link:(r,t,n)=>{let e=t.parent();const a=t;n.grafanaScrollbar&&n.grafanaScrollbar==="scrollonroot"&&(e=a),e.addClass(on),P()(an).appendTo(e),t.addClass(sn);const l={root:e[0],scroller:a[0],bar:".baron__bar",barOnCls:"_scrollbar",scrollingCls:"_scrolling",track:".baron__track",direction:"v"},u=I()(l);r.$on("$destroy",()=>{u.dispose()})}}}o.ZP.directive("grafanaScrollbar",ln);var cn=i(71756);o.ZP.directive("jsonTree",[function(){return{restrict:"E",scope:{object:"=",startExpanded:"@",rootName:"@"},link:(t,n)=>{let e=t.startExpanded;t.startExpanded==="true"?e=2:t.startExpanded==="false"&&(e=1);const a={[t.rootName]:t.object},u=new cn.u(a,e,{animateOpen:!0}).render(!0);n.append(u)}}}]);const un=`
<label for="check-{{ctrl.id}}" class="gf-form-switch-container">
  <div class="gf-form-label {{ctrl.labelClass}}" ng-show="ctrl.label">
    {{ctrl.label}}
    <info-popover mode="right-normal" ng-if="ctrl.tooltip" position="top center">
      {{ctrl.tooltip}}
    </info-popover>
  </div>
  <div class="gf-form-switch {{ctrl.switchClass}}" ng-if="ctrl.show">
    <input id="check-{{ctrl.id}}" type="checkbox" ng-model="ctrl.checked" ng-change="ctrl.internalOnChange()">
    <span class="gf-form-switch__slider"></span>
  </div>
</label>
`,hn=`
<label for="check-{{ctrl.id}}" class="gf-form-switch-container">
   <div class="gf-form-label {{ctrl.labelClass}}" ng-show="ctrl.label">
    {{ctrl.label}}
    <info-popover mode="right-normal" ng-if="ctrl.tooltip" position="top center">
      {{ctrl.tooltip}}
    </info-popover>
  </div>
  <div class="gf-form-checkbox {{ctrl.switchClass}}" ng-if="ctrl.show">
    <input id="check-{{ctrl.id}}" type="checkbox" ng-model="ctrl.checked" ng-change="ctrl.internalOnChange()">
    <span class="gf-form-switch__checkbox"></span>
  </div>
</label>
`;class Wt{constructor(t,n){this.$timeout=n,this.show=!0,this.id=t.$id}internalOnChange(){return this.$timeout(()=>this.onChange())}}Wt.$inject=["$scope","$timeout"];function dn(){return{restrict:"E",controller:Wt,controllerAs:"ctrl",bindToController:!0,scope:{checked:"=",label:"@",labelClass:"@",tooltip:"@",switchClass:"@",onChange:"&"},template:un}}function pn(){return{restrict:"E",controller:Wt,controllerAs:"ctrl",bindToController:!0,scope:{checked:"=",label:"@",labelClass:"@",tooltip:"@",switchClass:"@",onChange:"&"},template:hn}}o.ZP.directive("gfFormSwitch",dn),o.ZP.directive("gfFormCheckbox",pn);function fn(){return{restrict:"E",template:`<icon name="'info-circle'" style="margin-left: 10px;" size="'xs'"></icon>`,transclude:!0,link:(r,t,n,e,a)=>{const l=n.offset||"0 -10px",u=n.position||"right middle";let m="drop-help drop-hide-out-of-bounds";const y="hover";t.addClass("gf-form-help-icon"),n.wide&&(m+=" drop-wide"),n.mode&&t.addClass("gf-form-help-icon--"+n.mode),a((v,O)=>{const f=document.createElement("div");f.className="markdown-html",(0,g.each)(v,T=>{f.appendChild(T)});const D={target:t[0],content:f,position:u,classes:m,openOn:y,hoverOpenDelay:400,tetherOptions:{offset:l,constraints:[{to:"window",attachment:"together",pin:!0}]}};r.$applyAsync(()=>{const T=new(et())(D),G=r.$on("$destroy",()=>{T.destroy(),G()})})})}}}o.ZP.directive("infoPopover",fn),o.ZP.directive("spectrumPicker",mn);function mn(){return{restrict:"E",require:"ngModel",scope:!0,replace:!0,template:'<color-picker color="ngModel.$viewValue" on-change="onColorChange"></color-picker>',link:(r,t,n,e)=>{r.ngModel=e,r.onColorChange=a=>{e.$setViewValue(a)}}}}var kt=i(83811);const gn="ace/theme/grafana-dark",vn="ace/theme/textmate",yn="text",bn=10,Cn=2,En=!0,wn=!0,xn="<div></div>";async function Tn(r,t,n){const e=n.mode||yn,a=n.maxLines||bn,l=n.showGutter!==void 0,u=n.tabSize||Cn,m=n.behavioursEnabled?n.behavioursEnabled==="true":En,y=n.snippetsEnabled?n.snippetsEnabled==="true":wn,v=t.get(0),{default:O}=await i.e(5673).then(i.t.bind(i,45909,23));await i.e(4073).then(i.t.bind(i,64073,23)),await i.e(8990).then(i.t.bind(i,78990,23)),await i.e(9371).then(i.t.bind(i,9371,23)),await i.e(1637).then(i.t.bind(i,81637,23)),await i.e(4104).then(i.t.bind(i,84104,23)),await i.e(6355).then(i.t.bind(i,16355,23)),await i.e(9524).then(i.t.bind(i,29524,23)),await i.e(1962).then(i.t.bind(i,21962,23)),await i.e(6665).then(i.t.bind(i,6665,23)),await i.e(8082).then(i.t.bind(i,28082,23)),await i.e(988).then(i.t.bind(i,80988,23)),await i.e(2136).then(i.t.bind(i,62136,23)),await i.e(7428).then(i.t.bind(i,57428,23));const f=O.edit(v),D=f.getSession(),T={maxLines:a,showGutter:l,tabSize:u,behavioursEnabled:m,highlightActiveLine:!1,showPrintMargin:!1,autoScrollEditorIntoView:!0};f.setOptions(T),f.$blockScrolling=1/0,f.renderer.setScrollMargin(10,10),f.renderer.setPadding(10),N(),ht(e),_(r.content),t.addClass("gf-code-editor");const G=t.find("textarea");G.addClass("gf-form-input"),G.attr("aria-label",n.textareaLabel),r.codeEditorFocus&&setTimeout(()=>{G.focus();const J=G[0];if(J.setSelectionRange){const rt=G.val().length*2;J.setSelectionRange(rt,rt)}},100),D.on("change",J=>{r.$apply(()=>{const rt=f.getValue();r.content=rt})}),r.$watch("content",(J,rt)=>{const ct=f.getValue();J!==ct&&J!==rt&&r.$$postDigest(()=>{_(J)})}),f.on("blur",()=>{r.onChange()}),r.$on("$destroy",()=>{f.destroy()}),f.commands.addCommand({name:"executeQuery",bindKey:{win:"Ctrl-Enter",mac:"Command-Enter"},exec:()=>{r.onChange()}});function ht(J){if(O.acequire("ace/ext/language_tools"),f.setOptions({enableBasicAutocompletion:!0,enableLiveAutocompletion:!0,enableSnippets:y}),r.getCompleter()){const ct=f;ct.completers=ct.completers.slice(),ct.completers.push(r.getCompleter())}const rt=`ace/mode/${J}`;D.setMode(rt)}function N(){let J=gn;kt.default.bootData.user.lightTheme&&(J=vn),f.setTheme(J)}function _(J){f.setValue(J),f.clearSelection()}}function Sn(){return{restrict:"E",template:xn,scope:{content:"=",datasource:"=",codeEditorFocus:"<",onChange:"&",getCompleter:"&"},link:Tn}}o.ZP.directive("codeEditor",Sn);const An=`
<div class="dropdown cascade-open">
<a ng-click="showActionsMenu()" class="query-part-name pointer dropdown-toggle" data-toggle="dropdown">{{part.label}}</a>
<span>{{part.def.wrapOpen}}</span><span class="query-part-parameters"></span><span>{{part.def.wrapClose}}</span>
<ul class="dropdown-menu">
  <li ng-repeat="action in partActions">
    <a ng-click="triggerPartAction(action)">{{action.text}}</a>
  </li>
</ul>
`;o.ZP.directive("sqlPartEditor",["templateSrv",Pn]);function Pn(r){const t='<input type="text" class="hide input-mini"></input>';return{restrict:"E",template:An,scope:{part:"=",handleEvent:"&",debounce:"@"},link:function(e,a){const l=e.part,u=l.def,m=a.find(".query-part-parameters"),y=e.debounce;let v=null;e.partActions=[];function O(J){const rt=P()(this),ct=rt.next();ct.val(l.params[J]),ct.css("width",rt.width()+16+"px"),rt.hide(),ct.show(),ct.focus(),ct.select();const yt=ct.data("typeahead");yt&&(ct.val(""),yt.lookup())}function f(J,rt){v=setTimeout(()=>{D(J,rt)},200)}function D(J,rt){const ct=J.prev(),yt=J.val();(yt!==""||l.def.params[rt].optional)&&(ct.html(r.highlightVariablesAsHtml(yt)),l.updateParam(J.val(),rt),e.$apply(()=>{e.handleEvent({$event:{name:"part-param-changed"}})})),J.hide(),ct.show()}function T(J,rt){rt.which===13&&D(P()(this),J)}function G(){this.style.width=(3+this.value.length)*8+"px"}function ht(J,rt,ct){if(!rt.options&&!rt.dynamicLookup)return;const yt=(Et,It)=>{if(rt.options){let $t=rt.options;return rt.type==="int"&&($t=(0,g.map)($t,Rt=>Rt.toString())),$t}e.$apply(()=>{e.handleEvent({$event:{name:"get-param-options",param:rt}}).then($t=>{const Rt=(0,g.map)($t,sr=>(0,g.escape)(sr.value));(0,g.indexOf)(Rt,l.params[ct])===-1&&Rt.unshift((0,g.escape)(l.params[ct])),It(Rt)})})};J.attr("data-provide","typeahead"),J.typeahead({source:yt,minLength:0,items:1e3,updater:Et=>(Et=(0,g.unescape)(Et),Et===l.params[ct]&&(clearTimeout(v),J.focus()),Et)});const wt=J.data("typeahead");wt.lookup=function(){this.query=this.$element.val()||"";const Et=this.source(this.query,P().proxy(this.process,this));return Et&&this.process(Et)},y&&(wt.lookup=(0,g.debounce)(wt.lookup,500,{leading:!0}))}e.showActionsMenu=()=>{e.handleEvent({$event:{name:"get-part-actions"}}).then(J=>{e.partActions=J})},e.triggerPartAction=J=>{e.handleEvent({$event:{name:"action",action:J}})};function N(){(0,g.each)(u.params,(J,rt)=>{if(J.optional&&l.params.length<=rt)return;rt>0&&P()("<span>"+u.separator+"</span>").appendTo(m);const ct=r.highlightVariablesAsHtml(l.params[rt]),yt=P()('<a class="query-part__link">'+ct+"</a>"),wt=P()(t);yt.appendTo(m),wt.appendTo(m),wt.blur((0,g.partial)(f,wt,rt)),wt.keyup(G),wt.keypress((0,g.partial)(T,rt)),yt.click((0,g.partial)(O,rt)),ht(wt,J,rt)})}function _(){m.empty(),N()}_()}}}o.hF.directive("datasourceHttpSettings",()=>({scope:{current:"=",suggestUrl:"@",noDirectAccess:"@",showForwardOAuthIdentityOption:"@"},templateUrl:"public/app/angular/partials/http_settings_next.html",link:{pre:r=>{r.showAccessOption=r.noDirectAccess!=="true",r.onChange=t=>{r.current=t}}}})),o.hF.directive("datasourceTlsAuthSettings",()=>({scope:{current:"="},templateUrl:"public/app/angular/partials/tls_auth_settings.html"}));var Xt=i(33521),Vt=i(8913);o.ZP.directive("pluginComponent",["$compile","$http","$templateCache","$location",Dn]);function Dn(r,t,n,e){function a(f){if(f.template)return Promise.resolve(f.template);const D=n.get(f.templateUrl);return D?Promise.resolve(D):t.get(f.templateUrl).then(T=>T.data)}function l(f,D){if(f)return f.indexOf("public")===0?f:D+"/"+f}function u(f){return f.Component.templateUrl=l(f.Component.templateUrl,f.baseUrl),()=>({templateUrl:f.Component.templateUrl,template:f.Component.template,restrict:"E",controller:f.Component,controllerAs:"ctrl",bindToController:!0,scope:f.bindings,link:(D,T,G,ht)=>{ht.link&&ht.link(D,T,G,ht),ht.init&&ht.init()}})}function m(f,D){const T={name:"panel-plugin-"+f.panel.type,bindings:{dashboard:"=",panel:"=",row:"="},attrs:{dashboard:"dashboard",panel:"panel",class:"panel-height-helper"}},G=kt.default.panels[f.panel.type];return(0,Xt.Ub)(G.id).then(ht=>{const N=ht.angularPanelCtrl;return T.Component=N,!N||N.registered?T:N.templatePromise?N.templatePromise.then(_=>T):(G&&(N.templateUrl=l(N.templateUrl,G.baseUrl)),N.templatePromise=a(N).then(_=>(N.templateUrl=null,N.template=`<grafana-panel ctrl="ctrl" class="panel-height-helper">${_}</grafana-panel>`,{...T,baseUrl:G.baseUrl})),N.templatePromise)})}function y(f,D){switch(D.type){case"query-ctrl":{const T=f.ctrl.datasource;return Promise.resolve({baseUrl:T.meta.baseUrl,name:"query-ctrl-"+T.meta.id,bindings:{target:"=",panelCtrl:"=",datasource:"="},attrs:{target:"ctrl.target","panel-ctrl":"ctrl",datasource:"ctrl.datasource"},Component:T.components.QueryCtrl})}case"annotations-query-ctrl":{const T=f.ctrl.currentDatasource.meta.baseUrl,G=f.ctrl.currentDatasource.meta.id;return(0,Vt.nL)(f.ctrl.currentDatasource.meta).then(ht=>({baseUrl:T,name:"annotations-query-ctrl-"+G,bindings:{annotation:"=",datasource:"="},attrs:{annotation:"ctrl.currentAnnotation",datasource:"ctrl.currentDatasource"},Component:ht.components.AnnotationsQueryCtrl}))}case"datasource-config-ctrl":{const T=f.ctrl.datasourceMeta,G=e.url();return(0,Vt.nL)(T).then(ht=>(f.$watch("ctrl.current",()=>{G===e.url()&&f.onModelChanged(f.ctrl.current)},!0),{baseUrl:T.baseUrl,name:"ds-config-"+T.id,bindings:{meta:"=",current:"="},attrs:{meta:"ctrl.datasourceMeta",current:"ctrl.current"},Component:ht.angularConfigCtrl}))}case"app-config-ctrl":{const T=f.ctrl.model;return(0,Vt.Av)(T).then(G=>({baseUrl:T.baseUrl,name:"app-config-"+T.id,bindings:{appModel:"=",appEditCtrl:"="},attrs:{"app-model":"ctrl.model","app-edit-ctrl":"ctrl"},Component:G.angularConfigCtrl}))}case"panel":return m(f,D);default:return Promise.reject({message:"Could not find component type: "+D.type})}}function v(f,D,T){const G=d().element(document.createElement(T.name));(0,g.each)(T.attrs,(ht,N)=>{G.attr(N,ht)}),r(G)(f),D.empty(),setTimeout(()=>{f.$applyAsync(()=>{D.append(G),setTimeout(()=>{f.$applyAsync(()=>{f.$broadcast(A.Kh.componentDidMount.name)})})})})}function O(f,D,T,G){if(G.notFound){D.empty();return}if(!G.Component)throw{message:"Failed to find exported plugin component for "+G.name};if(!G.Component.registered){const ht=T.$normalize(G.name),N=u(G);o.ZP.directive(ht,N),G.Component.registered=!0}v(f,D,G)}return{restrict:"E",link:(f,D,T)=>{y(f,T).then(G=>{O(f,D,T,G)}).catch(G=>{console.error("Plugin component error",G)})}}}var Yt=i(80091),$n=i(28109),Mn=i(63956),Lt=i(83599);class qt{constructor(t,n,e,a,l,u){(0,Yt.W)(l),(0,$n.t)(u),t.init=()=>{t.contextSrv=a,t.appSubUrl=kt.default.appSubUrl,t._=it(),n.init()},e.colors=Mn.O9,e.onAppEvent=function(m,y,v){let O;typeof m=="string"?O=e.$on(m,y):O=e.$on(m.name,y);let f=this;f.$id===1&&!v&&console.warn("warning rootScope onAppEvent called without localscope"),v&&(f=v),f.$on("$destroy",O)},e.appEvent=(m,y)=>{typeof m=="string"?(e.$emit(m,y),Lt.Z.emit(m,y)):(e.$emit(m.name,y),Lt.Z.emit(m,y))},t.init()}}qt.$inject=["$scope","utilSrv","$rootScope","contextSrv","angularLoader","$injector"];function kn(){return{restrict:"E",controller:qt,link:(r,t)=>{const n=P()("body");P().fn.modal.Constructor.prototype.enforceFocus=()=>{};let e=new Date().getTime(),a=!0;const l=60*5e3;function u(){a&&n.hasClass("page-dashboard")&&new Date().getTime()-e>l&&(a=!1,n.addClass("view-mode--inactive"))}function m(){e=new Date().getTime(),a||(a=!0,n.removeClass("view-mode--inactive"))}n.mousemove(m),n.keydown(m),document.addEventListener("wheel",m,{capture:!0,passive:!0}),document.addEventListener("visibilitychange",m),setInterval(u,2e3),n.click(y=>{const v=P()(y.target);if(v.parents().length===0)return;n.find(".dropdown-menu-open").removeClass("dropdown-menu-open");const O=v.closest("[data-click-hide]");if(O.length){const D=O.parent();O.detach(),setTimeout(()=>{D.append(O)},100)}const f=t.find(".popover");f.length>0&&v.parents(".graph-legend").length===0&&f.hide()})}}}o.ZP.directive("grafanaApp",kn);var ur=i(62461),hr=i(65016),dr=i(5886),On=i(61129),Ln=i(80907),In=i(56811),Rn=i(34750),Nn=i(89660),Fn=i(90736),Un=i(47412),_t=i(19690);class zn{constructor(){this.$get=()=>{},(0,_t.GQ)("Patch angular",!1,"RouteParamsProvider")}}class Bn{constructor(){(0,_t.GQ)("Patch angular",!1,"RouteProvider")}$get(){return this}}var Wn=i(60958);const Vn=()=>{o.hF.config(["$provide",r=>{r.decorator("$browser",["$delegate",t=>(t.onUrlChange=()=>{},t.url=()=>"",t)])}])},Hn=()=>{o.hF.config(["$provide",r=>{r.decorator("$location",["$delegate",t=>(t=new Wn.O,t)])}]),o.hF.provider("$route",Bn),o.hF.provider("$routeParams",zn)};function Zn(){Vn(),Hn()}function jn(r){r.oldInvoke=r.invoke,r.invoke=(t,n,e,a)=>{const l=e?.$scope?.$parent;return l&&(l.panel&&(n.panel=l.panel),l.dashboard&&(n.dashboard=l.dashboard),l.ctrl?.target&&(n.panelCtrl=l.ctrl,n.datasource=l.ctrl.datasource,n.target=l.ctrl.target),l.ctrl?.datasourceMeta&&(n.meta=l.ctrl.datasourceMeta,n.current=l.ctrl.current),l.ctrl?.currentAnnotation&&(n.annotation=l.ctrl.currentAnnotation,n.datasource=l.ctrl.currentDatasource),l.isAppConfigCtrl&&(n.appEditCtrl=l.ctrl,n.appModel=l.ctrl.model),l.$parent?.$parent?.ctrl?.appModel&&(n.appModel=l.$parent?.$parent?.ctrl?.appModel)),r.oldInvoke(t,n,e,a)}}var Kn=i(37153),Qn=i(83994),te=i(60490);function Gn(r){return function(n){const e=(0,U.useRef)(null),a=(0,U.useRef)(),l=(0,U.useRef)();return(0,U.useEffect)(()=>{if(!e.current)return;const u=(0,Yt.w)(),m='<plugin-component type="panel" class="panel-height-helper"></plugin-component>',y=new Xn,v=new Jn(r,n,y);a.current={panel:v,dashboard:(0,te.h4)().getCurrent(),size:{width:n.width,height:n.height},queryRunner:y},l.current=u.load(e.current,a.current,m)},[]),(0,U.useEffect)(()=>{l.current&&(a.current.size.height=n.height,a.current.size.width=n.width,a.current.panel.events.publish(new s._z))},[n.width,n.height]),(0,U.useEffect)(()=>{a.current?.panel&&a.current.queryRunner.forwardNewData(n.data)},[n.data]),U.createElement("div",{ref:e,className:"panel-height-helper"})}}class Jn{constructor(t,n,e){n.options.angularOptions&&Object.assign(this,n.options.angularOptions),this.id=n.id,this.type=t.meta.id,this.title=n.title,this.fieldConfig=n.fieldConfig,this.options=n.options,this.plugin=t,this.events=new Qn.F,this.queryRunner=e}refresh(){this.events.publish(new k.U5)}render(){this.events.publish(new s._z)}getQueryRunner(){return this.queryRunner}}class Xn{constructor(){this.subject=new Kn.t(1)}getData(t){return this.subject}forwardNewData(t){this.subject.next(t)}run(){}}var Yn=i(69391),qn=i(66261),_n=i(75923),tr=i(8239),er=i(95639),St=i(74687);class nr{constructor(){}init(){Lt.h.subscribe(s.le,t=>this.showModal(t.payload)),Lt.h.subscribe(s.OW,this.hideModal.bind(this))}hideModal(){(0,St.d)("UtilSrv","hideModal",""),this.modalScope&&this.modalScope.dismiss&&this.modalScope.dismiss()}showModal(t){(0,St.d)("UtilSrv","showModal","publish ShowModalReactEvent")}}var Ht=i(90642);class rr{clearPromiseCaches(){(0,St.d)("annotations_srv.ts","clearPromiseCaches","DashboardQueryRunner")}getAnnotations(t){return(0,St.d)("annotations_srv.ts","getAnnotations","DashboardQueryRunner.getResult"),Promise.resolve({annotations:[],alertState:void 0})}getAlertStates(t){return(0,St.d)("annotations_srv.ts","getAlertStates","DashboardQueryRunner.getResult"),Promise.resolve(void 0)}getGlobalAnnotations(t){return(0,St.d)("annotations_srv.ts","getGlobalAnnotations","DashboardQueryRunner.getResult"),Promise.resolve([])}saveAnnotationEvent(t){return(0,St.d)("annotations_srv.ts","saveAnnotationEvent","api/saveAnnotation"),(0,Ht.xD)(t)}updateAnnotationEvent(t){return(0,St.d)("annotations_srv.ts","updateAnnotationEvent","api/updateAnnotation"),(0,Ht._E)(t)}deleteAnnotationEvent(t){return(0,St.d)("annotations_srv.ts","deleteAnnotationEvent","api/deleteAnnotation"),(0,Ht.Dl)(t)}translateQueryResult(t,n){(0,St.d)("annotations_srv.ts","translateQueryResult","DashboardQueryRunner/utils/translateQueryResult"),t.snapshotData&&(t=(0,g.cloneDeep)(t),delete t.snapshotData);for(const e of n)e.source=t,e.color=t.iconColor,e.type=t.name,e.isRegion=e.timeEnd&&e.time!==e.timeEnd;return n}}function ir(){o.ZP.factory("backendSrv",()=>(0,Yn.i)()),o.ZP.factory("contextSrv",()=>_n.Vt),o.ZP.factory("dashboardSrv",()=>(0,te.h4)()),o.ZP.factory("datasourceSrv",()=>(0,qn.F)()),o.ZP.factory("linkSrv",()=>(0,er.Bq)()),o.ZP.factory("validationSrv",()=>tr.t),o.ZP.service("annotationsSrv",rr),o.ZP.service("utilSrv",nr)}const ar={angular:{...d(),default:d()},"app/core/core_module":{default:o.hF,__useDefault:!0},"app/core/core":{appEvents:Lt.Z,contextSrv:In.contextSrv,coreModule:o.hF},"app/plugins/sdk":Un,"app/core/utils/promiseToDigest":{promiseToDigest:Bt.E}};class or{constructor(){this.preBootModules=[],this.ngModuleDependencies=[],this.registerFunctions={}}init(){const t=d().module("grafana",[]);(0,Xt.wG)(Gn),t.config(["$controllerProvider","$compileProvider","$filterProvider","$httpProvider","$provide","$sceDelegateProvider",(e,a,l,u,m,y)=>{kt.config.buildInfo.env!=="development"&&a.debugInfoEnabled(!1),u.useApplyAsync(!0),kt.config.pluginsCDNBaseURL&&y.trustedResourceUrlList(["self",`${kt.config.pluginsCDNBaseURL}/**`]),this.registerFunctions.controller=e.register,this.registerFunctions.directive=a.directive,this.registerFunctions.factory=m.factory,this.registerFunctions.service=m.service,this.registerFunctions.filter=l.register,m.decorator("$http",["$delegate","$templateCache",(v,O)=>{const f=v.get;return v.get=(D,T)=>(D.match(/\.html$/)&&(O.get(D)||(D+="?v="+new Date().getTime())),f(D,T)),v}])}]),this.ngModuleDependencies=["grafana.core","ngSanitize","grafana","pasvaz.bindonce","react"],o.rb.forEach(e=>{this.useModule(e)}),d().module("grafana.services").service("dashboardLoaderSrv",Rn.Bg),o.hF.factory("timeSrv",()=>(0,Nn.$t)()),o.hF.factory("templateSrv",()=>(0,On.J)()),qe(),ir(),Zn();const n=(0,Fn.t)(ar);Ln.i3.addImportMap({imports:n}),$.fn.tooltip.defaults.animation=!1}useModule(t){return this.preBootModules?this.preBootModules.push(t):(0,g.extend)(t,this.registerFunctions),this.ngModuleDependencies.push(t.name),t}bootstrap(){const t=d().bootstrap(document.getElementById("ngRoot"),this.ngModuleDependencies);return jn(t),t.invoke(()=>(this.preBootModules.forEach(n=>{(0,g.extend)(n,this.registerFunctions)}),()=>{})),t}}},98897:(x,w,i)=>{"use strict";i.d(w,{k:()=>p});var z=i(69781),I=i.n(z),E=i(20298),A=i(98147),k=i(56821),o=i(28436),s=i(90172);class p extends o.q{constructor(h,d){super(h,d),this.skipDataOnInit=!1,this.dataList=[],this.useDataFrames=!1,this.panelDataObserver={next:W=>{if(this.panelData=W,W.state===E.Gu.Error&&(this.loading=!1,this.processDataError(W.error)),W.state===E.Gu.Loading){this.loading=!0,this.angularDirtyCheck();return}if(W.request){const{timeInfo:Y}=W.request;Y&&(this.timeInfo=Y)}if(W.timeRange&&(this.range=W.timeRange),this.useDataFrames)this.handleDataFrames(W.series);else{const Y=W.series.map(H=>(0,A.Zr)(H));this.handleQueryResult({data:Y})}this.angularDirtyCheck()}},this.contextSrv=d.get("contextSrv"),this.datasourceSrv=d.get("datasourceSrv"),this.timeSrv=d.get("timeSrv"),this.templateSrv=d.get("templateSrv"),this.panel.datasource=this.panel.datasource||null,this.events.on(k.Kh.refresh,this.onMetricsPanelRefresh.bind(this)),this.events.on(k.Kh.panelTeardown,this.onPanelTearDown.bind(this)),this.events.on(k.Kh.componentDidMount,this.onMetricsPanelMounted.bind(this))}onMetricsPanelMounted(){const h=this.panel.getQueryRunner();this.querySubscription=h.getData({withTransforms:!0,withFieldConfig:!0}).subscribe(this.panelDataObserver)}onPanelTearDown(){this.querySubscription&&(this.querySubscription.unsubscribe(),this.querySubscription=null)}onMetricsPanelRefresh(){if(!this.otherPanelInFullscreenMode()){if(this.panel.snapshotData){this.updateTimeRange();let h=this.panel.snapshotData;return(0,z.isArray)(h)||(h=h.data),this.panelData={state:E.Gu.Done,series:h,timeRange:this.range},this.$timeout(()=>{this.events.emit(k.Kh.dataSnapshotLoad,h)})}return delete this.error,this.loading=!0,this.datasourceSrv.get(this.panel.datasource,this.panel.scopedVars).then(this.issueQueries.bind(this)).catch(h=>{this.processDataError(h)})}}processDataError(h){if(h.cancelled){console.log("Panel request cancelled",h);return}this.error=h.message||"Request Error",h.data&&(h.data.message?this.error=h.data.message:h.data.error&&(this.error=h.data.error)),this.angularDirtyCheck()}angularDirtyCheck(){this.$scope.$root.$$phase||this.$scope.$digest()}updateTimeRange(h){this.datasource=h||this.datasource,this.range=this.timeSrv.timeRange();const d=(0,s.W1)(this.panel,this.range);this.timeInfo=d.timeInfo,this.range=d.timeRange}issueQueries(h){this.updateTimeRange(h),this.datasource=h;const d=this.panel;return d.getQueryRunner().run({datasource:d.datasource,queries:d.targets,panelId:d.id,dashboardUID:this.dashboard.uid,timezone:this.dashboard.getTimezone(),timeInfo:this.timeInfo,timeRange:this.range,maxDataPoints:d.maxDataPoints||this.width,minInterval:d.interval,scopedVars:d.scopedVars,cacheTimeout:d.cacheTimeout,queryCachingTTL:d.queryCachingTTL,transformations:d.transformations})}handleDataFrames(h){this.loading=!1,this.dashboard&&this.dashboard.snapshot&&(this.panel.snapshotData=h.map(d=>(0,A.og)(d)));try{this.events.emit(k.Kh.dataFramesReceived,h)}catch(d){this.processDataError(d)}}handleQueryResult(h){this.loading=!1,this.dashboard.snapshot&&(this.panel.snapshotData=h.data),(!h||!h.data)&&(console.log("Data source query result invalid, missing data field:",h),h={data:[]});try{this.events.emit(k.Kh.dataReceived,h.data)}catch(d){this.processDataError(d)}}}},28436:(x,w,i)=>{"use strict";i.d(w,{q:()=>p});var z=i(69781),I=i.n(z),E=i(83994),A=i(56821),k=i(60958),o=i(83811),s=i(75923);class p{constructor(h,d){this.pluginName="",this.pluginId="",this.editModeInitiated=!1,this.loading=!1,this.onPluginTypeChange=Y=>{},this.panel=this.panel??h.$parent.panel,this.dashboard=this.dashboard??h.$parent.dashboard,this.$injector=d,this.$scope=h,this.$timeout=d.get("$timeout"),this.editorTabs=[],this.$location=new k.O,this.events=new E.F,this.timing={};const W=o.default.panels[this.panel.type];W&&(this.pluginId=W.id,this.pluginName=W.name),h.$on(A.Kh.componentDidMount.name,()=>this.panelDidMount())}panelDidMount(){this.events.emit(A.Kh.componentDidMount),this.events.emit(A.Kh.initialized),this.dashboard.panelInitialized(this.panel)}renderingCompleted(){s.rv.renderingCompleted()}refresh(){this.panel.refresh()}publishAppEvent(h,d){this.$scope.$root.appEvent(h,d)}initEditMode(){this.editModeInitiated||(this.editModeInitiated=!0,this.events.emit(A.Kh.editModeInitialized))}addEditorTab(h,d,W,Y){const H={title:h,directiveFn:d,icon:Y};(0,z.isString)(d)&&(H.directiveFn=()=>({templateUrl:d})),W?this.editorTabs.splice(W,0,H):this.editorTabs.push(H)}getExtendedMenu(){const h=[];return this.events.emit(A.Kh.initPanelActions,h),h}async getAdditionalMenuItems(){return[]}otherPanelInFullscreenMode(){return this.dashboard.otherPanelInFullscreen(this.panel)}render(h){this.events.emit(A.Kh.render,h)}}},49564:(x,w,i)=>{"use strict";i.d(w,{G:()=>E});var z=i(69781),I=i.n(z);class E{constructor(k,o){this.$scope=k,this.$injector=o,this.panelCtrl=this.panelCtrl??k.ctrl.panelCtrl,this.target=this.target??k.ctrl.target,this.datasource=this.datasource??k.ctrl.datasource,this.panel=this.panelCtrl?.panel??k.ctrl.panelCtrl.panel,this.isLastQuery=(0,z.indexOf)(this.panel.targets,this.target)===this.panel.targets.length-1}refresh(){this.panelCtrl.refresh()}}},8256:(x,w,i)=>{"use strict";let z=i(11461);z.keys().forEach(I=>{z(I)})},67598:(x,w,i)=>{"use strict";i.d(w,{E:()=>z});const z=I=>E=>E.finally(I.$evalAsync)},47412:(x,w,i)=>{"use strict";i.r(w),i.d(w,{MetricsPanelCtrl:()=>s,PanelCtrl:()=>o,QueryCtrl:()=>p,loadPluginCss:()=>I.iS});var z=i(20187),I=i(80907),E=i(98897),A=i(28436),k=i(49564);const o=(0,z.s)(A.q),s=(0,z.s)(E.k),p=(0,z.s)(k.G)},5886:()=>{(function(){"use strict";/**
 * Bindonce - Zero watches binding for AngularJs
 * @version v0.3.1
 * @link https://github.com/Pasvaz/bindonce
 * @author Pasquale Vazzana <pasqualevazzana@gmail.com>
 * @license MIT License, http://www.opensource.org/licenses/MIT
 */var x=angular.module("pasvaz.bindonce",[]);x.directive("bindonce",function(){var w=function(I){if(I&&I.length!==0){var E=angular.lowercase(""+I);I=!(E==="f"||E==="0"||E==="false"||E==="no"||E==="n"||E==="[]")}else I=!1;return I},i=parseInt((/msie (\d+)/.exec(angular.lowercase(navigator.userAgent))||[])[1],10);isNaN(i)&&(i=parseInt((/trident\/.*; rv:(\d+)/.exec(angular.lowercase(navigator.userAgent))||[])[1],10));var z={restrict:"AM",controller:["$scope","$element","$attrs","$interpolate",function(I,E,A,k){var o=function(c,h,d){var W=h==="show"?"":"none",Y=h==="hide"?"":"none";c.css("display",w(d)?W:Y)},s=function(c,h){if(angular.isObject(h)&&!angular.isArray(h)){var d=[];angular.forEach(h,function(W,Y){W&&d.push(Y)}),h=d}h&&c.addClass(angular.isArray(h)?h.join(" "):h)},p={watcherRemover:void 0,binders:[],group:A.boName,element:E,ran:!1,addBinder:function(c){this.binders.push(c),this.ran&&this.runBinders()},setupWatcher:function(c){var h=this;this.watcherRemover=I.$watch(c,function(d){d!==void 0&&(h.removeWatcher(),h.runBinders())},!0)},removeWatcher:function(){this.watcherRemover!==void 0&&(this.watcherRemover(),this.watcherRemover=void 0)},runBinders:function(){for(;this.binders.length>0;){var c=this.binders.shift();if(!(this.group&&this.group!=c.group)){var h=c.scope.$eval(c.interpolate?k(c.value):c.value);switch(c.attr){case"boIf":w(h)&&c.transclude(c.scope.$new(),function(H){var q=c.element.parent(),R=c.element&&c.element[c.element.length-1],Z=q&&q[0]||R&&R.parentNode,g=R&&R.nextSibling||null;angular.forEach(H,function(it){Z.insertBefore(it,g)})});break;case"boSwitch":var d,W=c.controller[0];(d=W.cases["!"+h]||W.cases["?"])&&(c.scope.$eval(c.attrs.change),angular.forEach(d,function(H){H.transclude(c.scope.$new(),function(q){var R=H.element.parent(),Z=H.element&&H.element[H.element.length-1],g=R&&R[0]||Z&&Z.parentNode,it=Z&&Z.nextSibling||null;angular.forEach(q,function(pt){g.insertBefore(pt,it)})})}));break;case"boSwitchWhen":var Y=c.controller[0];Y.cases["!"+c.attrs.boSwitchWhen]=Y.cases["!"+c.attrs.boSwitchWhen]||[],Y.cases["!"+c.attrs.boSwitchWhen].push({transclude:c.transclude,element:c.element});break;case"boSwitchDefault":var Y=c.controller[0];Y.cases["?"]=Y.cases["?"]||[],Y.cases["?"].push({transclude:c.transclude,element:c.element});break;case"hide":case"show":o(c.element,c.attr,h);break;case"class":s(c.element,h);break;case"text":c.element.text(h);break;case"html":c.element.html(h);break;case"style":c.element.css(h);break;case"src":c.element.attr(c.attr,h),i&&c.element.prop("src",h);break;case"attr":angular.forEach(c.attrs,function(H,q){var R,Z;q.match(/^boAttr./)&&c.attrs[q]&&(R=q.replace(/^boAttr/,"").replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),Z=c.scope.$eval(c.attrs[q]),c.element.attr(R,Z))});break;case"href":case"alt":case"title":case"id":case"value":c.element.attr(c.attr,h);break}}}this.ran=!0}};return p}],link:function(I,E,A,k){var o=A.bindonce?I.$eval(A.bindonce):!0;o!==void 0?k.runBinders():(k.setupWatcher(A.bindonce),E.bind("$destroy",k.removeWatcher))}};return z}),angular.forEach([{directiveName:"boShow",attribute:"show"},{directiveName:"boHide",attribute:"hide"},{directiveName:"boClass",attribute:"class"},{directiveName:"boText",attribute:"text"},{directiveName:"boBind",attribute:"text"},{directiveName:"boHtml",attribute:"html"},{directiveName:"boSrcI",attribute:"src",interpolate:!0},{directiveName:"boSrc",attribute:"src"},{directiveName:"boHrefI",attribute:"href",interpolate:!0},{directiveName:"boHref",attribute:"href"},{directiveName:"boAlt",attribute:"alt"},{directiveName:"boTitle",attribute:"title"},{directiveName:"boId",attribute:"id"},{directiveName:"boStyle",attribute:"style"},{directiveName:"boValue",attribute:"value"},{directiveName:"boAttr",attribute:"attr"},{directiveName:"boIf",transclude:"element",terminal:!0,priority:1e3},{directiveName:"boSwitch",require:"boSwitch",controller:function(){this.cases={}}},{directiveName:"boSwitchWhen",transclude:"element",priority:800,require:"^boSwitch"},{directiveName:"boSwitchDefault",transclude:"element",priority:800,require:"^boSwitch"}],function(w){var i=200;return x.directive(w.directiveName,function(){var z={priority:w.priority||i,transclude:w.transclude||!1,terminal:w.terminal||!1,require:["^bindonce"].concat(w.require||[]),controller:w.controller,compile:function(I,E,A){return function(k,o,s,p){var c=p[0],h=s.boParent;if(h&&c.group!==h){var d=c.element.parent();c=void 0;for(var W;d[0].nodeType!==9&&d.length;){if((W=d.data("$bindonceController"))&&W.group===h){c=W;break}d=d.parent()}if(!c)throw new Error("No bindonce controller: "+h)}c.addBinder({element:o,attr:w.attribute||w.directiveName,attrs:s,value:s[w.directiveName],interpolate:w.interpolate,group:h,transclude:A,controller:p.slice(1),scope:k})}}};return z})})})()},97887:()=>{/**
 * @license AngularJS v1.8.3
 * (c) 2010-2020 Google LLC. http://angularjs.org
 * License: MIT
 */(function(x,w){"use strict";function i(H,q){if(I(H)){q=q||[];for(var R=0,Z=H.length;R<Z;R++)q[R]=H[R]}else if(E(H)){q=q||{};for(var g in H)g.charAt(0)==="$"&&g.charAt(1)==="$"||(q[g]=H[g])}return q||H}function z(H,q){var R=[],Z=H.replace(/([().])/g,"\\$1").replace(/(\/)?:(\w+)(\*\?|[?*])?/g,function(g,it,pt,K){var at=K==="?"||K==="*?",lt=K==="*"||K==="*?";return R.push({name:pt,optional:at}),it=it||"",(at?"(?:"+it:it+"(?:")+(lt?"(.+?)":"([^/]+)")+(at?"?)?":")")}).replace(/([/$*])/g,"\\$1");return q.ignoreTrailingSlashes&&(Z=Z.replace(/\/+$/,"")+"/*"),{keys:R,regexp:new RegExp("^"+Z+"(?:[?#]|$)",q.caseInsensitiveMatch?"i":"")}}var I,E,A,k,o=w.module("ngRoute",[]).info({angularVersion:"1.8.3"}).provider("$route",c).run(h),s=w.$$minErr("ngRoute"),p;function c(){I=w.isArray,E=w.isObject,A=w.isDefined,k=w.noop;function H(R,Z){return w.extend(Object.create(R),Z)}var q={};this.when=function(R,Z){var g=i(Z);if(w.isUndefined(g.reloadOnUrl)&&(g.reloadOnUrl=!0),w.isUndefined(g.reloadOnSearch)&&(g.reloadOnSearch=!0),w.isUndefined(g.caseInsensitiveMatch)&&(g.caseInsensitiveMatch=this.caseInsensitiveMatch),q[R]=w.extend(g,{originalPath:R},R&&z(R,g)),R){var it=R[R.length-1]==="/"?R.substr(0,R.length-1):R+"/";q[it]=w.extend({originalPath:R,redirectTo:R},z(it,g))}return this},this.caseInsensitiveMatch=!1,this.otherwise=function(R){return typeof R=="string"&&(R={redirectTo:R}),this.when(null,R),this},p=!0,this.eagerInstantiationEnabled=function(Z){return A(Z)?(p=Z,this):p},this.$get=["$rootScope","$location","$routeParams","$q","$injector","$templateRequest","$sce","$browser",function(R,Z,g,it,pt,K,at,lt){var b=!1,ot,U,ut={routes:q,reload:function(){b=!0;var L={defaultPrevented:!1,preventDefault:function(){this.defaultPrevented=!0,b=!1}};R.$evalAsync(function(){nt(L),L.defaultPrevented||tt()})},updateParams:function(L){if(this.current&&this.current.$$route)L=w.extend({},this.current.params,L),Z.path(xt(this.current.$$route.originalPath,L)),Z.search(L);else throw s("norout","Tried updating route with no current route")}};return R.$on("$locationChangeStart",nt),R.$on("$locationChangeSuccess",tt),ut;function C(L,F){var S=F.keys,V={};if(!F.regexp)return null;var j=F.regexp.exec(L);if(!j)return null;for(var et=1,X=j.length;et<X;++et){var ft=S[et-1],M=j[et];ft&&M&&(V[ft.name]=M)}return V}function nt(L){var F=ut.current;ot=bt(),U=Ct(ot,F),!U&&(F||ot)&&R.$broadcast("$routeChangeStart",ot,F).defaultPrevented&&L&&L.preventDefault()}function tt(){var L=ut.current,F=ot;if(U)L.params=F.params,w.copy(L.params,g),R.$broadcast("$routeUpdate",L);else if(F||L){b=!1,ut.current=F;var S=it.resolve(F);lt.$$incOutstandingRequestCount("$route"),S.then(B).then(Q).then(function(V){return V&&S.then(mt).then(function(j){F===ut.current&&(F&&(F.locals=j,w.copy(F.params,g)),R.$broadcast("$routeChangeSuccess",F,L))})}).catch(function(V){F===ut.current&&R.$broadcast("$routeChangeError",F,L,V)}).finally(function(){lt.$$completeOutstandingRequest(k,"$route")})}}function B(L){var F={route:L,hasRedirection:!1};if(L){if(L.redirectTo)if(w.isString(L.redirectTo))F.path=xt(L.redirectTo,L.params),F.search=L.params,F.hasRedirection=!0;else{var S=Z.path(),V=Z.search(),j=L.redirectTo(L.pathParams,S,V);w.isDefined(j)&&(F.url=j,F.hasRedirection=!0)}else if(L.resolveRedirectTo)return it.resolve(pt.invoke(L.resolveRedirectTo)).then(function(et){return w.isDefined(et)&&(F.url=et,F.hasRedirection=!0),F})}return F}function Q(L){var F=!0;if(L.route!==ut.current)F=!1;else if(L.hasRedirection){var S=Z.url(),V=L.url;V?Z.url(V).replace():V=Z.path(L.path).search(L.search).replace().url(),V!==S&&(F=!1)}return F}function mt(L){if(L){var F=w.extend({},L.resolve);w.forEach(F,function(V,j){F[j]=w.isString(V)?pt.get(V):pt.invoke(V,null,null,j)});var S=dt(L);return w.isDefined(S)&&(F.$template=S),it.all(F)}}function dt(L){var F,S;return w.isDefined(F=L.template)?w.isFunction(F)&&(F=F(L.params)):w.isDefined(S=L.templateUrl)&&(w.isFunction(S)&&(S=S(L.params)),w.isDefined(S)&&(L.loadedTemplateUrl=at.valueOf(S),F=K(S))),F}function bt(){var L,F;return w.forEach(q,function(S,V){!F&&(L=C(Z.path(),S))&&(F=H(S,{params:w.extend({},Z.search(),L),pathParams:L}),F.$$route=S)}),F||q[null]&&H(q[null],{params:{},pathParams:{}})}function Ct(L,F){return!b&&L&&F&&L.$$route===F.$$route&&(!L.reloadOnUrl||!L.reloadOnSearch&&w.equals(L.pathParams,F.pathParams))}function xt(L,F){var S=[];return w.forEach((L||"").split(":"),function(V,j){if(j===0)S.push(V);else{var et=V.match(/(\w+)(?:[?*])?(.*)/),X=et[1];S.push(F[X]),S.push(et[2]||""),delete F[X]}}),S.join("")}}]}h.$inject=["$injector"];function h(H){p&&H.get("$route")}o.provider("$routeParams",d);function d(){this.$get=function(){return{}}}o.directive("ngView",W),o.directive("ngView",Y),W.$inject=["$route","$anchorScroll","$animate"];function W(H,q,R){return{restrict:"ECA",terminal:!0,priority:400,transclude:"element",link:function(Z,g,it,pt,K){var at,lt,b,ot=it.autoscroll,U=it.onload||"";Z.$on("$routeChangeSuccess",C),C();function ut(){b&&(R.cancel(b),b=null),at&&(at.$destroy(),at=null),lt&&(b=R.leave(lt),b.done(function(nt){nt!==!1&&(b=null)}),lt=null)}function C(){var nt=H.current&&H.current.locals,tt=nt&&nt.$template;if(w.isDefined(tt)){var B=Z.$new(),Q=H.current,mt=K(B,function(dt){R.enter(dt,null,lt||g).done(function(Ct){Ct!==!1&&w.isDefined(ot)&&(!ot||Z.$eval(ot))&&q()}),ut()});lt=mt,at=Q.scope=B,at.$emit("$viewContentLoaded"),at.$eval(U)}else ut()}}}}Y.$inject=["$compile","$controller","$route"];function Y(H,q,R){return{restrict:"ECA",priority:-400,link:function(Z,g){var it=R.current,pt=it.locals;g.html(pt.$template);var K=H(g.contents());if(it.controller){pt.$scope=Z;var at=q(it.controller,pt);it.controllerAs&&(Z[it.controllerAs]=at),g.data("$ngControllerController",at),g.children().data("$ngControllerController",at)}Z[it.resolveAs||"$resolve"]=pt,K(Z)}}}})(window,window.angular)},62461:(x,w,i)=>{i(97887),x.exports="ngRoute"},98865:()=>{/**
 * @license AngularJS v1.8.3
 * (c) 2010-2020 Google LLC. http://angularjs.org
 * License: MIT
 */(function(x,w){"use strict";var i=w.$$minErr("$sanitize"),z,I,E,A,k,o,s,p,c,h;function d(){var Y=!1,H=!1;this.$get=["$$sanitizeUri",function(S){return Y=!0,H&&I(ot,lt),function(V){var j=[];return c(V,h(j,function(et,X){return!/^unsafe:/.test(S(et,X))})),j.join("")}}],this.enableSvg=function(S){return k(S)?(H=S,this):H},this.addValidElements=function(S){return Y||(A(S)&&(S={htmlElements:S}),Q(lt,S.svgElements),Q(Z,S.htmlVoidElements),Q(ot,S.htmlVoidElements),Q(ot,S.htmlElements)),this},this.addValidAttrs=function(S){return Y||I(nt,B(S,!0)),this},z=w.bind,I=w.extend,E=w.forEach,A=w.isArray,k=w.isDefined,o=w.$$lowercase,s=w.noop,c=dt,h=xt,p=x.Node.prototype.contains||function(S){return!!(this.compareDocumentPosition(S)&16)};var q=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,R=/([^#-~ |!])/g,Z=tt("area,br,col,hr,img,wbr"),g=tt("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),it=tt("rp,rt"),pt=I({},it,g),K=I({},g,tt("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,section,table,ul")),at=I({},it,tt("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var")),lt=tt("circle,defs,desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,hkern,image,linearGradient,line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,radialGradient,rect,stop,svg,switch,text,title,tspan"),b=tt("script,style"),ot=I({},Z,K,at,pt),U=tt("background,cite,href,longdesc,src,xlink:href,xml:base"),ut=tt("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,tabindex,target,title,type,valign,value,vspace,width"),C=tt("accent-height,accumulate,additive,alphabetic,arabic-form,ascent,baseProfile,bbox,begin,by,calcMode,cap-height,class,color,color-rendering,content,cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,font-size,font-stretch,font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,gradientUnits,hanging,height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,keySplines,keyTimes,lang,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mathematical,max,min,offset,opacity,orient,origin,overline-position,overline-thickness,panose-1,path,pathLength,points,preserveAspectRatio,r,refX,refY,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,stemv,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,underline-position,underline-thickness,unicode,unicode-range,units-per-em,values,version,viewBox,visibility,width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,zoomAndPan",!0),nt=I({},U,C,ut);function tt(S,V){return B(S.split(","),V)}function B(S,V){var j={},et;for(et=0;et<S.length;et++)j[V?o(S[et]):S[et]]=!0;return j}function Q(S,V){V&&V.length&&I(S,B(V))}var mt=function(S,V){if(X())return ft;if(!V||!V.implementation)throw i("noinert","Can't create an inert html document");var j=V.implementation.createHTMLDocument("inert"),et=(j.documentElement||j.getDocumentElement()).querySelector("body");return M;function X(){try{return!!ft("")}catch{return!1}}function ft(st){st="<remove></remove>"+st;try{var P=new S.DOMParser().parseFromString(st,"text/html").body;return P.firstChild.remove(),P}catch{return}}function M(st){return et.innerHTML=st,V.documentMode&&L(et),et}}(x,x.document);function dt(S,V){S==null?S="":typeof S!="string"&&(S=""+S);var j=mt(S);if(!j)return"";var et=5;do{if(et===0)throw i("uinput","Failed to sanitize html because the input is unstable");et--,S=j.innerHTML,j=mt(S)}while(S!==j.innerHTML);for(var X=j.firstChild;X;){switch(X.nodeType){case 1:V.start(X.nodeName.toLowerCase(),bt(X.attributes));break;case 3:V.chars(X.textContent);break}var ft;if(!(ft=X.firstChild)&&(X.nodeType===1&&V.end(X.nodeName.toLowerCase()),ft=F("nextSibling",X),!ft))for(;ft==null&&(X=F("parentNode",X),X!==j);)ft=F("nextSibling",X),X.nodeType===1&&V.end(X.nodeName.toLowerCase());X=ft}for(;X=j.firstChild;)j.removeChild(X)}function bt(S){for(var V={},j=0,et=S.length;j<et;j++){var X=S[j];V[X.name]=X.value}return V}function Ct(S){return S.replace(/&/g,"&amp;").replace(q,function(V){var j=V.charCodeAt(0),et=V.charCodeAt(1);return"&#"+((j-55296)*1024+(et-56320)+65536)+";"}).replace(R,function(V){return"&#"+V.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function xt(S,V){var j=!1,et=z(S,S.push);return{start:function(X,ft){X=o(X),!j&&b[X]&&(j=X),!j&&ot[X]===!0&&(et("<"),et(X),E(ft,function(M,st){var P=o(st),Tt=X==="img"&&P==="src"||P==="background";nt[P]===!0&&(U[P]!==!0||V(M,Tt))&&(et(" "),et(st),et('="'),et(Ct(M)),et('"'))}),et(">"))},end:function(X){X=o(X),!j&&ot[X]===!0&&Z[X]!==!0&&(et("</"),et(X),et(">")),X==j&&(j=!1)},chars:function(X){j||et(Ct(X))}}}function L(S){for(;S;){if(S.nodeType===x.Node.ELEMENT_NODE)for(var V=S.attributes,j=0,et=V.length;j<et;j++){var X=V[j],ft=X.name.toLowerCase();(ft==="xmlns:ns1"||ft.lastIndexOf("ns1:",0)===0)&&(S.removeAttributeNode(X),j--,et--)}var M=S.firstChild;M&&L(M),S=F("nextSibling",S)}}function F(S,V){var j=V[S];if(j&&p.call(V,j))throw i("elclob","Failed to sanitize html because the element is clobbered: {0}",V.outerHTML||V.outerText);return j}}function W(Y){var H=[],q=h(H,s);return q.chars(Y),H.join("")}w.module("ngSanitize",[]).provider("$sanitize",d).info({angularVersion:"1.8.3"}),w.module("ngSanitize").filter("linky",["$sanitize",function(Y){var H=/((s?ftp|https?):\/\/|(www\.)|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"\u201d\u2019]/i,q=/^mailto:/i,R=w.$$minErr("linky"),Z=w.isDefined,g=w.isFunction,it=w.isObject,pt=w.isString;return function(K,at,lt){if(K==null||K==="")return K;if(!pt(K))throw R("notstring","Expected string but received: {0}",K);for(var b=g(lt)?lt:it(lt)?function(){return lt}:function(){return{}},ot,U=K,ut=[],C,nt;ot=U.match(H);)C=ot[0],!ot[2]&&!ot[4]&&(C=(ot[3]?"http://":"mailto:")+C),nt=ot.index,tt(U.substr(0,nt)),B(C,ot[0].replace(q,"")),U=U.substring(nt+ot[0].length);return tt(U),Y(ut.join(""));function tt(Q){Q&&ut.push(W(Q))}function B(Q,mt){var dt,bt=b(Q);ut.push("<a ");for(dt in bt)ut.push(dt+'="'+bt[dt]+'" ');Z(at)&&!("target"in bt)&&ut.push('target="',at,'" '),ut.push('href="',Q.replace(/"/g,"&quot;"),'">'),tt(mt),ut.push("</a>")}}}])})(window,window.angular)},65016:(x,w,i)=>{i(98865),x.exports="ngSanitize"},73894:x=>{"use strict";function w(i){var z=this,I;if(this._au)return;function E(){z.root[z.origin.offset]?k():A()}function A(){I||(I=setInterval(function(){z.root[z.origin.offset]&&(k(),z.update())},300))}function k(){clearInterval(I),I=null}var o=z._debounce(function(){z.update()},300);this._observer=new i(function(){E(),z.update(),o()}),this.on("init",function(){z._observer.observe(z.root,{childList:!0,subtree:!0,characterData:!0}),E()}),this.on("dispose",function(){z._observer.disconnect(),k(),delete z._observer}),this._au=!0}x.exports=function(z){var I=z.MutationObserver||z.WebKitMutationObserver||z.MozMutationObserver||null;return function(){return I?(w.call(this,I),this):this}}},20070:(x,w,i)=>{"use strict";var z=i(87747).qs;x.exports=function(E){var A,k,o,s,p=this,c;s=E.screen||.9,E.forward&&(A=z(E.forward,this.clipper),c={element:A,handler:function(){var h=p.pos()+(E.delta||30);p.pos(h)},type:"click"},this._eventHandlers.push(c),this.event(c.element,c.type,c.handler,"on")),E.backward&&(k=z(E.backward,this.clipper),c={element:k,handler:function(){var h=p.pos()-(E.delta||30);p.pos(h)},type:"click"},this._eventHandlers.push(c),this.event(c.element,c.type,c.handler,"on")),E.track&&(E.track===!0?o=this.track:o=z(E.track,this.clipper),o&&(c={element:o,handler:function(h){if(h.target==o){var d=h["offset"+p.origin.x],W=p.bar[p.origin.offsetPos],Y=0;d<W?Y=-1:d>W+p.bar[p.origin.offset]&&(Y=1);var H=p.pos()+Y*s*p.scroller[p.origin.client];p.pos(H)}},type:"mousedown"},this._eventHandlers.push(c),this.event(c.element,c.type,c.handler,"on")))}},93065:(x,w,i)=>{"use strict";var z=function(){return this||(0,eval)("this")}(),I=z&&z.window||z,E=i(87747).B,A=i(87747).iv,k=i(87747).IH,o=i(87747).e$,s=i(87747).rm,p=i(87747).d9,c=i(87747).qs,h=K,d=["left","top","right","bottom","width","height"],W=[],Y={v:{x:"Y",pos:d[1],oppos:d[3],crossPos:d[0],crossOpPos:d[2],size:d[5],crossSize:d[4],crossMinSize:"min-"+d[4],crossMaxSize:"max-"+d[4],client:"clientHeight",crossClient:"clientWidth",scrollEdge:"scrollLeft",offset:"offsetHeight",crossOffset:"offsetWidth",offsetPos:"offsetTop",scroll:"scrollTop",scrollSize:"scrollHeight"},h:{x:"X",pos:d[0],oppos:d[2],crossPos:d[1],crossOpPos:d[3],size:d[4],crossSize:d[5],crossMinSize:"min-"+d[5],crossMaxSize:"max-"+d[5],client:"clientWidth",crossClient:"clientHeight",scrollEdge:"scrollTop",offset:"offsetWidth",crossOffset:"offsetHeight",offsetPos:"offsetLeft",scroll:"scrollLeft",scrollSize:"scrollWidth"}},H=17,q=15,R=/[\s\S]*Macintosh[\s\S]*\) Gecko[\s\S]*/,Z=R.test(I.navigator&&I.navigator.userAgent),g,it,pt;function K(C){var nt=!!C,tt=C&&C[0]||C,B=typeof C=="string"||tt instanceof HTMLElement,Q=B?{root:C}:p(C),mt,dt,bt={direction:"v",barOnCls:"_scrollbar",resizeDebounce:0,event:E,cssGuru:!1,impact:"scroller",position:"static"};Q=Q||{};for(var Ct in bt)Q[Ct]==null&&(Q[Ct]=bt[Ct]);mt=this&&this instanceof I.jQuery,Q._chain?dt=Q.root:mt?Q.root=dt=this[0]:dt=c(Q.root||Q.scroller);var xt=ot(dt,Q.direction),L=+xt;if(Q.index=L,L==L&&xt!==null&&W[L])return W[L];Q.root&&Q.scroller?Q.scroller=c(Q.scroller,dt):Q.scroller=dt,Q.root=dt;var F=U(Q);return F.autoUpdate&&F.autoUpdate(),F}function at(C,nt){var tt=0,B=C;for((B.length===void 0||B===I)&&(B=[B]);B[tt];)nt.call(this,B[tt],tt),tt++}function lt(){return new Date().getTime()}function b(C,nt,tt){C._eventHandlers=C._eventHandlers||[{element:C.scroller,handler:function(B){C.scroll(B)},type:"scroll"},{element:C.root,handler:function(){C.update()},type:"transitionend animationend"},{element:C.scroller,handler:function(){C.update()},type:"keyup"},{element:C.bar,handler:function(B){B.preventDefault(),C.selection(),C.drag.now=1,C.draggingCls&&k(C.root,C.draggingCls)},type:"touchstart mousedown"},{element:document,handler:function(){C.selection(1),C.drag.now=0,C.draggingCls&&s(C.root,C.draggingCls)},type:"mouseup blur touchend"},{element:document,handler:function(B){B.button!=2&&C._pos0(B)},type:"touchstart mousedown"},{element:document,handler:function(B){C.drag.now&&C.drag(B)},type:"mousemove touchmove"},{element:I,handler:function(){C.update()},type:"resize"},{element:C.root,handler:function(){C.update()},type:"sizeChange"},{element:C.clipper,handler:function(){C.clipperOnScroll()},type:"scroll"}],at(C._eventHandlers,function(B){if(B.element)if(B.element.length&&B.element!==I)for(var Q=0;Q<B.element.length;Q++)nt(B.element[Q],B.type,B.handler,tt);else nt(B.element,B.type,B.handler,tt)})}function ot(C,nt,tt,B){var Q="data-baron-"+nt+"-id";return tt=="on"?C.setAttribute(Q,B):tt=="off"&&C.removeAttribute(Q),C.getAttribute(Q)}function U(C){var nt=new K.prototype.constructor(C);return b(nt,C.event,"on"),ot(nt.root,C.direction,"on",W.length),W.push(nt),nt.update(),nt}function ut(C){if(this.events&&this.events[C])for(var nt=0;nt<this.events[C].length;nt++){var tt=Array.prototype.slice.call(arguments,1);this.events[C][nt].apply(this,tt)}}K.prototype={_debounce:function(C,nt){var tt=this,B,Q,mt=function(){if(tt._disposed){clearTimeout(B),B=tt=null;return}var dt=lt()-Q;dt<nt&&dt>=0?B=setTimeout(mt,nt-dt):(B=null,C())};return function(){Q=lt(),B||(B=setTimeout(mt,nt))}},constructor:function(C){var nt,tt,B,Q,mt,dt,bt;dt=lt(),this.params=C,this.event=C.event,this.events={},this.root=C.root,this.scroller=c(C.scroller),this.bar=c(C.bar,this.root),B=this.track=c(C.track,this.root),!this.track&&this.bar&&(B=this.bar.parentNode),this.clipper=this.scroller.parentNode,this.direction=C.direction,this.rtl=C.rtl,this.origin=Y[this.direction],this.barOnCls=C.barOnCls,this.scrollingCls=C.scrollingCls,this.draggingCls=C.draggingCls,this.impact=C.impact,this.position=C.position,this.rtl=C.rtl,this.barTopLimit=0,this.resizeDebounce=C.resizeDebounce;function Ct(M){var st=this.barMinSize||20,P=M;P>0&&P<st&&(P=st),this.bar&&A(this.bar,this.origin.size,parseInt(P,10)+"px")}function xt(M){if(this.bar){var st=A(this.bar,this.origin.pos),P=+M+"px";P&&P!=st&&A(this.bar,this.origin.pos,P)}}function L(){return B[this.origin.client]-this.barTopLimit-this.bar[this.origin.offset]}function F(M){return M*L.call(this)+this.barTopLimit}function S(M){return(M-this.barTopLimit)/L.call(this)}this.cursor=function(M){return M["client"+this.origin.x]||(((M.originalEvent||M).touches||{})[0]||{})["page"+this.origin.x]};function V(){return!1}if(this.pos=function(M){var st="page"+this.origin.x+"Offset",P=this.scroller[st]?st:this.origin.scroll;return M!==void 0&&(this.scroller[P]=M),this.scroller[P]},this.rpos=function(M){var st=this.scroller[this.origin.scrollSize]-this.scroller[this.origin.client],P;return M?P=this.pos(M*st):P=this.pos(),P/(st||1)},this.barOn=function(M){if(this.barOnCls){var st=this.scroller[this.origin.client]>=this.scroller[this.origin.scrollSize];M||st?o(this.root,this.barOnCls)&&s(this.root,this.barOnCls):o(this.root,this.barOnCls)||k(this.root,this.barOnCls)}},this._pos0=function(M){tt=this.cursor(M)-nt},this.drag=function(M){var st=S.call(this,this.cursor(M)-tt),P=this.scroller[this.origin.scrollSize]-this.scroller[this.origin.client];this.scroller[this.origin.scroll]=st*P},this.selection=function(M){this.event(document,"selectpos selectstart",V,M?"off":"on")},this.resize=function(){var M=this,st=M.resizeDebounce===void 0?300:M.resizeDebounce,P=0;lt()-dt<st&&(clearTimeout(Q),P=st);function Tt(){var At=M.scroller[M.origin.crossOffset],gt=M.scroller[M.origin.crossClient],Nt=0,Mt,Pt;if(Z?Nt=q:gt>0&&At===0&&(At=gt+H),At)if(M.barOn(),M.impact=="scroller"){var Ft=At-gt+Nt;if(M.position=="static")Mt=A(M.scroller,M.origin.crossSize),Pt=M.clipper[M.origin.crossClient]+Ft+"px",Mt!=Pt&&M._setCrossSizes(M.scroller,Pt);else{var Ut={},zt=M.rtl?"Left":"Right";M.direction=="h"&&(zt="Bottom"),Ut["padding"+zt]=Ft+"px",A(M.scroller,Ut)}}else Mt=A(M.clipper,M.origin.crossSize),Pt=gt+"px",Mt!=Pt&&M._setCrossSizes(M.clipper,Pt);Array.prototype.unshift.call(arguments,"resize"),ut.apply(M,arguments),dt=lt()}P?Q=setTimeout(Tt,P):Tt()},this.updatePositions=function(M){var st,P=this;P.bar&&(st=(B[P.origin.client]-P.barTopLimit)*P.scroller[P.origin.client]/P.scroller[P.origin.scrollSize],(M||parseInt(bt,10)!=parseInt(st,10))&&(Ct.call(P,st),bt=st),nt=F.call(P,P.rpos()),xt.call(P,nt)),Array.prototype.unshift.call(arguments,"scroll"),ut.apply(P,arguments)},this.scroll=function(){var M=this;M.updatePositions(),M.scrollingCls&&(mt||k(M.root,M.scrollingCls),clearTimeout(mt),mt=setTimeout(function(){s(M.root,M.scrollingCls),mt=void 0},300))},this.clipperOnScroll=function(){this.rtl?this.clipper[this.origin.scrollEdge]=this.clipper[this.origin.scrollSize]:this.clipper[this.origin.scrollEdge]=0},this._setCrossSizes=function(M,st){var P={};P[this.origin.crossSize]=st,P[this.origin.crossMinSize]=st,P[this.origin.crossMaxSize]=st,A(M,P)},this._dumbCss=function(M){if(!C.cssGuru){var st=M?"hidden":null,P=M?"none":null;A(this.clipper,{overflow:st,msOverflowStyle:P,position:this.position=="static"?"":"relative"});var Tt=M?"scroll":null,At=this.direction=="v"?"y":"x",gt={};gt["overflow-"+At]=Tt,gt["box-sizing"]="border-box",gt.margin="0",gt.border="0",this.position=="absolute"&&(gt.position="absolute",gt.top="0",this.direction=="h"?gt.left=gt.right="0":(gt.bottom="0",gt.right=this.rtl?"0":"",gt.left=this.rtl?"":"0")),A(this.scroller,gt)}},this._dumbCss(!0),Z){var j="paddingRight",et={},X=I.getComputedStyle(this.scroller)[[j]];C.direction=="h"?j="paddingBottom":C.rtl&&(j="paddingLeft");var ft=parseInt(X,10);ft!=ft&&(ft=0),et[j]=q+ft+"px",A(this.scroller,et)}return this},update:function(C){return ut.call(this,"upd",C),this.resize(1),this.updatePositions(1),this},dispose:function(){b(this,this.event,"off"),ot(this.root,this.params.direction,"off"),this.params.direction=="v"?this._setCrossSizes(this.scroller,""):this._setCrossSizes(this.clipper,""),this._dumbCss(!1),this.barOn(!0),ut.call(this,"dispose"),W[this.params.index]=null,this.params=null,this._disposed=!0},on:function(C,nt,tt){for(var B=C.split(" "),Q=0;Q<B.length;Q++)B[Q]=="init"?nt.call(this,tt):(this.events[B[Q]]=this.events[B[Q]]||[],this.events[B[Q]].push(function(mt){nt.call(this,mt||tt)}))},baron:function(C){return C.root=this.params.root,C.scroller=this.params.scroller,C.direction=this.params.direction=="v"?"h":"v",C._chain=!0,K(C)}},K.prototype.constructor.prototype=K.prototype,K.noConflict=function(){return I.baron=h,K},K.version="3.0.1",K.prototype.autoUpdate=i(73894)(I),K.prototype.fix=i(38413),K.prototype.controls=i(20070),x.exports=K},38413:(x,w,i)=>{"use strict";var z=i(51595),I=i(87747).iv,E=i(87747).IH,A=i(87747).rm;x.exports=function(o){var s,p,c={outside:"",inside:"",before:"",after:"",past:"",future:"",radius:0,minView:0},h=[],d=[],W=[],Y=this.scroller,H=this.event,q=this;function R(K,at,lt){var b=at,ot=lt==1?"pos":"oppos";p<(c.minView||0)&&(b=void 0),I(s[K],this.origin.pos,""),I(s[K],this.origin.oppos,""),A(s[K],c.outside),b!==void 0&&(b+="px",I(s[K],this.origin[ot],b),E(s[K],c.outside))}function Z(K){try{var at=document.createEvent("WheelEvent");at.initWebKitWheelEvent(K.originalEvent.wheelDeltaX,K.originalEvent.wheelDeltaY),Y.dispatchEvent(at),K.preventDefault()}catch{}}function g(K){var at;for(var lt in K)c[lt]=K[lt];if(c.elements instanceof HTMLElement?s=[c.elements]:typeof c.elements=="string"?s=this.scroller.querySelectorAll(c.elements):c.elements&&c.elements[0]instanceof HTMLElement&&(s=c.elements),s){p=this.scroller[this.origin.client];for(var b=0;b<s.length;b++)at={},at[this.origin.size]=s[b][this.origin.offset]+"px",s[b].parentNode!==this.scroller&&I(s[b].parentNode,at),at={},at[this.origin.crossSize]=s[b].parentNode[this.origin.crossClient]+"px",I(s[b],at),p-=s[b][this.origin.offset],W[b]=s[b].parentNode[this.origin.offsetPos],h[b]=h[b-1]||0,d[b]=d[b-1]||Math.min(W[b],0),s[b-1]&&(h[b]+=s[b-1][this.origin.offset],d[b]+=s[b-1][this.origin.offset]),b==0&&W[b]==0||(this.event(s[b],"mousewheel",Z,"off"),this.event(s[b],"mousewheel",Z));c.limiter&&s[0]&&(this.track&&this.track!=this.scroller?(at={},at[this.origin.pos]=s[0].parentNode[this.origin.offset]+"px",I(this.track,at)):this.barTopLimit=s[0].parentNode[this.origin.offset],this.scroll()),c.limiter===!1&&(this.barTopLimit=0)}var ot={element:s,handler:function(){for(var ut=this.parentNode,C=ut.offsetTop,nt,tt=0;tt<s.length;tt++)s[tt]===this&&(nt=tt);var B=C-h[nt];c.scroll?c.scroll({x1:q.scroller.scrollTop,x2:B}):q.scroller.scrollTop=B},type:"click"};if(c.clickable){this._eventHandlers.push(ot);for(var U=0;U<ot.element.length;U++)H(ot.element[U],ot.type,ot.handler,"on")}}this.on("init",g,o);var it=[],pt=[];return this.on("init scroll",function(){var K,at,lt,b;if(s){var ot;for(b=0;b<s.length;b++)K=0,W[b]-this.pos()<d[b]+c.radius?(K=1,at=h[b]):W[b]-this.pos()>d[b]+p-c.radius?(K=2,at=this.scroller[this.origin.client]-s[b][this.origin.offset]-h[b]-p):(K=3,at=void 0),lt=!1,(W[b]-this.pos()<d[b]||W[b]-this.pos()>d[b]+p)&&(lt=!0),(K!=it[b]||lt!=pt[b])&&(R.call(this,b,at,K),it[b]=K,pt[b]=lt,ot=!0);if(ot)for(b=0;b<s.length;b++)it[b]==1&&c.past&&(E(s[b],c.past),A(s[b],c.future)),it[b]==2&&c.future&&(E(s[b],c.future),A(s[b],c.past)),it[b]==3&&(A(s[b],c.past),A(s[b],c.future),E(s[b],c.inside)),it[b]!=it[b+1]&&it[b]==1?(E(s[b],c.before),A(s[b],c.after)):it[b]!=it[b-1]&&it[b]==2?(E(s[b],c.after),A(s[b],c.before)):(A(s[b],c.before),A(s[b],c.after)),c.grad&&(pt[b]?E(s[b],c.grad):A(s[b],c.grad))}}),this.on("resize upd",function(K){g.call(this,K&&K.fix)}),this}},51595:x=>{x.exports=function(i,z,I){var E=console[i]||console.log,A=["Baron: "+z,I];Function.prototype.apply.call(E,console,A)}},87747:x=>{"use strict";var w,i=!1;try{var z=Object.defineProperty({},"passive",{get:function(){i=!0}});window.addEventListener("test",null,z)}catch{}x.exports.B=function(A,k,o,s){var p=k.split(" "),c=s=="on"?"add":"remove";p.forEach(function(h){var d=!1;["scroll","touchstart","touchmove"].indexOf(h)!=-1&&i&&(d={passive:!0}),A[c+"EventListener"](h,o,d)})};function I(E,A){for(var k in E)E.hasOwnProperty(k)&&A(k,E[k])}x.exports.iv=function(A,k,o){var s;if(o===void 0){if(typeof k=="string")return A.style[k];s=k}else s={},s[k]=o;I(s,function(p,c){A.style[p]=c})},x.exports.IH=function(A,k){k&&A.classList.add(k)},x.exports.rm=function(A,k){k&&A.classList.remove(k)},x.exports.e$=function(A,k){return k?A.classList.contains(k):!1},x.exports.d9=function(A){var k={},o=A||{};return I(o,function(s,p){k[s]=p}),k},x.exports.qs=function(A,k){if(A instanceof HTMLElement)return A;var o=k||document;return o.querySelector(A)},w=I},90402:()=>{(function(x){"use strict";var w={tagClass:function(o){return"label label-info"},itemValue:function(o){return o&&o.toString()},itemText:function(o){return this.itemValue(o)},freeInput:!0,maxTags:void 0,confirmKeys:[13],onTagExists:function(o,s){s.hide().fadeIn()}};function i(o,s){this.itemsArray=[],this.$element=x(o),this.$element.hide(),this.widthClass=s.widthClass||"width-9",this.isSelect=o.tagName==="SELECT",this.multiple=this.isSelect&&o.hasAttribute("multiple"),this.objectItems=s&&s.itemValue,this.placeholderText=o.hasAttribute("placeholder")?this.$element.attr("placeholder"):"",this.$container=x('<div class="bootstrap-tagsinput"></div>'),this.$input=x('<input class="gf-form-input '+this.widthClass+'" type="text" placeholder="'+this.placeholderText+'"/>').appendTo(this.$container),this.$element.after(this.$container),this.build(s)}i.prototype={constructor:i,add:function(o,s){var p=this;if(!(p.options.maxTags&&p.itemsArray.length>=p.options.maxTags)&&!(o!==!1&&!o)){if(typeof o=="object"&&!p.objectItems)throw"Can't add objects when itemValue option is not set";if(!o.toString().match(/^\s*$/)){if(p.isSelect&&!p.multiple&&p.itemsArray.length>0&&p.remove(p.itemsArray[0]),typeof o=="string"&&this.$element[0].tagName==="INPUT"){var c=o.split(",");if(c.length>1){for(var h=0;h<c.length;h++)this.add(c[h],!0);s||p.pushVal();return}}var d=p.options.itemValue(o),W=p.options.itemText(o),Y=p.options.tagClass(o),H=x.grep(p.itemsArray,function(g){return p.options.itemValue(g)===d})[0];if(H){if(p.options.onTagExists){var q=x(".tag",p.$container).filter(function(){return x(this).data("item")===H});p.options.onTagExists(o,q)}return}p.itemsArray.push(o);var R=x('<span class="tag '+A(Y)+'">'+A(W)+'<span data-role="remove"></span></span>');if(R.data("item",o),p.findInputWrapper().before(R),R.after(" "),p.isSelect&&!x('option[value="'+escape(d)+'"]',p.$element)[0]){var Z=x("<option selected>"+A(W)+"</option>");Z.data("item",o),Z.attr("value",d),p.$element.append(Z)}s||p.pushVal(),p.options.maxTags===p.itemsArray.length&&p.$container.addClass("bootstrap-tagsinput-max"),p.$element.trigger(x.Event("itemAdded",{item:o}))}}},remove:function(o,s){var p=this;p.objectItems&&(typeof o=="object"?o=x.grep(p.itemsArray,function(c){return p.options.itemValue(c)==p.options.itemValue(o)})[0]:o=x.grep(p.itemsArray,function(c){return p.options.itemValue(c)==o})[0]),o&&(x(".tag",p.$container).filter(function(){return x(this).data("item")===o}).remove(),x("option",p.$element).filter(function(){return x(this).data("item")===o}).remove(),p.itemsArray.splice(x.inArray(o,p.itemsArray),1)),s||p.pushVal(),p.options.maxTags>p.itemsArray.length&&p.$container.removeClass("bootstrap-tagsinput-max"),p.$element.trigger(x.Event("itemRemoved",{item:o}))},removeAll:function(){var o=this;for(x(".tag",o.$container).remove(),x("option",o.$element).remove();o.itemsArray.length>0;)o.itemsArray.pop();o.pushVal(),o.options.maxTags&&!this.isEnabled()&&this.enable()},refresh:function(){var o=this;x(".tag",o.$container).each(function(){var s=x(this),p=s.data("item"),c=o.options.itemValue(p),h=o.options.itemText(p),d=o.options.tagClass(p);if(s.attr("class",null),s.addClass("tag "+A(d)),s.contents().filter(function(){return this.nodeType==3})[0].nodeValue=A(h),o.isSelect){var W=x("option",o.$element).filter(function(){return x(this).data("item")===p});W.attr("value",c)}})},items:function(){return this.itemsArray},pushVal:function(){var o=this,s=x.map(o.items(),function(p){return o.options.itemValue(p).toString()});o.$element.val(s,!0).trigger("change")},build:function(o){var s=this;s.options=x.extend({},w,o);var p=s.options.typeahead||{};s.objectItems&&(s.options.freeInput=!1),z(s.options,"itemValue"),z(s.options,"itemText"),z(s.options,"tagClass"),s.options.source&&(p.source=s.options.source),p.source&&x.fn.typeahead&&(I(p,"source"),s.$input.typeahead({source:function(c,h){function d(H){for(var q=[],R=0;R<H.length;R++){var Z=s.options.itemText(H[R]);W[Z]=H[R],q.push(Z)}h(q)}this.map={};var W=this.map,Y=p.source(c);x.isFunction(Y.success)?Y.success(d):x.when(Y).then(d)},updater:function(c){s.add(this.map[c])},matcher:function(c){return c.toLowerCase().indexOf(this.query.trim().toLowerCase())!==-1},sorter:function(c){return c.sort()},highlighter:function(c){var h=new RegExp("("+this.query+")","gi");return c.replace(h,"<strong>$1</strong>")}})),s.$container.on("click",x.proxy(function(c){s.$input.focus()},s)),s.$container.on("blur","input",x.proxy(function(c){var h=x(c.target);s.add(h.val()),h.val(""),c.preventDefault()},s)),s.$container.on("keydown","input",x.proxy(function(c){var h=x(c.target),d=s.findInputWrapper();switch(c.which){case 8:if(k(h[0])===0){var W=d.prev();W&&s.remove(W.data("item"))}break;case 46:if(k(h[0])===0){var Y=d.next();Y&&s.remove(Y.data("item"))}break;case 37:var H=d.prev();h.val().length===0&&H[0]&&(H.before(d),h.focus());break;case 39:var q=d.next();h.val().length===0&&q[0]&&(q.after(d),h.focus());break;default:s.options.freeInput&&x.inArray(c.which,s.options.confirmKeys)>=0&&(s.add(h.val()),h.val(""),c.preventDefault())}h.attr("size",Math.max(this.inputSize,h.val().length))},s)),s.$container.on("click","[data-role=remove]",x.proxy(function(c){s.remove(x(c.target).closest(".tag").data("item")),c.stopPropagation()},s)),s.options.itemValue===w.itemValue&&(s.$element[0].tagName==="INPUT"?s.add(s.$element.val()):x("option",s.$element).each(function(){s.add(x(this).attr("value"),!0)}))},destroy:function(){var o=this;o.$container.off("keypress","input"),o.$container.off("click","[role=remove]"),o.$container.remove(),o.$element.removeData("tagsinput"),o.$element.show()},focus:function(){this.$input.focus()},input:function(){return this.$input},findInputWrapper:function(){for(var o=this.$input[0],s=this.$container[0];o&&o.parentNode!==s;)o=o.parentNode;return x(o)}},x.fn.tagsinput=function(o,s){var p=[];return this.each(function(){var c=x(this).data("tagsinput");if(!c)c=new i(this,o),x(this).data("tagsinput",c),p.push(c),this.tagName==="SELECT"&&x("option",x(this)).attr("selected","selected"),x(this).val(x(this).val());else{var h=c[o](s);h!==void 0&&p.push(h)}}),typeof o=="string"?p.length>1?p:p[0]:p},x.fn.tagsinput.Constructor=i;function z(o,s){if(typeof o[s]!="function"){var p=o[s];o[s]=function(c){return c[p]}}}function I(o,s){if(typeof o[s]!="function"){var p=o[s];o[s]=function(){return p}}}var E=x("<div />");function A(o){return o?E.text(o).html():""}function k(o){var s=0;if(document.selection){o.focus();var p=document.selection.createRange();p.moveStart("character",-o.value.length),s=p.text.length}else(o.selectionStart||o.selectionStart=="0")&&(s=o.selectionStart);return s}x(function(){x("input[data-role=tagsinput], select[multiple][data-role=tagsinput]").tagsinput()})})(window.jQuery)}}]);

//# sourceMappingURL=7628.9cbb2e9333486ad30b93.js.map