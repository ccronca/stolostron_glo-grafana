{"version":3,"file":"6330.8c87cf82a7886346917b.js","mappings":"uQAqBO,MAAMA,GAAmB,CAAC,CAC/B,cAAAC,EACA,YAAAC,EAAc,GACd,SAAAC,EAAW,QACX,aAAAC,EACA,gBAAAC,EACA,gBAAAC,EAAkB,WAClB,WAAAC,EACA,SAAAC,CACF,IAA6B,CAC3B,MAAMC,KAAQ,MAAU,EAClBC,EAASC,GAAUF,EAAON,CAAQ,EAClC,CAACS,EAAQC,CAAS,KAAIC,EAAA,GAAgBb,EAAeC,CAAW,EAEtE,OACE,gCACGU,GACC,gBAAC,KAAe,CAAC,QAASN,CAAA,EACxB,gBAACS,EAAA,EAAO,CAAC,QAASV,EAAiB,UAAU,UAC3C,gBAACW,EAAA,IACC,KAAK,OACL,QAAQ,YACR,QAAM,KAAoBb,CAAQ,EAClC,UAAWO,EAAO,cAClB,QAAS,IAAMG,EAAU,EAAK,GAE7BT,CACH,CACF,CACF,EAED,CAACQ,GACA,gBAACK,EAAA,EAAK,CAAC,SAAAd,EAAoB,MAAOI,EAAY,SAAU,IAAMM,EAAU,EAAI,GACzEL,CACH,CAEJ,CAEJ,EAEMG,GAAY,CAACF,EAAsBN,IAA2B,CAClE,MAAMe,EAAQT,EAAM,OAAON,CAAQ,EACnC,MAAO,CACL,iBAAe,QAAI,CACjB,MAAOe,EAAM,KAEb,UAAW,CACT,WAAYA,EAAM,WACpB,CACF,CAAC,CACH,CACF,ECjEMC,GAAoB,gDAEbC,GAAkB,IACzBC,EAAO,+BAA0B,CAACA,EAAO,sBAAe,uBACnD,KAIP,gBAACrB,GAAA,CACC,cAAemB,GACf,WAAY,qDACZ,aAAc,2BACd,gBAAiB,uBACjB,SAAU,WAEV,gBAAC,SAAE,qEAED,gBAAC,SAAG,EAAE,2DAER,EACA,gBAACG,EAAA,EAAQ,CAAC,SAAQ,GAAC,KAAM,6EAA6E,sBAEtG,CACF,E,iDCjBJ,SAASC,GAAqBC,EAAsC,CAClE,OAAOA,EAAa,OAAS,MAA4B,UAAYA,EAAa,KAAK,MAAM,EAAG,EAAE,CACpG,CAEO,MAAMC,EAAqB,CAAC,CAAE,SAAAC,EAAW,EAAM,IAAa,CACjE,MAAMhB,KAAS,MAAW,EAAS,EAE7B,CAAE,qBAAAiB,EAAsB,uBAAAC,EAAwB,wBAAAC,CAAwB,KAAI,MAAgB,EAE5FC,KAA0C,WAAQ,IAC/CF,EAAuB,IAAKG,IAAQ,CACzC,MAAOR,GAAqBQ,CAAE,EAC9B,MAAOA,EAAG,KACV,OAAQA,EAAG,OACX,KAAMA,EAAG,IACX,EAAE,EACD,CAACH,CAAsB,CAAC,EAE3B,OACE,gBAACI,EAAA,GACC,UAAWtB,EAAO,MAClB,MAAOgB,EAAW,eAAiB,sBACnC,SAAUA,GAAYI,EAAQ,SAAW,EACzC,cAAY,uBAEZ,gBAACG,GAAA,IACC,aAAYP,EAAW,eAAiB,sBACxC,MAAO,GACP,UAAU,6BACV,sBAAuB,GACvB,SAAWQ,GAAU,CACfA,GAAO,OACTL,EAAwBK,EAAM,KAAK,CAEvC,EACA,QAAAJ,EACA,cAAe,IACf,iBAAiB,uBACjB,MAAOH,EACP,eAAiBQ,GAAMA,EAAE,MAC3B,CACF,CAEJ,EAEM,GAAa1B,IAA0B,CAC3C,SAAO;AAAA;AAAA,GAGT,GCpDM2B,GAA2B,IAC/B,gBAACnB,EAAA,EAAK,CAAC,MAAM,wBAAwB,SAAS,WAAU,gHAExD,EAGIoB,EAA8B,IAClC,gBAACpB,EAAA,EAAK,CAAC,MAAM,mCAAmC,SAAS,WAAU,oJAGnE,EAGWqB,GAAwB,CAAC,CAAE,uBAAAV,CAAuB,IAAa,CAC1E,MAAMW,EAAcX,EAAuB,OAAS,EAEpD,OAAO,gBAAC,WAAKW,EAAc,gBAACF,EAAA,IAA4B,EAAK,gBAACD,GAAA,IAAyB,CAAG,CAC5F,ECRaI,EAAsB,CAAC,CAAE,SAAAhC,EAAU,UAAAiC,EAAW,GAAGC,CAAK,IACjE,gBAACC,EAAA,EAAI,CAAE,GAAGD,CAAA,EACR,gBAACC,EAAA,EAAK,SAAL,CAAc,UAAAF,CAAA,EACb,gBAAC,WACC,gBAACrB,GAAe,IAAC,EAChBZ,CACH,CACF,CACF,EASWoC,GAA0B,CAAC,CAAE,SAAApC,EAAU,WAAAqC,EAAY,GAAGC,CAAM,IAAoC,CAC3G,MAAMC,EAAsBC,GAAmC,EAE/D,OACE,gBAAC,KAAoB,CAAC,WAAAH,CAAA,EACpB,gBAACL,EAAA,CAAqB,GAAGM,EAAO,QAAS,gBAACrB,EAAkB,CAAC,SAAUsB,CAAA,CAAqB,GAC1F,gBAACE,GAAA,KAAkCzC,CAAS,CAC9C,CACF,CAEJ,EAMA,SAASwC,IAAqC,CAC5C,MAAME,KAAWC,EAAA,GAAY,EAG7B,MAF4B,CAAC,QAAS,MAAM,EAEjB,KAAMC,GAAUF,GAAU,UAAU,SAASE,CAAK,CAAC,CAChF,CAMA,MAAMH,GAAmC,CAAC,CAAE,SAAAzC,CAAS,IAAyB,CAC5E,KAAM,CAAE,uBAAAoB,EAAwB,qBAAAD,CAAqB,KAAI,MAAgB,EAEzE,OAAKA,EAIE,gCAAGnB,CAAS,EAHV,gBAAC8B,GAAqB,CAAC,uBAAAV,CAAA,CAAgD,CAIlF,C,ycCpDA,MAAMyB,EAAiB,IAAM,CAC3B,MAAM3C,KAAS,MAAWC,CAAS,EAC7B2C,EAAU,IAAM,OAAO,KAAK,kDAAmD,QAAQ,EAC7F,OACE,gBAACC,EAAA,EAAK,CAAC,IAAK,IACV,gBAAC,OAAI,UAAW7C,EAAO,iBAAiB,6CAAqD,EAC7F,gBAACK,GAAA,EAAO,CAAC,UAAU,MAAM,QAAS,2BAA4B,MAAM,QAClE,gBAACyC,GAAA,EAAI,CAAC,KAAK,cAAc,KAAK,KAAK,UAAW9C,EAAO,SAAU,QAAA4C,CAAA,CAAkB,CACnF,CACF,CAEJ,EAEaG,EAAmBC,GAAyBA,EAAI,QAAQ,GAAG,IAAM,GAEvE,SAASC,EAAiBb,EAA8B,CAC7D,KAAM,CAAE,MAAAZ,CAAM,EAAIY,EAGZc,EAA+B,CACnC,iBAHwBC,GAAuBJ,EAAgBI,CAAU,EAIzE,iBAAkBR,CACpB,EAEMS,EAAuB,CAC3B,eAAgB,GAChB,eAAiB5B,GAAU,CAACuB,EAAgBvB,CAAK,CACnD,EAEA,OACE,gBAAC6B,EAAA,IACC,SAAU,GACV,SAAS,GACT,WAAY,GACZ,aAAc7B,GAAO,MACrB,iBAAkBA,GAAO,IACzB,gBAAiB,kBAAgB,YAChC,GAAGY,EACJ,gBAAiB,wBAAsB,KACvC,UAAAgB,EACA,cAAAF,CAAA,CACF,CAEJ,CAEA,MAAMjD,EAAaF,IAA0B,CAC3C,mBAAiB;AAAA,aACNA,EAAM,OAAO,QAAQ;AAAA;AAAA;AAAA,IAIhC,YAAU;AAAA,aACCA,EAAM,OAAO,QAAQ;AAAA;AAAA;AAAA;AAAA,GAKlC,G,aCrCO,MAAMuD,EAAoB,IAEpBC,EAAwB,CAACC,EAAqBC,IAAqC,CAC9F,MAAMC,KAAW,eAAY,KAI7B,aAAU,IAAM,CACdA,KAAS,MAAsB,CAAE,gBAAiB,IAA0B,CAAC,CAAC,CAChF,EAAG,CAACA,CAAQ,CAAC,EAGb,MAAMC,KADoBC,EAAA,GAA4BC,GAAUA,EAAM,UAAU,EAC/B,IAAyB,EAoB1E,MAAO,CAAE,iBAlBcC,GAAA,IAA0B,IAAyB,EACtC,KAAMC,GAAMA,EAAE,OAASP,CAAW,GAAG,QAAU,CAAC,GAGjF,IAA8BQ,GAAU,CACvC,MAAMC,EAAgBC,GAAmBF,CAAK,EAC9C,MAAO,CACL,MAAOA,EAAM,KACb,MAAOA,EAAM,KACb,YAAaA,EAAM,UAAY,KAE/B,WAAaP,EAA0C,GAAhBQ,EACvC,cAAAA,CACF,CACF,CAAC,EAEA,KAAKE,EAAW,EAEI,QAASR,GAAwB,OAAQ,CAClE,EAEMO,GAAsBF,GACnBA,EAAM,MAAM,KAChBI,MAAS,MAAmBA,EAAK,SAAS,GAAK,EAAQA,EAAK,UAAU,cAAc,UACvF,EAGID,GAAc,CAAC,EAA4BE,IACxC,EAAE,OAAO,cAAcA,EAAE,OAAS,EAAE,GAAK,EAG5CC,GAAyB,CAACN,EAAgCO,IACvDP,EAAM,OAAO,YAAY,EAAE,SAASO,EAAM,YAAY,CAAC,EAGzD,SAASC,GAAe,CAC7B,uBAAAb,EACA,wBAAAF,CACF,EAGG,CACD,KAAM,CACJ,UAAW,CAAE,OAAAgB,CAAO,EACpB,MAAAC,EACA,SAAAC,EACA,QAAAC,CACF,KAAI,MAA+B,EAE7B5E,KAAS,MAAW,EAAS,EAE7B6E,EAASH,EAAM,QAAQ,EACvBV,EAAQU,EAAM,OAAO,EAErB,CAAE,aAAAI,EAAc,QAAAC,CAAQ,EAAIxB,EAAsBsB,GAAQ,OAAS,GAAIpB,CAAuB,EAE9F,CAACuB,EAAkBC,CAAmB,KAAI,YAAS,EAAK,EACxD,CAACC,EAA2BC,CAA4B,KAAI,YAAS,EAAK,EAE1EC,EAA4B,IAAMH,EAAoB,EAAI,EAC1DI,EAAqC,IAAMF,EAA6B,EAAI,EAE5EG,GAAwBT,GAAmB,CAC/CU,GAAW,EACXZ,EAAS,SAAUE,CAAM,EACzBI,EAAoB,EAAK,CAC3B,EAEMO,GAA0B,CAACC,EAAmBC,IAA+B,CACjFf,EAAS,QAASc,CAAS,EAC3Bd,EAAS,gBAAiBe,CAAkB,EAC5CP,EAA6B,EAAK,CACpC,EAEMI,MAAa,eAAY,IAAM,CACnCZ,EAAS,QAAS,EAAE,CACtB,EAAG,CAACA,CAAQ,CAAC,EAEPgB,MAAa,eACjB,MAAOpB,GAAkB,CACvB,MAAMqB,EAAUrB,EAAQO,EAAa,OAAQd,IAAUM,GAAuBN,GAAOO,CAAK,CAAC,EAAIO,EAC/F,SAAO,QAAKc,EAAStC,CAAiB,CACxC,EACA,CAACwB,CAAY,CACf,EAEMe,MAAkB,WAAQ,OACvB,YAASF,GAAY,IAAK,CAAE,QAAS,EAAK,CAAC,EACjD,CAACA,EAAU,CAAC,EAETG,EAAoB9B,EAAQ,CAAE,MAAOA,EAAO,MAAOA,CAAM,EAAI,OAEnE,OACE,gBAAC,OAAI,UAAWhE,EAAO,WACrB,gBAAC6C,EAAA,EAAK,CAAC,WAAW,UAChB,gBAACkD,EAAA,GACC,MACE,gBAACC,EAAA,EAAK,CAAC,QAAQ,SAAS,YAAa,uCAAuC,QAE5E,EAEF,UAAWhG,EAAO,UAClB,MAAOyE,EAAO,QAAQ,QACtB,QAAS,CAAC,CAACA,EAAO,QAAQ,QAC1B,cAAY,iBAEV,CAACO,GACD,gBAACiB,EAAA,GACC,OAAQ,CAAC,CAAE,MAAO,CAAE,IAAAC,EAAK,GAAGC,CAAM,CAAE,IAClC,gBAAC,OAAI,MAAO,CAAE,MAAO,GAAI,GACvB,gBAAClD,EAAA,CACC,QAAQ,SACP,GAAGkD,EACJ,YAAa,GACb,SAAU,CAAC,CAAE,MAAAC,GAAO,IAAAC,EAAI,IAAM,CAC5BF,EAAM,SAAS,CAAE,MAAAC,GAAO,IAAAC,EAAI,CAAC,EAC7Bd,GAAW,CACb,EACF,CACF,EAEF,KAAK,SACL,MAAO,CACL,SAAU,CAAE,MAAO,GAAM,QAAS,iBAAkB,EACpD,SAAU,CACR,cAAgBV,MAAmB,MAAsBA,EAAO,KAAK,CACvE,CACF,EACF,GACI,gBAAC,WAAI,wBAAsB,CACnC,EACA,gBAACyB,GAAA,EAAG,CAAC,UAAW,IAAK,IAAK,EAAG,QAAS,OAAQ,WAAY,UACxD,gBAACC,EAAA,EAAI,CAAC,MAAM,aAAY,IAAE,EAC1B,gBAACjG,EAAA,IACC,QAAS8E,EACT,KAAK,SACL,KAAK,OACL,KAAK,UACL,QAAQ,YACR,SAAU,CAAC,cAAW,cAAc,sBAAoB,aAAa,GACtE,YAED,CACF,CACF,EAECJ,GACC,gBAACwB,GAAA,CAAoB,SAAUlB,GAAsB,QAAS,IAAML,EAAoB,EAAK,EAAG,EAGlG,gBAACpC,EAAA,EAAK,CAAC,WAAW,UAChB,gBAAC,OAAI,MAAO,CAAE,MAAO,GAAI,GACvB,gBAACkD,EAAA,GACC,MAAM,mBACN,cAAY,eACZ,YAAY,sFACZ,UAAW/F,EAAO,UAClB,MAAOyE,EAAO,OAAO,QACrB,QAAS,CAAC,CAACA,EAAO,OAAO,SAEzB,gBAACwB,EAAA,GACC,OAAQ,CAAC,CAAE,MAAO,CAAE,IAAAC,EAAK,GAAGC,CAAM,EAAG,WAAAM,EAAW,IAC9C,gBAAC,OACC,SAAU,CAAC5B,GAAUE,EACrB,QAAQ,QACR,OAAK,YAAS,EACb,GAAGoB,EACJ,SAAWnC,IAAU,CACnBmC,EAAM,SAASnC,GAAM,OAAS,EAAE,CAClC,EACA,UAAWe,EACX,QAAS,EAAQF,GAAW,CAACb,GAAS,EAAQyC,GAAW,MACzD,YAAaZ,GACb,aAAY,GACZ,eAAgB,oBAChB,aAAcC,EACd,eAAgBhB,EAChB,eAAiB4B,IACf,gBAAC,WACC,gBAAC,YAAMA,GAAO,KAAM,EACnBA,GAAO,eACN,gCACG,IACD,gBAACC,EAAA,GAAiB,IAAC,CACrB,CAEJ,EAEF,YAAa,gCACf,EAEF,KAAK,QACL,QAAA/B,EACA,MAAO,CACL,SAAU,CAAE,MAAO,GAAM,QAAS,yBAA0B,EAC5D,SAAU,CACR,cAAgBgC,MAAmB,MAAsBA,CAAM,CACjE,CACF,EACF,CACF,CACF,EACA,gBAACN,GAAA,EAAG,CAAC,UAAW,EAAG,IAAK,EAAG,QAAS,OAAQ,WAAY,UACtD,gBAACC,EAAA,EAAI,CAAC,MAAM,aAAY,IAAE,EAC1B,gBAACjG,EAAA,IACC,QAAS+E,EACT,KAAK,SACL,KAAK,OACL,KAAK,UACL,QAAQ,YACR,SAAU,CAACR,CAAA,EACZ,sBAED,CACF,EACCK,GACC,gBAAC2B,GAAA,CACC,SAAUrB,GACV,QAAS,IAAML,EAA6B,EAAK,EACjD,uBAAAxB,CAAA,CACF,CAEJ,CACF,CAEJ,CAEA,SAAS6C,GAAoB,CAC3B,QAAAM,EACA,SAAAC,CACF,EAGuB,CACrB,MAAM/G,KAAS,MAAW,EAAS,EAE7B,CAACoG,EAAOY,CAAQ,KAAI,YAAS,EAAE,EAC/BC,EAAW,SAAY,CAC3B,MAAMC,EAAY,QAAM,OAAa,CAAE,MAAAd,CAAa,CAAC,EACrD,GAAI,CAACc,EAAU,IAAK,CAClB,KAAU,KAAK,MAAU,WAAY,CAAC,6BAA6B,CAAC,EACpE,OAGF,MAAMrC,EAAiB,CAAE,MAAOqC,EAAU,MAAO,IAAKA,EAAU,GAAI,EACpEH,EAASlC,CAAM,EACf,KAAU,KAAK,MAAU,aAAc,CAAC,iBAAkB,IAAI,CAAC,CACjE,EAEMsC,EAAQpE,EAAgBqD,CAAK,EAEnC,OACE,gBAACgB,EAAA,EAAK,CAAC,UAAWpH,EAAO,MAAO,OAAQ,GAAM,MAAO,aAAc,UAAW8G,EAAS,gBAAiBA,CAAA,EACtG,gBAAC,OAAI,UAAW9G,EAAO,YAAY,wCAAsC,EAEzE,gBAAC,QAAK,SAAAiH,CAAA,EACJ,gBAAClB,EAAA,GACC,MAAO,gBAACC,EAAA,EAAK,CAAC,QAAQ,UAAS,aAAW,EAC1C,MAAO,wCACP,QAASmB,CAAA,EAET,gBAACE,EAAA,GACC,UAAW,GACX,GAAG,aACH,YAAY,eACZ,MAAOjB,EACP,SAAWkB,GAAMN,EAASM,EAAE,cAAc,KAAK,EAC/C,UAAWtH,EAAO,UACpB,CACF,EAEA,gBAACoH,EAAA,EAAM,UAAN,KACC,gBAAC9G,EAAA,GAAM,CAAC,QAAQ,YAAY,KAAK,SAAS,QAASwG,CAAA,EAAS,QAE5D,EACA,gBAACxG,EAAA,GAAM,CAAC,KAAK,SAAS,SAAU,CAAC8F,GAASe,CAAA,EAAO,QAEjD,CACF,CACF,CACF,CAEJ,CAEA,SAASN,GAA6B,CACpC,QAAAC,EACA,SAAAC,EACA,uBAAApD,CACF,EAIuB,CACrB,MAAM3D,KAAS,MAAW,EAAS,EAC7BiH,EAAW,IAAM,CACrBF,EAASQ,EAAU,OAAO,EAAGA,EAAU,eAAe,CAAC,CACzD,EAEM,CAAE,MAAA7C,CAAM,KAAI,MAA+B,EAE3C8C,EAAkB,mBAClB,CAAC/B,EAAWtC,CAAU,EAAIuB,EAAM,CAAC,QAAS,cAAc,CAAC,EAEzD+C,GACH9D,GAA0BA,EAAuBR,CAAU,GAAG,KAAMuE,GAAMA,EAAE,OAASjC,CAAS,GAAG,QAAU,CAAC,EAEzGkC,EAAW,IAAM,CACrBb,EAAQ,CACV,EAEMc,KAAU,MAAQ,CACtB,cAAe,CAAE,MAAO,GAAI,cAAe,EAAG,EAC9C,KAAM,WACN,iBAAkB,EACpB,CAAC,EAEK,CAAE,SAAAC,EAAU,aAAAC,EAAc,UAAAC,EAAW,UAAAR,CAAU,EAAIK,EAEzD,OACE,gBAACR,EAAA,GACC,UAAWpH,EAAO,MAClB,OAAQ,GACR,MAAO,uBACP,UAAW2H,EACX,gBAAiBA,CAAA,EAEjB,gBAAC,OAAI,UAAW3H,EAAO,YAAY,2DAAyD,EAE5F,gBAAC,KAAY,CAAE,GAAG4H,CAAA,EAChB,gBAAC,QAAK,SAAUE,EAAa,IAAMb,EAAS,CAAC,GAC3C,gBAAClB,EAAA,GACC,MAAO,gBAACC,EAAA,EAAK,CAAC,QAAS,SAAS,uBAAqB,EACrD,MAAO+B,EAAU,OAAO,OAAO,QAC/B,QAAS,CAAC,CAACA,EAAU,OAAO,OAE5B,gBAACV,EAAA,GACC,UAAWrH,EAAO,UAClB,UAAW,GACX,GAAI,QACJ,YAAY,eACX,GAAG6H,EAAS,QAAS,CAAE,SAAU,CAAE,MAAO,GAAM,QAAS,WAAY,CAAE,CAAC,EAC3E,CACF,EAEA,gBAAC9B,EAAA,GACC,MAAOgC,EAAU,OAAO,eAAe,QACvC,QAAS,CAAC,CAACA,EAAU,OAAO,cAC5B,MACE,gBAAC/B,EAAA,GACC,QAASwB,EACT,YAAY,4EACb,qBAED,GAGF,gBAACH,EAAA,GACC,UAAWrH,EAAO,UAClB,GAAIwH,EACJ,YAAY,UACX,GAAGK,EAAS,mBAAiB,OAA+BJ,CAAU,CAAC,EAC1E,CACF,EACA,gBAACL,EAAA,EAAM,UAAN,KACC,gBAAC9G,EAAA,GAAM,CAAC,QAAQ,YAAY,KAAK,SAAS,QAASqH,CAAA,EAAU,QAE7D,EACA,gBAACrH,EAAA,GAAM,CAAC,KAAK,SAAS,SAAU,CAACyH,EAAU,SAAS,QAEpD,CACF,CACF,CACF,CACF,CAEJ,CAEA,MAAM,GAAahI,IAA0B,CAC3C,aAAW;AAAA;AAAA;AAAA;AAAA,iBAIIA,EAAM,YAAY,OAAO;AAAA;AAAA,IAGxC,aAAW;AAAA;AAAA,IAGX,SAAO;AAAA,aACIA,EAAM,YAAY,OAAO;AAAA,IAEpC,cAAY;AAAA,aACDA,EAAM,OAAO,KAAK;AAAA,qBACVA,EAAM,QAAQ,CAAC;AAAA,GAEpC,G,eCpbA,MAAMqB,GAA6B,CACjC,CAAE,MAAO,KAA0B,SAAU,MAAO,UAAW,EAC/D,CAAE,MAAO,KAA0B,OAAQ,MAAO,SAAU,EAC5D,CAAE,MAAO,KAA0B,GAAI,MAAO,IAAK,EACnD,CAAE,MAAO,KAA0B,MAAO,MAAO,OAAQ,CAC3D,EAEa4G,GAA0B,CAAC,CAAE,cAAAC,EAAe,aAAAC,EAAc,GAAG9F,CAAM,IAAa,CAC3F,MAAM+F,KAAO,WAAQ,IACdF,EAGAC,EAGE9G,GAFEA,GAAQ,OAAQgH,GAAQA,EAAI,QAAU,KAA0B,KAAK,EAHrEhH,GAAQ,OAAQgH,GAAQA,EAAI,QAAU,KAA0B,MAAM,EAM9E,CAACH,EAAeC,CAAY,CAAC,EAChC,OAAO,gBAAC3G,GAAA,GAAM,CAAC,QAAS4G,EAAO,GAAG/F,CAAA,CAAO,CAC3C,E,2BCIO,MAAMiG,EAAwB,GAE/BC,GAAwBC,IAA4C,CACxE,SAAU,CACR,MAAO,GACP,QAAS,WACX,EACA,SAAW/G,GAAkB,CAE3B,GAAIA,IAAU,IACZ,MAAO,GAGT,GAAI,CACF,MAAMgH,KAAY,OAAwBhH,CAAK,EAG/C,GAAIgH,IAAc,EAChB,MAAO,GAGT,GAAI,CACF,MAAMC,KAAc,OAAwBF,CAAa,EACzD,OAAOC,GAAaC,EAChB,GACA,wEACN,MAAE,CAGA,MAAO,EACT,CACF,OAAStB,EAAP,CACA,OAAOA,aAAiB,MAAQA,EAAM,QAAU,0BAClD,CACF,CACF,GAEMuB,GAAgB,CAAC7D,EAAgBb,IAAkB,CACvD,KAAM,CAAE,aAAAc,CAAa,EAAIvB,EAAsBsB,EAAQ,EAAK,EAM5D,MAAO,IAJuB,eAC3B+B,GAAmB9B,EAAa,KAAM6D,GAAyCA,EAAY,QAAU/B,CAAM,EAC5G,CAAC9B,CAAY,CACf,EAC8Bd,CAAK,CACrC,EAEA,SAAS4E,GAAiC,CACxC,cAAAL,EACA,iBAAAM,EACA,wBAAApF,CACF,EAIG,CACD,MAAMzD,KAAS,MAAW,EAAS,EAC7B,CAAE,MAAA0E,EAAO,SAAAC,EAAU,UAAA4C,CAAU,KAAI,MAA+B,EAChE,CAACuB,EAAgBC,CAAiB,KAAI,YAAS,EAAK,EAEpD,CAACtD,EAAWtC,CAAU,EAAIuB,EAAM,CAAC,QAAS,cAAc,CAAC,EAGzDf,KADoBC,EAAA,GAA4BC,GAAUA,EAAM,UAAU,EAC/B,IAAyB,EAGpEmF,KADoBlF,GAAA,IAA0B,IAAyB,EACjC,KAAMmF,GAAOA,EAAG,OAAS9F,CAAU,EACzE+F,EAAgBF,GAAmB,OAAO,KAAMtB,GAAMA,EAAE,OAASjC,CAAS,EAE1E0D,EAAaT,GAAcvF,GAAc,GAAIsC,CAAS,KAE5D,aAAU,IAAM,CACV,CAAC0D,GAAcD,GAAe,UAChCL,EAAiBK,EAAc,QAAQ,CAE3C,EAAG,CAACL,EAAkBM,EAAYxE,EAAUuE,CAAa,CAAC,EAE1D,MAAME,GAAsB,CAACC,EAAQ,KAAU,CACxCA,MACH,OAAQ,MAAY,oBAAoB,EAE1CN,EAAkB,EAAK,CACzB,EAEMO,GAAuB,IAAMP,EAAkB,EAAI,EAEnDQ,GAAoB5F,GAAwB,SAAWwF,GAAc,CAAChG,GAAc,CAACsC,EAErF+D,GAAwC,CAC5C,KAAMrG,EACN,YAAa,KACb,OAAQ,CAAC,CACX,EACMsG,GAAgC,CAAE,KAAMhE,EAAW,SAAU8C,EAAe,MAAO,CAAC,EAAG,OAAQ,CAAC,CAAE,EAExG,OACE,gBAAC,WACC,gBAAC/D,GAAA,CACC,uBAAwBb,GAAwB,OAChD,wBAAAF,CAAA,CACF,EACCN,GAAc2F,GACb,gBAAC,OACC,UAAWE,GAAqBQ,GAChC,MAAON,GAAiBO,GACxB,QAAS,IAAML,GAAoB,EACnC,iBAAgB,GAChB,WAAY,GACd,EAEDjG,GAAcsC,GACb,gBAAC,OAAI,UAAWzF,EAAO,qBACrB,gBAAC6C,EAAA,EAAK,CAAC,UAAU,SAAS,IAAK,GAC7B,gBAAC,OAAI,UAAW7C,EAAO,WACrB,gBAAC6C,EAAA,EAAK,CAAC,UAAU,SAAS,IAAK,GAC5B0E,EAAU,OAAO,GAAKA,EAAU,eAAe,GAC9C,gBAAC,YAAK,uDACiDgB,EAAc,IAAE,IACpE,CAACY,GACA,gBAACO,GAAA,GACC,KAAK,MACL,aAAW,OACX,SAAUH,GACV,QAASD,EAAA,CACX,CAEJ,CAEJ,CACF,CACF,CACF,CAEJ,CAEJ,CAEA,SAASK,GAAS,CAAE,cAAApB,CAAc,EAA8B,CAC9D,MAAMvI,KAAS,MAAW,EAAS,EAC7B,CACJ,SAAA6H,EACA,UAAW,CAAE,OAAApD,CAAO,CACtB,KAAI,MAA+B,EAE7BmF,EAAgB,iBAEtB,OACE,gBAAC/G,EAAA,EAAK,CAAC,UAAU,MAAM,kBAAgB,aAAa,cAAY,cAC9D,gBAACkD,EAAA,GACC,MACE,gBAACC,EAAA,GACC,QAAQ,cACR,YAAY,+FACb,gBAED,EAEF,UAAWhG,EAAO,YAClB,MAAOyE,EAAO,aAAa,QAC3B,QAAS,CAAC,CAACA,EAAO,aAAa,QAC/B,oCAAqC,IAErC,gBAAC4C,EAAA,EAAK,CAAC,GAAIuC,EAAe,MAAO,EAAI,GAAG/B,EAAS,cAAeS,GAAqBC,CAAa,CAAC,EAAG,CACxG,CACF,CAEJ,CAEA,SAASsB,GAAiB,CACxB,MAAMC,EAAW,6FAEjB,OACE,gBAACjH,EAAA,EAAK,CAAC,UAAU,MAAM,IAAK,GAAK,WAAW,YAC1C,gBAAC0D,EAAA,EAAI,CAAC,QAAQ,YAAY,MAAM,aAAY,yCAE5C,EACA,gBAACwD,GAAA,GACC,YAAY,uOACZ,aAAcD,EACd,SAAU,wBACV,MAAM,aACR,CACF,CAEJ,CAEO,SAASE,GAA0B,CACxC,cAAAzB,EACA,iBAAAM,EACA,SAAAoB,EACA,wBAAAxG,CACF,EAKG,CACD,MAAMzD,KAAS,MAAW,EAAS,EAC7B,CAACkK,EAAmBC,CAAoB,KAAI,YAAS,EAAK,EAE1D,CAAE,MAAAzF,EAAO,SAAAC,CAAS,KAAI,MAA+B,EAErDyF,EAAW1F,EAAM,UAAU,EAEjC,OAEE,gBAAC2F,GAAA,EAAiB,CAAC,OAAQ,EAAG,MAAM,0BAA0B,YAAaR,EAAe,GACxF,gBAAChH,EAAA,EAAK,CAAC,UAAU,SAAS,kBAAgB,aAAa,cAAY,cACjE,gBAAC+F,GAAA,CACC,iBAAAC,EACA,cAAAN,EACA,wBAAA9E,CAAA,CACF,EACA,gBAACkG,GAAA,CAAS,cAAApB,CAAA,CAA8B,EAEvC0B,GACC,gBAAClE,EAAA,EAAK,CAAC,QAAQ,sBACb,gBAACE,EAAA,GACC,OAAQ,IACN,gBAACpD,EAAA,EAAK,CAAC,IAAK,EAAG,UAAU,MAAM,WAAW,UACxC,gBAACyH,EAAA,GACC,GAAG,cACH,SAAW9I,GAAU,CACnBmD,EAAS,WAAYnD,EAAM,cAAc,OAAO,CAClD,EACA,MAAO,EAAQ4I,CAAQ,CACzB,EACA,gBAAC,SAAM,QAAQ,cAAc,UAAWpK,EAAO,aAAa,mBAE1D,gBAACK,GAAA,EAAO,CAAC,UAAU,MAAM,QAAQ,mDAAmD,MAAO,QACzF,gBAACyC,GAAA,EAAI,CAAC,SAAU,EAAG,KAAK,cAAc,KAAK,KAAK,UAAW9C,EAAO,SAAU,CAC9E,CACF,CACF,EAEF,KAAK,WACP,CACF,CAEJ,EACA,gBAACuK,GAAA,GACC,YAAa,CAACL,EACd,SAAWM,GAAcL,EAAqB,CAACK,CAAS,EACxD,KAAK,uCACP,EACCN,GACC,gCACE,gBAACnE,EAAA,EAAK,CAAC,QAAQ,sBAAsB,MAAM,iDACzC,gBAACE,EAAA,GACC,OAAQ,CAAC,CAAE,MAAO,CAAE,SAAAwE,EAAU,IAAAvE,EAAK,GAAGC,CAAM,CAAE,IAC5C,gBAAC6B,GAAA,CACE,GAAG7B,EACJ,QAAQ,sBACR,MAAO,GACP,cAAe,GACf,aAAc,GACd,SAAW3E,GAAUiJ,EAASjJ,GAAO,KAAK,EAC5C,EAEF,KAAK,cACP,CACF,EACA,gBAACuE,EAAA,EAAK,CAAC,QAAQ,uBAAuB,MAAM,6CAC1C,gBAACE,EAAA,GACC,OAAQ,CAAC,CAAE,MAAO,CAAE,SAAAwE,EAAU,IAAAvE,EAAK,GAAGC,CAAM,CAAE,IAC5C,gBAAC6B,GAAA,CACE,GAAG7B,EACJ,QAAQ,uBACR,MAAO,GACP,cAAe,GACf,aAAc,GACd,SAAW3E,GAAUiJ,EAASjJ,GAAO,KAAK,EAC5C,EAEF,KAAK,eACP,CACF,CACF,CAEJ,CAEJ,CAEA,MAAM,GAAazB,IAA0B,CAC3C,eAAa;AAAA;AAAA,IAGb,iBAAe;AAAA,oBACGA,EAAM,QAAQ,CAAC;AAAA,IAEjC,uBAAqB;AAAA,aACVA,EAAM,OAAO,KAAK;AAAA,iBACdA,EAAM,YAAY,OAAO;AAAA,iBACzBA,EAAM,WAAW,KAAK;AAAA,IAErC,wBAAsB;AAAA,qBACHA,EAAM,QAAQ,CAAC;AAAA,IAElC,eAAa;AAAA;AAAA,oBAEKA,EAAM,QAAQ,CAAC;AAAA,aACtBA,EAAM,OAAO,QAAQ;AAAA,IAEhC,YAAU;AAAA;AAAA,IAGV,kBAAgB;AAAA,aACLA,EAAM,OAAO,QAAQ;AAAA,IAEhC,QAAM;AAAA;AAAA,IAGN,iBAAe;AAAA,kBACCA,EAAM,QAAQ,CAAC;AAAA,oBACbA,EAAM,QAAQ,CAAC;AAAA,IAEjC,aAAW;AAAA,kBACKA,EAAM,QAAQ,CAAC;AAAA,IAE/B,eAAa,OAAI;AAAA,aACNA,EAAM,OAAO,KAAK;AAAA;AAAA,gBAEfA,EAAM,WAAW,UAAU;AAAA,GACxC,CACH,E,8UCjWA,MAAM2K,GAAkC,IACtC,gBAACnK,EAAA,EAAK,CAAC,SAAS,UAAU,MAAM,8CAA6C,oCAC1C,gBAAC,cAAQ,UAAO,gBAAgB,WAAY,EAAS,mCAEtF,gBAAC,SAAG,EAAE,iEAER,E,eCaF,MAAMoK,GAAiB,GAEvB,SAASC,GAAS,CAAE,QAAAC,EAAS,MAAA1D,CAAM,EAAyC,CAC1E,OAAIA,EACK,gBAAC2D,EAAA,EAAK,CAAC,MAAM,MAAM,KAAK,qBAAqB,KAAM,QAAS,QAASD,CAAA,CAAS,EAE9E,gBAACC,EAAA,EAAK,CAAC,MAAM,SAAS,KAAK,uBAAuB,KAAM,UAAW,QAASD,CAAA,CAAS,CAEhG,CAEA,MAAME,GAAqBC,GAAuB,CAChD,GAAI,CACF,MAAMC,KAAW,MAAwBD,CAAU,EAMnD,MAJI,EAAAC,EAAW,IAAwB,KAInCA,GAAY,IAAwB,OAAU,EAKpD,MAAE,CACA,MAAO,EACT,CACF,EAKaC,EAAqB,CAAC,CAAE,2BAAAC,CAA2B,IAAsD,CACpH,MAAMnL,KAAS,OAAWC,CAAS,EAE7B,CAAE,MAAAyE,CAAM,KAAI,MAA2B,EACvC0G,EAAkB1G,EAAM,eAAe,EACvC2G,EAAyB,CAASD,EAElCE,EAAkCH,EACrC,MAAM,EACN,IAAI,CAAC/G,EAAoBmH,KAAW,CACnC,GAAIA,EACJ,QAAM,OAAanH,EAAMgH,CAAe,CAC1C,EAAE,EACD,KACC,CAACI,EAAQC,OAAW,MAAqBD,EAAO,KAAK,WAAW,KAAI,MAAqBC,EAAO,KAAK,WAAW,CAClH,EAEIC,KAA2C,WAAQ,IAChD,CACL,CACE,GAAI,YACJ,MAAO,QACP,WAAY,CAAC,CAAE,KAAM,CAAE,UAAAC,CAAU,CAAE,IAC1B,gCAAGA,CAAU,EAEtB,KAAM,OACR,EACA,CACE,GAAI,MACJ,MAAO,MACP,WAAY,CAAC,CAAE,KAAM,CAAE,YAAAC,CAAY,CAAE,IAC5B,gCAAGA,CAAY,EAExB,KAAM,EACR,EACA,CACE,GAAI,oBACJ,MAAO,QACP,WAAY,CAAC,CAAE,KAAM,CAAE,kBAAmBC,CAAkB,CAAE,IACxDR,EACK,gBAACT,GAAA,CAAS,QAAQ,6BAA8B,GAElDG,GAAkBK,CAAe,EAGlCS,IAAsB,EAEtB,gBAACjB,GAAA,CAAS,QAAQ,6EAA6E,MAAK,GAAC,EAGhG,gCAAGiB,CAAkB,EAPrB,gBAACjB,GAAA,CAAS,QAAS,qCAAsC,MAAK,GAAC,EAW5E,KAAM,EACR,CACF,EACC,CAACQ,EAAiBC,CAAsB,CAAC,EAE5C,OACE,gBAAC,OAAI,UAAWrL,EAAO,cACrB,gBAAC8L,GAAA,EAAY,CAAC,MAAOR,EAAM,KAAMI,EAAS,WAAY,CAAE,aAAcf,EAAe,EAAG,CAC1F,CAEJ,EAQaoB,EAAkCC,IAA4C,CACzF,SAAU,CACR,MAAO,GACP,QAAS,WACX,EACA,SAAWzD,GAA0B,CACnC,GAAI,CACF,MAAM0C,KAAW,MAAwB1C,CAAa,EAEtD,OAAI0C,EAAW,IAAwB,IAC9B,uBAAuB,eAG5BA,GAAY,IAAwB,OAAU,EACzC,yBAAyB,kBAE9B,MAA+Be,EAAOzD,CAAa,EAAE,SAAW,EAC3D,GAEA,+HAEX,OAASpB,EAAP,CACA,OAAOA,aAAiB,MAAQA,EAAM,QAAU,0BAClD,CACF,CACF,GAWO,SAAS8E,EAAoB7J,EAAuC,CACzE,KAAM,CAAE,UAAA8J,EAAW,MAAAlI,EAAO,QAAA8C,EAAS,iBAAAqF,CAAiB,EAAI/J,EAElDpC,KAAS,OAAWC,CAAS,EAC7ByD,KAAW,gBAAY,EACvB,CAAE,QAAAqB,EAAS,MAAAoC,EAAO,WAAAiF,EAAW,KACjCxI,GAAA,GAA4BC,GAAUA,EAAM,4BAA4B,GAAK,MACzEwI,MAAY,OAAmB,EAE/BC,MAAgB,WACpB,KAAmB,CACjB,cAAeJ,EAAU,KACzB,UAAWlI,EAAM,KACjB,cAAeA,EAAM,UAAY,EACnC,GACA,CAACkI,EAAWlI,CAAK,CACnB,EAEMuI,MAAkB,OAAmBL,EAAU,WAAW,EAC1DM,GAAwBD,KAAoB,MAE5CE,GAAiBD,GAAwB,SAAW,eAG1D,aAAU,IAAM,CACVJ,IAAc,CAACrH,GAAW,CAACoC,GAC7BL,EAAQ,EAAI,CAEhB,EAAG,CAACsF,GAAYrH,EAAS+B,EAASK,CAAK,CAAC,KAExCuF,GAAA,GAAY7I,GAAWA,EAAM,gBAAgB,6BAA+B,KAAyB,EACrG,MAAMoD,GAAY0F,GAAuB,CACvCjJ,KACE,MAAmC,CACjC,gBAAA6I,GACA,UAAWvI,EAAM,KACjB,aAAc2I,EAAO,UACrB,cAAeT,EAAU,KACzB,iBAAkBS,EAAO,cACzB,cAAeA,EAAO,eAAiB,MACzC,CAAC,CACH,CACF,EAEM/E,KAAU,MAAoB,CAClC,KAAM,SACN,cAAA0E,GACA,iBAAkB,EACpB,CAAC,EACK,CACJ,aAAAxE,GACA,SAAAD,GACA,MAAAnD,GACA,UAAW,CAAE,QAAAkI,GAAS,OAAAnI,CAAO,CAC/B,EAAImD,EAEEiF,GAAY,IAAM,CACtBR,GAAU,MAAM,6DAA6D,CAC/E,EAEMlB,MAA6B,WACjCnH,EAAM,MAAM,IAAK8I,GAAMA,EAAE,SAAS,EAAE,OAAQ1I,GAAS,IAAC,OAAqBA,CAAI,CAAC,CAClF,EACM2I,GAA0B5B,GAA2B,OAAS,EAC9D6B,GACJb,GAAoBK,GAAwB,wBAA0B,qCAExE,OACE,gBAACpF,EAAA,EAAK,CAAC,UAAWpH,EAAO,MAAO,OAAQ,GAAM,MAAOgN,GAAY,UAAWlG,EAAS,gBAAiBA,CAAA,EACpG,gBAAC,KAAY,CAAE,GAAGc,CAAA,EAChB,gBAAC,QAAK,SAAWN,GAAMA,EAAE,eAAe,EAAG,IAAK,KAAK,UAAUgF,EAAa,GAC1E,gCACG,CAAClK,EAAM,YACN,gBAACS,EAAA,EAAK,CAAC,IAAK,EAAG,WAAY,UACzB,gBAACkD,EAAA,GACC,UAAW/F,EAAO,UAClB,MACE,gBAACgG,EAAA,GACC,QAAQ,gBACR,YACE,CAACwG,IACD,wFAGDC,EACH,EAEF,QAAS,CAAC,CAAChI,EAAO,cAClB,MAAOA,EAAO,eAAe,SAE7B,gBAAC4C,EAAA,GACC,GAAG,gBACH,SAAU8E,GAAoBK,GAC7B,GAAG3E,GAAS,gBAAiB,CAC5B,SAAU,6BACZ,CAAC,EACH,CACF,EACC2E,IAAyBpK,EAAM,WAC9B,gBAAC,MACC,KAAMA,EAAM,UACZ,MAAM,eACN,QAAQ,YACR,KAAK,cACL,OAAO,SACT,CAEJ,EAEF,gBAAC2D,EAAA,GACC,MAAO,gBAACC,EAAA,EAAK,CAAC,QAAQ,aAAY,uBAAqB,EACvD,QAAS,CAAC,CAACvB,EAAO,UAClB,MAAOA,EAAO,WAAW,SAEzB,gBAAC4C,EAAA,GACC,UAAW,GACX,GAAG,YACH,SAAU8E,EACT,GAAGtE,GAAS,YAAa,CACxB,SAAU,oCACZ,CAAC,EACH,CACF,EACA,gBAAC9B,EAAA,GACC,MACE,gBAACC,EAAA,GACC,QAAQ,gBACR,YAAY,4EAEZ,gBAACnD,EAAA,EAAK,CAAC,IAAK,IAAK,qBAAmB,CACtC,EAEF,QAAS,CAAC,CAAC4B,EAAO,cAClB,MAAOA,EAAO,eAAe,SAE7B,gBAAC4C,EAAA,GACC,GAAG,gBACH,YAAY,KACX,GAAGQ,GAAS,gBAAiBkE,EAA+BZ,EAA0B,CAAC,EAC1F,CACF,KAEC,KAAmCzG,GAAM,eAAe,CAAC,EAAE,cAC1D,gBAACgG,GAA+B,IAAC,EAGlC,CAACqC,IAA2B,gBAAC,WAAI,0CAAwC,EACzEA,IACC,gCACE,gBAAC,WAAI,yCAAuC,EAC5C,gBAAC,OAAI,UAAW/M,EAAO,mBAAmB,sFAE1C,EACA,gBAACkL,EAAA,CAAmB,2BAAAC,EAAA,CAAwD,CAC9E,EAGF,gBAAC,OAAI,UAAWnL,EAAO,cACrB,gBAACoH,EAAA,EAAM,UAAN,KACC,gBAAC9G,EAAA,IACC,QAAQ,YACR,KAAK,SACL,SAAUyE,EACV,QAAS,IAAM+B,EAAQ,EAAK,EAC5B,KAAK,WACN,QAED,EACA,gBAACxG,EAAA,IACC,KAAK,SACL,SAAU,CAACsM,IAAW7H,EACtB,QAAS+C,GAAc6E,GAAW1F,GAAS0F,CAAM,EAAGE,EAAS,GAE5D9H,EAAU,YAAc,MAC3B,CACF,CACF,CACF,CACF,CACF,CACF,CAEJ,CAEA,MAAM9E,EAAaF,IAA0B,CAC3C,SAAO;AAAA;AAAA,IAGP,gBAAc;AAAA;AAAA;AAAA,IAId,aAAW;AAAA;AAAA,IAGX,gBAAc;AAAA,kBACEA,EAAM,QAAQ,CAAC;AAAA,qBACZA,EAAM,QAAQ,CAAC;AAAA;AAAA,IAGlC,qBAAmB;AAAA,iBACJA,EAAM,WAAW,UAAU;AAAA,GAE5C,E,4DC1WO,SAASkN,GAAiB,CAC/B,SAAO,WAAQ,OAAM,MAAe,EAAG,CAAC,CAAC,CAC3C,C","sources":["webpack://grafana/./public/app/features/alerting/components/CollapsibleAlert.tsx","webpack://grafana/./public/app/features/alerting/components/UAPreviewNotice.tsx","webpack://grafana/./public/app/features/alerting/unified/components/AlertManagerPicker.tsx","webpack://grafana/./public/app/features/alerting/unified/components/NoAlertManagerWarning.tsx","webpack://grafana/./public/app/features/alerting/unified/components/AlertingPageWrapper.tsx","webpack://grafana/./public/app/features/alerting/unified/components/rule-editor/RuleFolderPicker.tsx","webpack://grafana/./public/app/features/alerting/unified/components/rule-editor/FolderAndGroup.tsx","webpack://grafana/./public/app/features/alerting/unified/components/rule-editor/GrafanaAlertStatePicker.tsx","webpack://grafana/./public/app/features/alerting/unified/components/rule-editor/GrafanaEvaluationBehavior.tsx","webpack://grafana/./public/app/features/alerting/unified/components/InvalidIntervalWarning.tsx","webpack://grafana/./public/app/features/alerting/unified/components/rules/EditRuleGroupModal.tsx","webpack://grafana/./public/app/features/alerting/unified/utils/accessControlHooks.ts"],"sourcesContent":["import { css } from '@emotion/css';\nimport React, { HTMLAttributes } from 'react';\nimport { useLocalStorage } from 'react-use';\n\nimport { GrafanaTheme2 } from '@grafana/data';\nimport { Alert, AlertVariant, Button, HorizontalGroup, Tooltip, useTheme2 } from '@grafana/ui';\nimport { getIconFromSeverity } from '@grafana/ui/src/components/Alert/Alert';\n\ntype Justify = 'flex-start' | 'flex-end' | 'space-between' | 'center';\n\ninterface CollapsibleAlertProps extends HTMLAttributes<HTMLDivElement> {\n  localStoreKey: string;\n  startClosed?: boolean;\n  severity?: AlertVariant;\n  collapseText?: string;\n  collapseTooltip: string;\n  collapseJustify?: Justify;\n  alertTitle: string;\n  children?: React.ReactNode;\n}\n\nexport const CollapsibleAlert = ({\n  localStoreKey,\n  startClosed = false,\n  severity = 'error',\n  collapseText,\n  collapseTooltip,\n  collapseJustify = 'flex-end',\n  alertTitle,\n  children,\n}: CollapsibleAlertProps) => {\n  const theme = useTheme2();\n  const styles = getStyles(theme, severity);\n  const [closed, setClosed] = useLocalStorage(localStoreKey, startClosed);\n\n  return (\n    <>\n      {closed && (\n        <HorizontalGroup justify={collapseJustify}>\n          <Tooltip content={collapseTooltip} placement=\"bottom\">\n            <Button\n              fill=\"text\"\n              variant=\"secondary\"\n              icon={getIconFromSeverity(severity)}\n              className={styles.warningButton}\n              onClick={() => setClosed(false)}\n            >\n              {collapseText}\n            </Button>\n          </Tooltip>\n        </HorizontalGroup>\n      )}\n      {!closed && (\n        <Alert severity={severity} title={alertTitle} onRemove={() => setClosed(true)}>\n          {children}\n        </Alert>\n      )}\n    </>\n  );\n};\n\nconst getStyles = (theme: GrafanaTheme2, severity: AlertVariant) => {\n  const color = theme.colors[severity];\n  return {\n    warningButton: css({\n      color: color.text,\n\n      '&:hover': {\n        background: color.transparent,\n      },\n    }),\n  };\n};\n","import React from 'react';\n\nimport { config } from '@grafana/runtime';\nimport { TextLink } from '@grafana/ui';\n\nimport { CollapsibleAlert } from './CollapsibleAlert';\n\nconst LOCAL_STORAGE_KEY = 'grafana.unifiedalerting.upgrade.previewNotice';\n\nexport const UAPreviewNotice = () => {\n  if (config.unifiedAlertingEnabled || !config.featureToggles.alertingPreviewUpgrade) {\n    return null;\n  }\n\n  return (\n    <CollapsibleAlert\n      localStoreKey={LOCAL_STORAGE_KEY}\n      alertTitle={'This is a preview of the upgraded Grafana Alerting'}\n      collapseText={'Grafana Alerting Preview'}\n      collapseTooltip={'Show preview warning'}\n      severity={'warning'}\n    >\n      <p>\n        No rules are being evaluated and legacy alerting is still running.\n        <br />\n        Please contact your administrator to upgrade permanently.\n      </p>\n      <TextLink external href={'https://grafana.com/docs/grafana/latest/alerting/set-up/migrating-alerts/'}>\n        Read about upgrading\n      </TextLink>\n    </CollapsibleAlert>\n  );\n};\n","import { css } from '@emotion/css';\nimport React, { useMemo } from 'react';\n\nimport { GrafanaTheme2, SelectableValue } from '@grafana/data';\nimport { InlineField, Select, useStyles2 } from '@grafana/ui';\n\nimport { useAlertmanager } from '../state/AlertmanagerContext';\nimport { AlertManagerDataSource, GRAFANA_RULES_SOURCE_NAME } from '../utils/datasource';\n\ninterface Props {\n  disabled?: boolean;\n}\n\nfunction getAlertManagerLabel(alertManager: AlertManagerDataSource) {\n  return alertManager.name === GRAFANA_RULES_SOURCE_NAME ? 'Grafana' : alertManager.name.slice(0, 37);\n}\n\nexport const AlertManagerPicker = ({ disabled = false }: Props) => {\n  const styles = useStyles2(getStyles);\n\n  const { selectedAlertmanager, availableAlertManagers, setSelectedAlertmanager } = useAlertmanager();\n\n  const options: Array<SelectableValue<string>> = useMemo(() => {\n    return availableAlertManagers.map((ds) => ({\n      label: getAlertManagerLabel(ds),\n      value: ds.name,\n      imgUrl: ds.imgUrl,\n      meta: ds.meta,\n    }));\n  }, [availableAlertManagers]);\n\n  return (\n    <InlineField\n      className={styles.field}\n      label={disabled ? 'Alertmanager' : 'Choose Alertmanager'}\n      disabled={disabled || options.length === 1}\n      data-testid=\"alertmanager-picker\"\n    >\n      <Select\n        aria-label={disabled ? 'Alertmanager' : 'Choose Alertmanager'}\n        width={29}\n        className=\"ds-picker select-container\"\n        backspaceRemovesValue={false}\n        onChange={(value) => {\n          if (value?.value) {\n            setSelectedAlertmanager(value.value);\n          }\n        }}\n        options={options}\n        maxMenuHeight={500}\n        noOptionsMessage=\"No datasources found\"\n        value={selectedAlertmanager}\n        getOptionLabel={(o) => o.label}\n      />\n    </InlineField>\n  );\n};\n\nconst getStyles = (theme: GrafanaTheme2) => ({\n  field: css`\n    margin: 0;\n  `,\n});\n","import React from 'react';\n\nimport { Alert } from '@grafana/ui';\n\nimport { AlertManagerDataSource } from '../utils/datasource';\n\ninterface Props {\n  availableAlertManagers: AlertManagerDataSource[];\n}\n\nconst NoAlertManagersAvailable = () => (\n  <Alert title=\"No Alertmanager found\" severity=\"warning\">\n    We could not find any external Alertmanagers and you may not have access to the built-in Grafana Alertmanager.\n  </Alert>\n);\n\nconst OtherAlertManagersAvailable = () => (\n  <Alert title=\"Selected Alertmanager not found.\" severity=\"warning\">\n    The selected Alertmanager no longer exists or you may not have permission to access it. You can select a different\n    Alertmanager from the dropdown.\n  </Alert>\n);\n\nexport const NoAlertManagerWarning = ({ availableAlertManagers }: Props) => {\n  const hasOtherAMs = availableAlertManagers.length > 0;\n\n  return <div>{hasOtherAMs ? <OtherAlertManagersAvailable /> : <NoAlertManagersAvailable />}</div>;\n};\n","import React, { PropsWithChildren } from 'react';\nimport { useLocation } from 'react-use';\n\nimport { Page } from 'app/core/components/Page/Page';\nimport { PageProps } from 'app/core/components/Page/types';\n\nimport { UAPreviewNotice } from '../../components/UAPreviewNotice';\nimport { AlertmanagerProvider, useAlertmanager } from '../state/AlertmanagerContext';\n\nimport { AlertManagerPicker } from './AlertManagerPicker';\nimport { NoAlertManagerWarning } from './NoAlertManagerWarning';\n\n/**\n * This is the main alerting page wrapper, used by the alertmanager page wrapper and the alert rules list view\n */\ninterface AlertingPageWrapperProps extends PageProps {\n  isLoading?: boolean;\n}\n\nexport const AlertingPageWrapper = ({ children, isLoading, ...rest }: AlertingPageWrapperProps) => (\n  <Page {...rest}>\n    <Page.Contents isLoading={isLoading}>\n      <div>\n        <UAPreviewNotice />\n        {children}\n      </div>\n    </Page.Contents>\n  </Page>\n);\n\n/**\n * This wrapper is for pages that use the Alertmanager API\n */\ninterface AlertmanagerPageWrapperProps extends AlertingPageWrapperProps {\n  accessType: 'instance' | 'notification';\n}\nexport const AlertmanagerPageWrapper = ({ children, accessType, ...props }: AlertmanagerPageWrapperProps) => {\n  const disableAlertmanager = useIsDisabledAlertmanagerSelection();\n\n  return (\n    <AlertmanagerProvider accessType={accessType}>\n      <AlertingPageWrapper {...props} actions={<AlertManagerPicker disabled={disableAlertmanager} />}>\n        <AlertManagerPagePermissionsCheck>{children}</AlertManagerPagePermissionsCheck>\n      </AlertingPageWrapper>\n    </AlertmanagerProvider>\n  );\n};\n\n/**\n * This function tells us when we want to disable the alertmanager picker\n * It's not great...\n */\nfunction useIsDisabledAlertmanagerSelection() {\n  const location = useLocation();\n  const disabledPathSegment = ['/edit', '/new'];\n\n  return disabledPathSegment.some((match) => location?.pathname?.includes(match));\n}\n\n/**\n * This component will render an error message if the user doesn't have sufficient permissions or if the requested\n * alertmanager doesn't exist\n */\nconst AlertManagerPagePermissionsCheck = ({ children }: PropsWithChildren) => {\n  const { availableAlertManagers, selectedAlertmanager } = useAlertmanager();\n\n  if (!selectedAlertmanager) {\n    return <NoAlertManagerWarning availableAlertManagers={availableAlertManagers} />;\n  }\n\n  return <>{children}</>;\n};\n","import { css } from '@emotion/css';\nimport React from 'react';\n\nimport { GrafanaTheme2 } from '@grafana/data';\nimport { Icon, Tooltip, useStyles2, Stack } from '@grafana/ui';\nimport { OldFolderPicker, Props as FolderPickerProps } from 'app/core/components/Select/OldFolderPicker';\nimport { PermissionLevelString, SearchQueryType } from 'app/types';\n\nimport { FolderWarning, CustomAdd } from '../../../../../core/components/Select/OldFolderPicker';\n\nexport interface Folder {\n  title: string;\n  uid: string;\n}\n\nexport interface RuleFolderPickerProps extends Omit<FolderPickerProps, 'initialTitle' | 'initialFolderId'> {\n  value?: Folder;\n}\n\nconst SlashesWarning = () => {\n  const styles = useStyles2(getStyles);\n  const onClick = () => window.open('https://github.com/grafana/grafana/issues/42947', '_blank');\n  return (\n    <Stack gap={0.5}>\n      <div className={styles.slashNotAllowed}>Folders with &apos;/&apos; character are not allowed.</div>\n      <Tooltip placement=\"top\" content={'Link to the Github issue'} theme=\"info\">\n        <Icon name=\"info-circle\" size=\"xs\" className={styles.infoIcon} onClick={onClick} />\n      </Tooltip>\n    </Stack>\n  );\n};\n\nexport const containsSlashes = (str: string): boolean => str.indexOf('/') !== -1;\n\nexport function RuleFolderPicker(props: RuleFolderPickerProps) {\n  const { value } = props;\n  const warningCondition = (folderName: string) => containsSlashes(folderName);\n\n  const folderWarning: FolderWarning = {\n    warningCondition: warningCondition,\n    warningComponent: SlashesWarning,\n  };\n\n  const customAdd: CustomAdd = {\n    disallowValues: true,\n    isAllowedValue: (value) => !containsSlashes(value),\n  };\n\n  return (\n    <OldFolderPicker\n      showRoot={false}\n      rootName=\"\"\n      allowEmpty={true}\n      initialTitle={value?.title}\n      initialFolderUid={value?.uid}\n      searchQueryType={SearchQueryType.AlertFolder}\n      {...props}\n      permissionLevel={PermissionLevelString.Edit}\n      customAdd={customAdd}\n      folderWarning={folderWarning}\n    />\n  );\n}\n\nconst getStyles = (theme: GrafanaTheme2) => ({\n  slashNotAllowed: css`\n    color: ${theme.colors.warning.main};\n    font-size: 12px;\n    margin-bottom: 2px;\n  `,\n  infoIcon: css`\n    color: ${theme.colors.warning.main};\n    font-size: 12px;\n    margin-bottom: 2px;\n    cursor: pointer;\n  `,\n});\n","import { css } from '@emotion/css';\nimport { debounce, take, uniqueId } from 'lodash';\nimport React, { useCallback, useEffect, useMemo, useState } from 'react';\nimport { FormProvider, useForm, useFormContext } from 'react-hook-form';\n\nimport { AppEvents, GrafanaTheme2, SelectableValue } from '@grafana/data';\nimport {\n  AsyncSelect,\n  Box,\n  Button,\n  Field,\n  Input,\n  InputControl,\n  Label,\n  Modal,\n  Stack,\n  Text,\n  useStyles2,\n} from '@grafana/ui';\nimport appEvents from 'app/core/app_events';\nimport { contextSrv } from 'app/core/services/context_srv';\nimport { createFolder } from 'app/features/manage-dashboards/state/actions';\nimport { AccessControlAction, useDispatch } from 'app/types';\nimport { CombinedRuleGroup } from 'app/types/unified-alerting';\nimport { RulerRulesConfigDTO } from 'app/types/unified-alerting-dto';\n\nimport { useCombinedRuleNamespaces } from '../../hooks/useCombinedRuleNamespaces';\nimport { useUnifiedAlertingSelector } from '../../hooks/useUnifiedAlertingSelector';\nimport { fetchRulerRulesAction } from '../../state/actions';\nimport { RuleFormValues } from '../../types/rule-form';\nimport { GRAFANA_RULES_SOURCE_NAME } from '../../utils/datasource';\nimport { MINUTE } from '../../utils/rule-form';\nimport { isGrafanaRulerRule } from '../../utils/rules';\nimport { ProvisioningBadge } from '../Provisioning';\nimport { evaluateEveryValidationOptions } from '../rules/EditRuleGroupModal';\n\nimport { containsSlashes, Folder, RuleFolderPicker } from './RuleFolderPicker';\nimport { checkForPathSeparator } from './util';\n\nexport const MAX_GROUP_RESULTS = 1000;\n\nexport const useFolderGroupOptions = (folderTitle: string, enableProvisionedGroups: boolean) => {\n  const dispatch = useDispatch();\n\n  // fetch the ruler rules from the database so we can figure out what other \"groups\" are already defined\n  // for our folders\n  useEffect(() => {\n    dispatch(fetchRulerRulesAction({ rulesSourceName: GRAFANA_RULES_SOURCE_NAME }));\n  }, [dispatch]);\n\n  const rulerRuleRequests = useUnifiedAlertingSelector((state) => state.rulerRules);\n  const groupfoldersForGrafana = rulerRuleRequests[GRAFANA_RULES_SOURCE_NAME];\n\n  const grafanaFolders = useCombinedRuleNamespaces(GRAFANA_RULES_SOURCE_NAME);\n  const folderGroups = grafanaFolders.find((f) => f.name === folderTitle)?.groups ?? [];\n\n  const groupOptions = folderGroups\n    .map<SelectableValue<string>>((group) => {\n      const isProvisioned = isProvisionedGroup(group);\n      return {\n        label: group.name,\n        value: group.name,\n        description: group.interval ?? MINUTE,\n        // we include provisioned folders, but disable the option to select them\n        isDisabled: !enableProvisionedGroups ? isProvisioned : false,\n        isProvisioned: isProvisioned,\n      };\n    })\n\n    .sort(sortByLabel);\n\n  return { groupOptions, loading: groupfoldersForGrafana?.loading };\n};\n\nconst isProvisionedGroup = (group: CombinedRuleGroup) => {\n  return group.rules.some(\n    (rule) => isGrafanaRulerRule(rule.rulerRule) && Boolean(rule.rulerRule.grafana_alert.provenance) === true\n  );\n};\n\nconst sortByLabel = (a: SelectableValue<string>, b: SelectableValue<string>) => {\n  return a.label?.localeCompare(b.label ?? '') || 0;\n};\n\nconst findGroupMatchingLabel = (group: SelectableValue<string>, query: string) => {\n  return group.label?.toLowerCase().includes(query.toLowerCase());\n};\n\nexport function FolderAndGroup({\n  groupfoldersForGrafana,\n  enableProvisionedGroups,\n}: {\n  groupfoldersForGrafana?: RulerRulesConfigDTO | null;\n  enableProvisionedGroups: boolean;\n}) {\n  const {\n    formState: { errors },\n    watch,\n    setValue,\n    control,\n  } = useFormContext<RuleFormValues>();\n\n  const styles = useStyles2(getStyles);\n\n  const folder = watch('folder');\n  const group = watch('group');\n\n  const { groupOptions, loading } = useFolderGroupOptions(folder?.title ?? '', enableProvisionedGroups);\n\n  const [isCreatingFolder, setIsCreatingFolder] = useState(false);\n  const [isCreatingEvaluationGroup, setIsCreatingEvaluationGroup] = useState(false);\n\n  const onOpenFolderCreationModal = () => setIsCreatingFolder(true);\n  const onOpenEvaluationGroupCreationModal = () => setIsCreatingEvaluationGroup(true);\n\n  const handleFolderCreation = (folder: Folder) => {\n    resetGroup();\n    setValue('folder', folder);\n    setIsCreatingFolder(false);\n  };\n\n  const handleEvalGroupCreation = (groupName: string, evaluationInterval: string) => {\n    setValue('group', groupName);\n    setValue('evaluateEvery', evaluationInterval);\n    setIsCreatingEvaluationGroup(false);\n  };\n\n  const resetGroup = useCallback(() => {\n    setValue('group', '');\n  }, [setValue]);\n\n  const getOptions = useCallback(\n    async (query: string) => {\n      const results = query ? groupOptions.filter((group) => findGroupMatchingLabel(group, query)) : groupOptions;\n      return take(results, MAX_GROUP_RESULTS);\n    },\n    [groupOptions]\n  );\n\n  const debouncedSearch = useMemo(() => {\n    return debounce(getOptions, 300, { leading: true });\n  }, [getOptions]);\n\n  const defaultGroupValue = group ? { value: group, label: group } : undefined;\n\n  return (\n    <div className={styles.container}>\n      <Stack alignItems=\"center\">\n        <Field\n          label={\n            <Label htmlFor=\"folder\" description={'Select a folder to store your rule.'}>\n              Folder\n            </Label>\n          }\n          className={styles.formInput}\n          error={errors.folder?.message}\n          invalid={!!errors.folder?.message}\n          data-testid=\"folder-picker\"\n        >\n          {(!isCreatingFolder && (\n            <InputControl\n              render={({ field: { ref, ...field } }) => (\n                <div style={{ width: 420 }}>\n                  <RuleFolderPicker\n                    inputId=\"folder\"\n                    {...field}\n                    enableReset={true}\n                    onChange={({ title, uid }) => {\n                      field.onChange({ title, uid });\n                      resetGroup();\n                    }}\n                  />\n                </div>\n              )}\n              name=\"folder\"\n              rules={{\n                required: { value: true, message: 'Select a folder' },\n                validate: {\n                  pathSeparator: (folder: Folder) => checkForPathSeparator(folder.title),\n                },\n              }}\n            />\n          )) || <div>Creating new folder...</div>}\n        </Field>\n        <Box marginTop={2.5} gap={1} display={'flex'} alignItems={'center'}>\n          <Text color=\"secondary\">or</Text>\n          <Button\n            onClick={onOpenFolderCreationModal}\n            type=\"button\"\n            icon=\"plus\"\n            fill=\"outline\"\n            variant=\"secondary\"\n            disabled={!contextSrv.hasPermission(AccessControlAction.FoldersCreate)}\n          >\n            New folder\n          </Button>\n        </Box>\n      </Stack>\n\n      {isCreatingFolder && (\n        <FolderCreationModal onCreate={handleFolderCreation} onClose={() => setIsCreatingFolder(false)} />\n      )}\n\n      <Stack alignItems=\"center\">\n        <div style={{ width: 420 }}>\n          <Field\n            label=\"Evaluation group\"\n            data-testid=\"group-picker\"\n            description=\"Rules within the same group are evaluated concurrently over the same time interval.\"\n            className={styles.formInput}\n            error={errors.group?.message}\n            invalid={!!errors.group?.message}\n          >\n            <InputControl\n              render={({ field: { ref, ...field }, fieldState }) => (\n                <AsyncSelect\n                  disabled={!folder || loading}\n                  inputId=\"group\"\n                  key={uniqueId()}\n                  {...field}\n                  onChange={(group) => {\n                    field.onChange(group.label ?? '');\n                  }}\n                  isLoading={loading}\n                  invalid={Boolean(folder) && !group && Boolean(fieldState.error)}\n                  loadOptions={debouncedSearch}\n                  cacheOptions\n                  loadingMessage={'Loading groups...'}\n                  defaultValue={defaultGroupValue}\n                  defaultOptions={groupOptions}\n                  getOptionLabel={(option: SelectableValue<string>) => (\n                    <div>\n                      <span>{option.label}</span>\n                      {option['isProvisioned'] && (\n                        <>\n                          {' '}\n                          <ProvisioningBadge />\n                        </>\n                      )}\n                    </div>\n                  )}\n                  placeholder={'Select an evaluation group...'}\n                />\n              )}\n              name=\"group\"\n              control={control}\n              rules={{\n                required: { value: true, message: 'Must enter a group name' },\n                validate: {\n                  pathSeparator: (group_: string) => checkForPathSeparator(group_),\n                },\n              }}\n            />\n          </Field>\n        </div>\n        <Box marginTop={4} gap={1} display={'flex'} alignItems={'center'}>\n          <Text color=\"secondary\">or</Text>\n          <Button\n            onClick={onOpenEvaluationGroupCreationModal}\n            type=\"button\"\n            icon=\"plus\"\n            fill=\"outline\"\n            variant=\"secondary\"\n            disabled={!folder}\n          >\n            New evaluation group\n          </Button>\n        </Box>\n        {isCreatingEvaluationGroup && (\n          <EvaluationGroupCreationModal\n            onCreate={handleEvalGroupCreation}\n            onClose={() => setIsCreatingEvaluationGroup(false)}\n            groupfoldersForGrafana={groupfoldersForGrafana}\n          />\n        )}\n      </Stack>\n    </div>\n  );\n}\n\nfunction FolderCreationModal({\n  onClose,\n  onCreate,\n}: {\n  onClose: () => void;\n  onCreate: (folder: Folder) => void;\n}): React.ReactElement {\n  const styles = useStyles2(getStyles);\n\n  const [title, setTitle] = useState('');\n  const onSubmit = async () => {\n    const newFolder = await createFolder({ title: title });\n    if (!newFolder.uid) {\n      appEvents.emit(AppEvents.alertError, ['Folder could not be created']);\n      return;\n    }\n\n    const folder: Folder = { title: newFolder.title, uid: newFolder.uid };\n    onCreate(folder);\n    appEvents.emit(AppEvents.alertSuccess, ['Folder Created', 'OK']);\n  };\n\n  const error = containsSlashes(title);\n\n  return (\n    <Modal className={styles.modal} isOpen={true} title={'New folder'} onDismiss={onClose} onClickBackdrop={onClose}>\n      <div className={styles.modalTitle}>Create a new folder to store your rule</div>\n\n      <form onSubmit={onSubmit}>\n        <Field\n          label={<Label htmlFor=\"folder\">Folder name</Label>}\n          error={\"The folder name can't contain slashes\"}\n          invalid={error}\n        >\n          <Input\n            autoFocus={true}\n            id=\"folderName\"\n            placeholder=\"Enter a name\"\n            value={title}\n            onChange={(e) => setTitle(e.currentTarget.value)}\n            className={styles.formInput}\n          />\n        </Field>\n\n        <Modal.ButtonRow>\n          <Button variant=\"secondary\" type=\"button\" onClick={onClose}>\n            Cancel\n          </Button>\n          <Button type=\"submit\" disabled={!title || error}>\n            Create\n          </Button>\n        </Modal.ButtonRow>\n      </form>\n    </Modal>\n  );\n}\n\nfunction EvaluationGroupCreationModal({\n  onClose,\n  onCreate,\n  groupfoldersForGrafana,\n}: {\n  onClose: () => void;\n  onCreate: (group: string, evaluationInterval: string) => void;\n  groupfoldersForGrafana?: RulerRulesConfigDTO | null;\n}): React.ReactElement {\n  const styles = useStyles2(getStyles);\n  const onSubmit = () => {\n    onCreate(getValues('group'), getValues('evaluateEvery'));\n  };\n\n  const { watch } = useFormContext<RuleFormValues>();\n\n  const evaluateEveryId = 'eval-every-input';\n  const [groupName, folderName] = watch(['group', 'folder.title']);\n\n  const groupRules =\n    (groupfoldersForGrafana && groupfoldersForGrafana[folderName]?.find((g) => g.name === groupName)?.rules) ?? [];\n\n  const onCancel = () => {\n    onClose();\n  };\n\n  const formAPI = useForm({\n    defaultValues: { group: '', evaluateEvery: '' },\n    mode: 'onChange',\n    shouldFocusError: true,\n  });\n\n  const { register, handleSubmit, formState, getValues } = formAPI;\n\n  return (\n    <Modal\n      className={styles.modal}\n      isOpen={true}\n      title={'New evaluation group'}\n      onDismiss={onCancel}\n      onClickBackdrop={onCancel}\n    >\n      <div className={styles.modalTitle}>Create a new evaluation group to use for this alert rule.</div>\n\n      <FormProvider {...formAPI}>\n        <form onSubmit={handleSubmit(() => onSubmit())}>\n          <Field\n            label={<Label htmlFor={'group'}>Evaluation group name</Label>}\n            error={formState.errors.group?.message}\n            invalid={!!formState.errors.group}\n          >\n            <Input\n              className={styles.formInput}\n              autoFocus={true}\n              id={'group'}\n              placeholder=\"Enter a name\"\n              {...register('group', { required: { value: true, message: 'Required.' } })}\n            />\n          </Field>\n\n          <Field\n            error={formState.errors.evaluateEvery?.message}\n            invalid={!!formState.errors.evaluateEvery}\n            label={\n              <Label\n                htmlFor={evaluateEveryId}\n                description=\"How often is the rule evaluated. Applies to every rule within the group.\"\n              >\n                Evaluation interval\n              </Label>\n            }\n          >\n            <Input\n              className={styles.formInput}\n              id={evaluateEveryId}\n              placeholder=\"e.g. 5m\"\n              {...register('evaluateEvery', evaluateEveryValidationOptions(groupRules))}\n            />\n          </Field>\n          <Modal.ButtonRow>\n            <Button variant=\"secondary\" type=\"button\" onClick={onCancel}>\n              Cancel\n            </Button>\n            <Button type=\"submit\" disabled={!formState.isValid}>\n              Create\n            </Button>\n          </Modal.ButtonRow>\n        </form>\n      </FormProvider>\n    </Modal>\n  );\n}\n\nconst getStyles = (theme: GrafanaTheme2) => ({\n  container: css`\n    display: flex;\n    flex-direction: column;\n    align-items: baseline;\n    max-width: ${theme.breakpoints.values.lg}px;\n    justify-content: space-between;\n  `,\n  formInput: css`\n    flex-grow: 1;\n  `,\n  modal: css`\n    width: ${theme.breakpoints.values.sm}px;\n  `,\n  modalTitle: css`\n    color: ${theme.colors.text.secondary};\n    margin-bottom: ${theme.spacing(2)};\n  `,\n});\n","import React, { useMemo } from 'react';\n\nimport { SelectableValue } from '@grafana/data';\nimport { Select } from '@grafana/ui';\nimport { SelectBaseProps } from '@grafana/ui/src/components/Select/types';\nimport { GrafanaAlertStateDecision } from 'app/types/unified-alerting-dto';\n\ntype Props = Omit<SelectBaseProps<GrafanaAlertStateDecision>, 'options'> & {\n  includeNoData: boolean;\n  includeError: boolean;\n};\n\nconst options: SelectableValue[] = [\n  { value: GrafanaAlertStateDecision.Alerting, label: 'Alerting' },\n  { value: GrafanaAlertStateDecision.NoData, label: 'No Data' },\n  { value: GrafanaAlertStateDecision.OK, label: 'OK' },\n  { value: GrafanaAlertStateDecision.Error, label: 'Error' },\n];\n\nexport const GrafanaAlertStatePicker = ({ includeNoData, includeError, ...props }: Props) => {\n  const opts = useMemo(() => {\n    if (!includeNoData) {\n      return options.filter((opt) => opt.value !== GrafanaAlertStateDecision.NoData);\n    }\n    if (!includeError) {\n      return options.filter((opt) => opt.value !== GrafanaAlertStateDecision.Error);\n    }\n    return options;\n  }, [includeNoData, includeError]);\n  return <Select options={opts} {...props} />;\n};\n","import { css } from '@emotion/css';\nimport React, { useCallback, useEffect, useState } from 'react';\nimport { RegisterOptions, useFormContext } from 'react-hook-form';\n\nimport { GrafanaTheme2, SelectableValue } from '@grafana/data';\nimport {\n  Field,\n  Icon,\n  IconButton,\n  Input,\n  InputControl,\n  Label,\n  Stack,\n  Switch,\n  Text,\n  Tooltip,\n  useStyles2,\n} from '@grafana/ui';\n\nimport { CombinedRuleGroup, CombinedRuleNamespace } from '../../../../../types/unified-alerting';\nimport { logInfo, LogMessages } from '../../Analytics';\nimport { useCombinedRuleNamespaces } from '../../hooks/useCombinedRuleNamespaces';\nimport { useUnifiedAlertingSelector } from '../../hooks/useUnifiedAlertingSelector';\nimport { RuleFormValues } from '../../types/rule-form';\nimport { GRAFANA_RULES_SOURCE_NAME } from '../../utils/datasource';\nimport { parsePrometheusDuration } from '../../utils/time';\nimport { CollapseToggle } from '../CollapseToggle';\nimport { EditCloudGroupModal } from '../rules/EditRuleGroupModal';\n\nimport { FolderAndGroup, useFolderGroupOptions } from './FolderAndGroup';\nimport { GrafanaAlertStatePicker } from './GrafanaAlertStatePicker';\nimport { NeedHelpInfo } from './NeedHelpInfo';\nimport { RuleEditorSection } from './RuleEditorSection';\n\nexport const MIN_TIME_RANGE_STEP_S = 10; // 10 seconds\n\nconst forValidationOptions = (evaluateEvery: string): RegisterOptions => ({\n  required: {\n    value: true,\n    message: 'Required.',\n  },\n  validate: (value: string) => {\n    // parsePrometheusDuration does not allow 0 but does allow 0s\n    if (value === '0') {\n      return true;\n    }\n\n    try {\n      const millisFor = parsePrometheusDuration(value);\n\n      // 0 is a special value meaning for equals evaluation interval\n      if (millisFor === 0) {\n        return true;\n      }\n\n      try {\n        const millisEvery = parsePrometheusDuration(evaluateEvery);\n        return millisFor >= millisEvery\n          ? true\n          : 'For duration must be greater than or equal to the evaluation interval.';\n      } catch (err) {\n        // if we fail to parse \"every\", assume validation is successful, or the error messages\n        // will overlap in the UI\n        return true;\n      }\n    } catch (error) {\n      return error instanceof Error ? error.message : 'Failed to parse duration';\n    }\n  },\n});\n\nconst useIsNewGroup = (folder: string, group: string) => {\n  const { groupOptions } = useFolderGroupOptions(folder, false);\n\n  const groupIsInGroupOptions = useCallback(\n    (group_: string) => groupOptions.some((groupInList: SelectableValue<string>) => groupInList.label === group_),\n    [groupOptions]\n  );\n  return !groupIsInGroupOptions(group);\n};\n\nfunction FolderGroupAndEvaluationInterval({\n  evaluateEvery,\n  setEvaluateEvery,\n  enableProvisionedGroups,\n}: {\n  evaluateEvery: string;\n  setEvaluateEvery: (value: string) => void;\n  enableProvisionedGroups: boolean;\n}) {\n  const styles = useStyles2(getStyles);\n  const { watch, setValue, getValues } = useFormContext<RuleFormValues>();\n  const [isEditingGroup, setIsEditingGroup] = useState(false);\n\n  const [groupName, folderName] = watch(['group', 'folder.title']);\n\n  const rulerRuleRequests = useUnifiedAlertingSelector((state) => state.rulerRules);\n  const groupfoldersForGrafana = rulerRuleRequests[GRAFANA_RULES_SOURCE_NAME];\n\n  const grafanaNamespaces = useCombinedRuleNamespaces(GRAFANA_RULES_SOURCE_NAME);\n  const existingNamespace = grafanaNamespaces.find((ns) => ns.name === folderName);\n  const existingGroup = existingNamespace?.groups.find((g) => g.name === groupName);\n\n  const isNewGroup = useIsNewGroup(folderName ?? '', groupName);\n\n  useEffect(() => {\n    if (!isNewGroup && existingGroup?.interval) {\n      setEvaluateEvery(existingGroup.interval);\n    }\n  }, [setEvaluateEvery, isNewGroup, setValue, existingGroup]);\n\n  const closeEditGroupModal = (saved = false) => {\n    if (!saved) {\n      logInfo(LogMessages.leavingRuleGroupEdit);\n    }\n    setIsEditingGroup(false);\n  };\n\n  const onOpenEditGroupModal = () => setIsEditingGroup(true);\n\n  const editGroupDisabled = groupfoldersForGrafana?.loading || isNewGroup || !folderName || !groupName;\n\n  const emptyNamespace: CombinedRuleNamespace = {\n    name: folderName,\n    rulesSource: GRAFANA_RULES_SOURCE_NAME,\n    groups: [],\n  };\n  const emptyGroup: CombinedRuleGroup = { name: groupName, interval: evaluateEvery, rules: [], totals: {} };\n\n  return (\n    <div>\n      <FolderAndGroup\n        groupfoldersForGrafana={groupfoldersForGrafana?.result}\n        enableProvisionedGroups={enableProvisionedGroups}\n      />\n      {folderName && isEditingGroup && (\n        <EditCloudGroupModal\n          namespace={existingNamespace ?? emptyNamespace}\n          group={existingGroup ?? emptyGroup}\n          onClose={() => closeEditGroupModal()}\n          intervalEditOnly\n          hideFolder={true}\n        />\n      )}\n      {folderName && groupName && (\n        <div className={styles.evaluationContainer}>\n          <Stack direction=\"column\" gap={0}>\n            <div className={styles.marginTop}>\n              <Stack direction=\"column\" gap={1}>\n                {getValues('group') && getValues('evaluateEvery') && (\n                  <span>\n                    All rules in the selected group are evaluated every {evaluateEvery}.{' '}\n                    {!isNewGroup && (\n                      <IconButton\n                        name=\"pen\"\n                        aria-label=\"Edit\"\n                        disabled={editGroupDisabled}\n                        onClick={onOpenEditGroupModal}\n                      />\n                    )}\n                  </span>\n                )}\n              </Stack>\n            </div>\n          </Stack>\n        </div>\n      )}\n    </div>\n  );\n}\n\nfunction ForInput({ evaluateEvery }: { evaluateEvery: string }) {\n  const styles = useStyles2(getStyles);\n  const {\n    register,\n    formState: { errors },\n  } = useFormContext<RuleFormValues>();\n\n  const evaluateForId = 'eval-for-input';\n\n  return (\n    <Stack direction=\"row\" justify-content=\"flex-start\" align-items=\"flex-start\">\n      <Field\n        label={\n          <Label\n            htmlFor=\"evaluateFor\"\n            description=\"Period in which an alert rule can be in breach of the condition until the alert rule fires.\"\n          >\n            Pending period\n          </Label>\n        }\n        className={styles.inlineField}\n        error={errors.evaluateFor?.message}\n        invalid={!!errors.evaluateFor?.message}\n        validationMessageHorizontalOverflow={true}\n      >\n        <Input id={evaluateForId} width={8} {...register('evaluateFor', forValidationOptions(evaluateEvery))} />\n      </Field>\n    </Stack>\n  );\n}\n\nfunction getDescription() {\n  const docsLink = 'https://grafana.com/docs/grafana/latest/alerting/fundamentals/alert-rules/rule-evaluation/';\n\n  return (\n    <Stack direction=\"row\" gap={0.5} alignItems=\"baseline\">\n      <Text variant=\"bodySmall\" color=\"secondary\">\n        Define how the alert rule is evaluated.\n      </Text>\n      <NeedHelpInfo\n        contentText=\"Evaluation groups are containers for evaluating alert and recording rules. An evaluation group defines an evaluation interval - how often a rule is checked. Alert rules within the same evaluation group are evaluated sequentially\"\n        externalLink={docsLink}\n        linkText={`Read about evaluation`}\n        title=\"Evaluation\"\n      />\n    </Stack>\n  );\n}\n\nexport function GrafanaEvaluationBehavior({\n  evaluateEvery,\n  setEvaluateEvery,\n  existing,\n  enableProvisionedGroups,\n}: {\n  evaluateEvery: string;\n  setEvaluateEvery: (value: string) => void;\n  existing: boolean;\n  enableProvisionedGroups: boolean;\n}) {\n  const styles = useStyles2(getStyles);\n  const [showErrorHandling, setShowErrorHandling] = useState(false);\n\n  const { watch, setValue } = useFormContext<RuleFormValues>();\n\n  const isPaused = watch('isPaused');\n\n  return (\n    // TODO remove \"and alert condition\" for recording rules\n    <RuleEditorSection stepNo={3} title=\"Set evaluation behavior\" description={getDescription()}>\n      <Stack direction=\"column\" justify-content=\"flex-start\" align-items=\"flex-start\">\n        <FolderGroupAndEvaluationInterval\n          setEvaluateEvery={setEvaluateEvery}\n          evaluateEvery={evaluateEvery}\n          enableProvisionedGroups={enableProvisionedGroups}\n        />\n        <ForInput evaluateEvery={evaluateEvery} />\n\n        {existing && (\n          <Field htmlFor=\"pause-alert-switch\">\n            <InputControl\n              render={() => (\n                <Stack gap={1} direction=\"row\" alignItems=\"center\">\n                  <Switch\n                    id=\"pause-alert\"\n                    onChange={(value) => {\n                      setValue('isPaused', value.currentTarget.checked);\n                    }}\n                    value={Boolean(isPaused)}\n                  />\n                  <label htmlFor=\"pause-alert\" className={styles.switchLabel}>\n                    Pause evaluation\n                    <Tooltip placement=\"top\" content=\"Turn on to pause evaluation for this alert rule.\" theme={'info'}>\n                      <Icon tabIndex={0} name=\"info-circle\" size=\"sm\" className={styles.infoIcon} />\n                    </Tooltip>\n                  </label>\n                </Stack>\n              )}\n              name=\"isPaused\"\n            />\n          </Field>\n        )}\n      </Stack>\n      <CollapseToggle\n        isCollapsed={!showErrorHandling}\n        onToggle={(collapsed) => setShowErrorHandling(!collapsed)}\n        text=\"Configure no data and error handling\"\n      />\n      {showErrorHandling && (\n        <>\n          <Field htmlFor=\"no-data-state-input\" label=\"Alert state if no data or all values are null\">\n            <InputControl\n              render={({ field: { onChange, ref, ...field } }) => (\n                <GrafanaAlertStatePicker\n                  {...field}\n                  inputId=\"no-data-state-input\"\n                  width={42}\n                  includeNoData={true}\n                  includeError={false}\n                  onChange={(value) => onChange(value?.value)}\n                />\n              )}\n              name=\"noDataState\"\n            />\n          </Field>\n          <Field htmlFor=\"exec-err-state-input\" label=\"Alert state if execution error or timeout\">\n            <InputControl\n              render={({ field: { onChange, ref, ...field } }) => (\n                <GrafanaAlertStatePicker\n                  {...field}\n                  inputId=\"exec-err-state-input\"\n                  width={42}\n                  includeNoData={false}\n                  includeError={true}\n                  onChange={(value) => onChange(value?.value)}\n                />\n              )}\n              name=\"execErrState\"\n            />\n          </Field>\n        </>\n      )}\n    </RuleEditorSection>\n  );\n}\n\nconst getStyles = (theme: GrafanaTheme2) => ({\n  inlineField: css`\n    margin-bottom: 0;\n  `,\n  evaluateLabel: css`\n    margin-right: ${theme.spacing(1)};\n  `,\n  evaluationContainer: css`\n    color: ${theme.colors.text.secondary};\n    max-width: ${theme.breakpoints.values.sm}px;\n    font-size: ${theme.typography.size.sm};\n  `,\n  intervalChangedLabel: css`\n    margin-bottom: ${theme.spacing(1)};\n  `,\n  warningIcon: css`\n    justify-self: center;\n    margin-right: ${theme.spacing(1)};\n    color: ${theme.colors.warning.text};\n  `,\n  infoIcon: css`\n    margin-left: 10px;\n  `,\n  warningMessage: css`\n    color: ${theme.colors.warning.text};\n  `,\n  bold: css`\n    font-weight: bold;\n  `,\n  alignInterval: css`\n    margin-top: ${theme.spacing(1)};\n    margin-left: -${theme.spacing(1)};\n  `,\n  marginTop: css`\n    margin-top: ${theme.spacing(1)};\n  `,\n  switchLabel: css(`\n    color: ${theme.colors.text.primary},\n    cursor: 'pointer',\n    fontSize: ${theme.typography.bodySmall.fontSize},\n  `),\n});\n","import React from 'react';\n\nimport { config } from '@grafana/runtime';\nimport { Alert } from '@grafana/ui';\n\nconst EvaluationIntervalLimitExceeded = () => (\n  <Alert severity=\"warning\" title=\"Global evalutation interval limit exceeded\">\n    A minimum evaluation interval of <strong>{config.unifiedAlerting.minInterval}</strong> has been configured in\n    Grafana.\n    <br />\n    Please contact the administrator to configure a lower interval.\n  </Alert>\n);\n\nexport { EvaluationIntervalLimitExceeded };\n","import { css } from '@emotion/css';\nimport { compact } from 'lodash';\nimport React, { useEffect, useMemo } from 'react';\nimport { FormProvider, RegisterOptions, useForm, useFormContext } from 'react-hook-form';\n\nimport { GrafanaTheme2 } from '@grafana/data';\nimport { Badge, Button, Field, Input, Label, LinkButton, Modal, useStyles2, Stack } from '@grafana/ui';\nimport { useAppNotification } from 'app/core/copy/appNotification';\nimport { useCleanup } from 'app/core/hooks/useCleanup';\nimport { useDispatch } from 'app/types';\nimport { CombinedRuleGroup, CombinedRuleNamespace } from 'app/types/unified-alerting';\nimport { RulerRuleDTO } from 'app/types/unified-alerting-dto';\n\nimport { useUnifiedAlertingSelector } from '../../hooks/useUnifiedAlertingSelector';\nimport { rulesInSameGroupHaveInvalidFor, updateLotexNamespaceAndGroupAction } from '../../state/actions';\nimport { checkEvaluationIntervalGlobalLimit } from '../../utils/config';\nimport { getRulesSourceName, GRAFANA_RULES_SOURCE_NAME } from '../../utils/datasource';\nimport { initialAsyncRequestState } from '../../utils/redux';\nimport { AlertInfo, getAlertInfo, isRecordingRulerRule } from '../../utils/rules';\nimport { parsePrometheusDuration, safeParseDurationstr } from '../../utils/time';\nimport { DynamicTable, DynamicTableColumnProps, DynamicTableItemProps } from '../DynamicTable';\nimport { EvaluationIntervalLimitExceeded } from '../InvalidIntervalWarning';\nimport { MIN_TIME_RANGE_STEP_S } from '../rule-editor/GrafanaEvaluationBehavior';\n\nconst ITEMS_PER_PAGE = 10;\n\nfunction ForBadge({ message, error }: { message: string; error?: boolean }) {\n  if (error) {\n    return <Badge color=\"red\" icon=\"exclamation-circle\" text={'Error'} tooltip={message} />;\n  } else {\n    return <Badge color=\"orange\" icon=\"exclamation-triangle\" text={'Unknown'} tooltip={message} />;\n  }\n}\n\nconst isValidEvaluation = (evaluation: string) => {\n  try {\n    const duration = parsePrometheusDuration(evaluation);\n\n    if (duration < MIN_TIME_RANGE_STEP_S * 1000) {\n      return false;\n    }\n\n    if (duration % (MIN_TIME_RANGE_STEP_S * 1000) !== 0) {\n      return false;\n    }\n\n    return true;\n  } catch (error) {\n    return false;\n  }\n};\n\ntype AlertsWithForTableColumnProps = DynamicTableColumnProps<AlertInfo>;\ntype AlertsWithForTableProps = DynamicTableItemProps<AlertInfo>;\n\nexport const RulesForGroupTable = ({ rulesWithoutRecordingRules }: { rulesWithoutRecordingRules: RulerRuleDTO[] }) => {\n  const styles = useStyles2(getStyles);\n\n  const { watch } = useFormContext<FormValues>();\n  const currentInterval = watch('groupInterval');\n  const unknownCurrentInterval = !Boolean(currentInterval);\n\n  const rows: AlertsWithForTableProps[] = rulesWithoutRecordingRules\n    .slice()\n    .map((rule: RulerRuleDTO, index) => ({\n      id: index,\n      data: getAlertInfo(rule, currentInterval),\n    }))\n    .sort(\n      (alert1, alert2) => safeParseDurationstr(alert1.data.forDuration) - safeParseDurationstr(alert2.data.forDuration)\n    );\n\n  const columns: AlertsWithForTableColumnProps[] = useMemo(() => {\n    return [\n      {\n        id: 'alertName',\n        label: 'Alert',\n        renderCell: ({ data: { alertName } }) => {\n          return <>{alertName}</>;\n        },\n        size: '330px',\n      },\n      {\n        id: 'for',\n        label: 'For',\n        renderCell: ({ data: { forDuration } }) => {\n          return <>{forDuration}</>;\n        },\n        size: 0.5,\n      },\n      {\n        id: 'numberEvaluations',\n        label: '#Eval',\n        renderCell: ({ data: { evaluationsToFire: numberEvaluations } }) => {\n          if (unknownCurrentInterval) {\n            return <ForBadge message=\"#Evaluations not available.\" />;\n          } else {\n            if (!isValidEvaluation(currentInterval)) {\n              return <ForBadge message={'Invalid evaluation interval format'} error />;\n            }\n            if (numberEvaluations === 0) {\n              return (\n                <ForBadge message=\"Invalid 'For' value: it should be greater or equal to evaluation interval.\" error />\n              );\n            } else {\n              return <>{numberEvaluations}</>;\n            }\n          }\n        },\n        size: 0.4,\n      },\n    ];\n  }, [currentInterval, unknownCurrentInterval]);\n\n  return (\n    <div className={styles.tableWrapper}>\n      <DynamicTable items={rows} cols={columns} pagination={{ itemsPerPage: ITEMS_PER_PAGE }} />\n    </div>\n  );\n};\n\ninterface FormValues {\n  namespaceName: string;\n  groupName: string;\n  groupInterval: string;\n}\n\nexport const evaluateEveryValidationOptions = (rules: RulerRuleDTO[]): RegisterOptions => ({\n  required: {\n    value: true,\n    message: 'Required.',\n  },\n  validate: (evaluateEvery: string) => {\n    try {\n      const duration = parsePrometheusDuration(evaluateEvery);\n\n      if (duration < MIN_TIME_RANGE_STEP_S * 1000) {\n        return `Cannot be less than ${MIN_TIME_RANGE_STEP_S} seconds.`;\n      }\n\n      if (duration % (MIN_TIME_RANGE_STEP_S * 1000) !== 0) {\n        return `Must be a multiple of ${MIN_TIME_RANGE_STEP_S} seconds.`;\n      }\n      if (rulesInSameGroupHaveInvalidFor(rules, evaluateEvery).length === 0) {\n        return true;\n      } else {\n        return `Invalid evaluation interval. Evaluation interval should be smaller or equal to 'For' values for existing rules in this group.`;\n      }\n    } catch (error) {\n      return error instanceof Error ? error.message : 'Failed to parse duration';\n    }\n  },\n});\n\nexport interface ModalProps {\n  namespace: CombinedRuleNamespace;\n  group: CombinedRuleGroup;\n  onClose: (saved?: boolean) => void;\n  intervalEditOnly?: boolean;\n  folderUrl?: string;\n  hideFolder?: boolean;\n}\n\nexport function EditCloudGroupModal(props: ModalProps): React.ReactElement {\n  const { namespace, group, onClose, intervalEditOnly } = props;\n\n  const styles = useStyles2(getStyles);\n  const dispatch = useDispatch();\n  const { loading, error, dispatched } =\n    useUnifiedAlertingSelector((state) => state.updateLotexNamespaceAndGroup) ?? initialAsyncRequestState;\n  const notifyApp = useAppNotification();\n\n  const defaultValues = useMemo(\n    (): FormValues => ({\n      namespaceName: namespace.name,\n      groupName: group.name,\n      groupInterval: group.interval ?? '',\n    }),\n    [namespace, group]\n  );\n\n  const rulesSourceName = getRulesSourceName(namespace.rulesSource);\n  const isGrafanaManagedGroup = rulesSourceName === GRAFANA_RULES_SOURCE_NAME;\n\n  const nameSpaceLabel = isGrafanaManagedGroup ? 'Folder' : 'Namespace';\n\n  // close modal if successfully saved\n  useEffect(() => {\n    if (dispatched && !loading && !error) {\n      onClose(true);\n    }\n  }, [dispatched, loading, onClose, error]);\n\n  useCleanup((state) => (state.unifiedAlerting.updateLotexNamespaceAndGroup = initialAsyncRequestState));\n  const onSubmit = (values: FormValues) => {\n    dispatch(\n      updateLotexNamespaceAndGroupAction({\n        rulesSourceName: rulesSourceName,\n        groupName: group.name,\n        newGroupName: values.groupName,\n        namespaceName: namespace.name,\n        newNamespaceName: values.namespaceName,\n        groupInterval: values.groupInterval || undefined,\n      })\n    );\n  };\n\n  const formAPI = useForm<FormValues>({\n    mode: 'onBlur',\n    defaultValues,\n    shouldFocusError: true,\n  });\n  const {\n    handleSubmit,\n    register,\n    watch,\n    formState: { isDirty, errors },\n  } = formAPI;\n\n  const onInvalid = () => {\n    notifyApp.error('There are errors in the form. Correct the errors and retry.');\n  };\n\n  const rulesWithoutRecordingRules = compact(\n    group.rules.map((r) => r.rulerRule).filter((rule) => !isRecordingRulerRule(rule))\n  );\n  const hasSomeNoRecordingRules = rulesWithoutRecordingRules.length > 0;\n  const modalTitle =\n    intervalEditOnly || isGrafanaManagedGroup ? 'Edit evaluation group' : 'Edit namespace or evaluation group';\n\n  return (\n    <Modal className={styles.modal} isOpen={true} title={modalTitle} onDismiss={onClose} onClickBackdrop={onClose}>\n      <FormProvider {...formAPI}>\n        <form onSubmit={(e) => e.preventDefault()} key={JSON.stringify(defaultValues)}>\n          <>\n            {!props.hideFolder && (\n              <Stack gap={1} alignItems={'center'}>\n                <Field\n                  className={styles.formInput}\n                  label={\n                    <Label\n                      htmlFor=\"namespaceName\"\n                      description={\n                        !isGrafanaManagedGroup &&\n                        'Change the current namespace name. Moving groups between namespaces is not supported'\n                      }\n                    >\n                      {nameSpaceLabel}\n                    </Label>\n                  }\n                  invalid={!!errors.namespaceName}\n                  error={errors.namespaceName?.message}\n                >\n                  <Input\n                    id=\"namespaceName\"\n                    readOnly={intervalEditOnly || isGrafanaManagedGroup}\n                    {...register('namespaceName', {\n                      required: 'Namespace name is required.',\n                    })}\n                  />\n                </Field>\n                {isGrafanaManagedGroup && props.folderUrl && (\n                  <LinkButton\n                    href={props.folderUrl}\n                    title=\"Go to folder\"\n                    variant=\"secondary\"\n                    icon=\"folder-open\"\n                    target=\"_blank\"\n                  />\n                )}\n              </Stack>\n            )}\n            <Field\n              label={<Label htmlFor=\"groupName\">Evaluation group name</Label>}\n              invalid={!!errors.groupName}\n              error={errors.groupName?.message}\n            >\n              <Input\n                autoFocus={true}\n                id=\"groupName\"\n                readOnly={intervalEditOnly}\n                {...register('groupName', {\n                  required: 'Evaluation group name is required.',\n                })}\n              />\n            </Field>\n            <Field\n              label={\n                <Label\n                  htmlFor=\"groupInterval\"\n                  description=\"How often is the rule evaluated. Applies to every rule within the group.\"\n                >\n                  <Stack gap={0.5}>Evaluation interval</Stack>\n                </Label>\n              }\n              invalid={!!errors.groupInterval}\n              error={errors.groupInterval?.message}\n            >\n              <Input\n                id=\"groupInterval\"\n                placeholder=\"1m\"\n                {...register('groupInterval', evaluateEveryValidationOptions(rulesWithoutRecordingRules))}\n              />\n            </Field>\n\n            {checkEvaluationIntervalGlobalLimit(watch('groupInterval')).exceedsLimit && (\n              <EvaluationIntervalLimitExceeded />\n            )}\n\n            {!hasSomeNoRecordingRules && <div>This group does not contain alert rules.</div>}\n            {hasSomeNoRecordingRules && (\n              <>\n                <div>List of rules that belong to this group</div>\n                <div className={styles.evalRequiredLabel}>\n                  #Eval column represents the number of evaluations needed before alert starts firing.\n                </div>\n                <RulesForGroupTable rulesWithoutRecordingRules={rulesWithoutRecordingRules} />\n              </>\n            )}\n\n            <div className={styles.modalButtons}>\n              <Modal.ButtonRow>\n                <Button\n                  variant=\"secondary\"\n                  type=\"button\"\n                  disabled={loading}\n                  onClick={() => onClose(false)}\n                  fill=\"outline\"\n                >\n                  Cancel\n                </Button>\n                <Button\n                  type=\"button\"\n                  disabled={!isDirty || loading}\n                  onClick={handleSubmit((values) => onSubmit(values), onInvalid)}\n                >\n                  {loading ? 'Saving...' : 'Save'}\n                </Button>\n              </Modal.ButtonRow>\n            </div>\n          </>\n        </form>\n      </FormProvider>\n    </Modal>\n  );\n}\n\nconst getStyles = (theme: GrafanaTheme2) => ({\n  modal: css`\n    max-width: 560px;\n  `,\n  modalButtons: css`\n    top: -24px;\n    position: relative;\n  `,\n  formInput: css`\n    flex: 1;\n  `,\n  tableWrapper: css`\n    margin-top: ${theme.spacing(2)};\n    margin-bottom: ${theme.spacing(2)};\n    height: 100%;\n  `,\n  evalRequiredLabel: css`\n    font-size: ${theme.typography.bodySmall.fontSize};\n  `,\n});\n","import { useMemo } from 'react';\n\nimport { getRulesAccess } from './access-control';\n\nexport function useRulesAccess() {\n  return useMemo(() => getRulesAccess(), []);\n}\n"],"names":["CollapsibleAlert","localStoreKey","startClosed","severity","collapseText","collapseTooltip","collapseJustify","alertTitle","children","theme","styles","getStyles","closed","setClosed","useLocalStorage","Tooltip","Button","Alert","color","LOCAL_STORAGE_KEY","UAPreviewNotice","config","TextLink","getAlertManagerLabel","alertManager","AlertManagerPicker","disabled","selectedAlertmanager","availableAlertManagers","setSelectedAlertmanager","options","ds","InlineField","Select","value","o","NoAlertManagersAvailable","OtherAlertManagersAvailable","NoAlertManagerWarning","hasOtherAMs","AlertingPageWrapper","isLoading","rest","Page","AlertmanagerPageWrapper","accessType","props","disableAlertmanager","useIsDisabledAlertmanagerSelection","AlertManagerPagePermissionsCheck","location","useLocation","match","SlashesWarning","onClick","Stack","Icon","containsSlashes","str","RuleFolderPicker","folderWarning","folderName","customAdd","OldFolderPicker","MAX_GROUP_RESULTS","useFolderGroupOptions","folderTitle","enableProvisionedGroups","dispatch","groupfoldersForGrafana","useUnifiedAlertingSelector","state","useCombinedRuleNamespaces","f","group","isProvisioned","isProvisionedGroup","sortByLabel","rule","b","findGroupMatchingLabel","query","FolderAndGroup","errors","watch","setValue","control","folder","groupOptions","loading","isCreatingFolder","setIsCreatingFolder","isCreatingEvaluationGroup","setIsCreatingEvaluationGroup","onOpenFolderCreationModal","onOpenEvaluationGroupCreationModal","handleFolderCreation","resetGroup","handleEvalGroupCreation","groupName","evaluationInterval","getOptions","results","debouncedSearch","defaultGroupValue","Field","Label","InputControl","ref","field","title","uid","Box","Text","FolderCreationModal","fieldState","option","Provisioning","group_","EvaluationGroupCreationModal","onClose","onCreate","setTitle","onSubmit","newFolder","error","Modal","Input","e","getValues","evaluateEveryId","groupRules","g","onCancel","formAPI","register","handleSubmit","formState","GrafanaAlertStatePicker","includeNoData","includeError","opts","opt","MIN_TIME_RANGE_STEP_S","forValidationOptions","evaluateEvery","millisFor","millisEvery","useIsNewGroup","groupInList","FolderGroupAndEvaluationInterval","setEvaluateEvery","isEditingGroup","setIsEditingGroup","existingNamespace","ns","existingGroup","isNewGroup","closeEditGroupModal","saved","onOpenEditGroupModal","editGroupDisabled","emptyNamespace","emptyGroup","IconButton","ForInput","evaluateForId","getDescription","docsLink","NeedHelpInfo","GrafanaEvaluationBehavior","existing","showErrorHandling","setShowErrorHandling","isPaused","RuleEditorSection","Switch","CollapseToggle","collapsed","onChange","EvaluationIntervalLimitExceeded","ITEMS_PER_PAGE","ForBadge","message","Badge","isValidEvaluation","evaluation","duration","RulesForGroupTable","rulesWithoutRecordingRules","currentInterval","unknownCurrentInterval","rows","index","alert1","alert2","columns","alertName","forDuration","numberEvaluations","DynamicTable","evaluateEveryValidationOptions","rules","EditCloudGroupModal","namespace","intervalEditOnly","dispatched","notifyApp","defaultValues","rulesSourceName","isGrafanaManagedGroup","nameSpaceLabel","useCleanup","values","isDirty","onInvalid","r","hasSomeNoRecordingRules","modalTitle","useRulesAccess"],"sourceRoot":""}