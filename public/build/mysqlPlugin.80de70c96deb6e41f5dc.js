(self.webpackChunkgrafana=self.webpackChunkgrafana||[]).push([[4251,5783],{2537:(B,g,a)=>{"use strict";a.d(g,{K:()=>v});var n=a(31733),T=a(98463),I=a(17302),e=a(85498),f=a(85765),c=a(36667),d=a(58037),r=a(49311),A=a(64516),S=a(76772),C=a(20888);function D(h){return h.trim()===""?NaN:Number(h)}const v=h=>{const{onOptionsChange:G,options:N}=h,R=N.jsonData,L=R.maxIdleConnsAuto!==void 0?R.maxIdleConnsAuto:!1,M=u=>{const E={...N,jsonData:{...R,...u}};return G(E)},x=u=>E=>{M({[u]:E})},H=u=>{M(L&&u?{maxOpenConns:u,maxIdleConns:u}:{maxOpenConns:u})},V=()=>{let u,E;L?(E=R.maxOpenConns,u=R.maxIdleConns):R.maxOpenConns!==void 0&&(E=R.maxOpenConns,u=R.maxOpenConns),M({maxIdleConnsAuto:!L,maxIdleConns:u,maxOpenConns:E})},P=40;return n.createElement(T._,{title:"Connection limits"},n.createElement(f.g,{label:n.createElement(c._,null,n.createElement(I.K,{gap:.5},n.createElement("span",null,"Max open"),n.createElement(d.u,{content:n.createElement("span",null,"The maximum number of open connections to the database. If ",n.createElement("i",null,"Max idle connections")," is greater than 0 and the ",n.createElement("i",null,"Max open connections")," is less than ",n.createElement("i",null,"Max idle connections"),", then",n.createElement("i",null,"Max idle connections")," will be reduced to match the ",n.createElement("i",null,"Max open connections")," limit. If set to 0, there is no limit on the number of open connections.")},n.createElement(r.J,{name:"info-circle",size:"sm"}))))},n.createElement(A.I,{type:"number",placeholder:"unlimited",defaultValue:R.maxOpenConns,onChange:u=>{const E=D(u.currentTarget.value);Number.isNaN(E)||H(E)},width:P})),n.createElement(f.g,{label:n.createElement(c._,null,n.createElement(I.K,{gap:.5},n.createElement("span",null,"Auto Max Idle"),n.createElement(d.u,{content:n.createElement("span",null,"If enabled, automatically set the number of ",n.createElement("i",null,"Maximum idle connections")," to the same value as",n.createElement("i",null," Max open connections"),". If the number of maximum open connections is not set it will be set to the default (",e.config.sqlConnectionLimits.maxIdleConns,").")},n.createElement(r.J,{name:"info-circle",size:"sm"}))))},n.createElement(S.r,{value:L,onChange:V})),n.createElement(f.g,{label:n.createElement(c._,null,n.createElement(I.K,{gap:.5},n.createElement("span",null,"Max idle"),n.createElement(d.u,{content:n.createElement("span",null,"The maximum number of connections in the idle connection pool.If ",n.createElement("i",null,"Max open connections")," is greater than 0 but less than the ",n.createElement("i",null,"Max idle connections"),", then the ",n.createElement("i",null,"Max idle connections")," ","will be reduced to match the ",n.createElement("i",null,"Max open connections")," limit. If set to 0, no idle connections are retained.")},n.createElement(r.J,{name:"info-circle",size:"sm"}))))},L?n.createElement(C.W,{width:P},N.jsonData.maxIdleConns):n.createElement(A.I,{type:"number",placeholder:"2",defaultValue:R.maxIdleConns,onChange:u=>{const E=D(u.currentTarget.value);Number.isNaN(E)||x("maxIdleConns")(E)},width:P,disabled:L})),n.createElement(f.g,{label:n.createElement(c._,null,n.createElement(I.K,{gap:.5},n.createElement("span",null,"Max lifetime"),n.createElement(d.u,{content:n.createElement("span",null,"The maximum amount of time in seconds a connection may be reused. If set to 0, connections are reused forever.")},n.createElement(r.J,{name:"info-circle",size:"sm"}))))},n.createElement(A.I,{type:"number",placeholder:"14400",defaultValue:R.connMaxLifetime,onChange:u=>{const E=D(u.currentTarget.value);Number.isNaN(E)||x("connMaxLifetime")(E)},width:P})))}},27965:(B,g,a)=>{"use strict";a.d(g,{i:()=>e});var n=a(76932),T=a(31733),I=a(76067);const e=()=>{const c=(0,I.wW)(f);return T.createElement("hr",{className:c.horizontalDivider})},f=c=>({horizontalDivider:(0,n.css)({borderTop:`1px solid ${c.colors.border.weak}`,margin:c.spacing(2,0),width:"100%"})})},71378:(B,g,a)=>{"use strict";a.d(g,{d:()=>A});var n=a(31733),T=a(44992),I=a(85765),e=a(36667),f=a(37739),c=a(58037),d=a(49311),r=a(24444);const A=S=>{const{editorProps:C,showCACert:D,showKeyPair:v=!0}=S,{secureJsonFields:h}=C.options;return n.createElement(n.Fragment,null,v?n.createElement(I.g,{label:n.createElement(e._,null,n.createElement(f.K,{gap:.5},n.createElement("span",null,"TLS/SSL Client Certificate"),n.createElement(c.u,{content:n.createElement("span",null,"To authenticate with an TLS/SSL client certificate, provide the client certificate here.")},n.createElement(d.J,{name:"info-circle",size:"sm"}))))},n.createElement(r.Zk,{placeholder:"-----BEGIN CERTIFICATE-----",cols:45,rows:7,isConfigured:h&&h.tlsClientCert,onChange:(0,T.fi)(C,"tlsClientCert"),onReset:()=>{(0,T.Mf)(C,"tlsClientCert")}})):null,D?n.createElement(I.g,{label:n.createElement(e._,null,n.createElement(f.K,{gap:.5},n.createElement("span",null,"TLS/SSL Root Certificate"),n.createElement(c.u,{content:n.createElement("span",null,"If the selected TLS/SSL mode requires a server root certificate, provide it here.")},n.createElement(d.J,{name:"info-circle",size:"sm"}))))},n.createElement(r.Zk,{placeholder:"-----BEGIN CERTIFICATE-----",cols:45,rows:7,isConfigured:h&&h.tlsCACert,onChange:(0,T.fi)(C,"tlsCACert"),onReset:()=>{(0,T.Mf)(C,"tlsCACert")}})):null,v?n.createElement(I.g,{label:n.createElement(e._,null,n.createElement(f.K,{gap:.5},n.createElement("span",null,"TLS/SSL Client Key"),n.createElement(c.u,{content:n.createElement("span",null,"To authenticate with a client TLS/SSL certificate, provide the key here.")},n.createElement(d.J,{name:"info-circle",size:"sm"}))))},n.createElement(r.Zk,{placeholder:"-----BEGIN RSA PRIVATE KEY-----",cols:45,rows:7,isConfigured:h&&h.tlsClientKey,onChange:(0,T.fi)(C,"tlsClientKey"),onReset:()=>{(0,T.Mf)(C,"tlsClientKey")}})):null)}},15580:(B,g,a)=>{"use strict";a.d(g,{D:()=>e});var n=a(31733),T=a(70621),I=a(85498);function e({onOptionsChange:f,options:c}){(0,n.useEffect)(()=>{const d=c.jsonData;let r={...c},A=!1;if(c.database&&((0,T.o7)(`Migrating from options.database with value ${c.database} for ${c.name}`),r.database="",r.jsonData={...d,database:c.database},A=!0),d.maxOpenConns===void 0&&d.maxIdleConns===void 0&&d.maxIdleConnsAuto===void 0){const{maxOpenConns:S,maxIdleConns:C}=I.config.sqlConnectionLimits;(0,T.o7)(`Setting default max open connections to ${S} and setting max idle connection to ${C}`),r.jsonData={...r.jsonData,maxOpenConns:S,maxIdleConns:C,maxIdleConnsAuto:!0},A=!0}if(d.connMaxLifetime===void 0){const{connMaxLifetime:S}=I.config.sqlConnectionLimits;r.jsonData={...r.jsonData,connMaxLifetime:S},A=!0}A&&f(r)},[f,c])}},48728:(B,g,a)=>{"use strict";a.r(g),a.d(g,{plugin:()=>he});var n=a(51023),T=a(29697),I=a(76932),e=a(31733),f=a(76067);function c(){const t=(0,f.wW)(d);return e.createElement("div",null,e.createElement("h2",null,"MySQL cheat sheet"),"Time series:",e.createElement("ul",{className:t.ulPadding},e.createElement("li",null,"return column named time or time_sec (in UTC), as a unix time stamp or any sql native date data type. You can use the macros below."),e.createElement("li",null,"return column(s) with numeric datatype as values")),"Optional:",e.createElement("ul",{className:t.ulPadding},e.createElement("li",null,"return column named ",e.createElement("i",null,"metric")," to represent the series name."),e.createElement("li",null,"If multiple value columns are returned the metric column is used as prefix."),e.createElement("li",null,"If no column named metric is found the column name of the value column is used as series name")),e.createElement("p",null,"Resultsets of time series queries need to be sorted by time."),"Table:",e.createElement("ul",{className:t.ulPadding},e.createElement("li",null,"return any set of columns")),"Macros:",e.createElement("ul",{className:t.ulPadding},e.createElement("li",null,"$__time(column) -> UNIX_TIMESTAMP(column) as time_sec"),e.createElement("li",null,"$__timeEpoch(column) -> UNIX_TIMESTAMP(column) as time_sec"),e.createElement("li",null,"$__timeFilter(column) -> column BETWEEN FROM_UNIXTIME(1492750877) AND FROM_UNIXTIME(1492750877)"),e.createElement("li",null,"$__unixEpochFilter(column) -> time_unix_epoch > 1492750877 AND time_unix_epoch < 1492750877"),e.createElement("li",null,"$__unixEpochNanoFilter(column) -> column >= 1494410783152415214 AND column <= 1494497183142514872"),e.createElement("li",null,"$__timeGroup(column,'5m'[, fillvalue]) -> cast(cast(UNIX_TIMESTAMP(column)/(300) as signed)*300 as signed) by setting fillvalue grafana will fill in missing values according to the interval fillvalue can be either a literal value, NULL or previous; previous will fill in the previous seen value or NULL if none has been seen yet"),e.createElement("li",null,`$__timeGroupAlias(column,'5m') -> cast(cast(UNIX_TIMESTAMP(column)/(300) as signed)*300 as signed) AS "time"`),e.createElement("li",null,"$__unixEpochGroup(column,'5m') -> column DIV 300 * 300"),e.createElement("li",null,`$__unixEpochGroupAlias(column,'5m') -> column DIV 300 * 300 AS "time"`)),e.createElement("p",null,"Example of group by and order by with $__timeGroup:"),e.createElement("pre",null,e.createElement("code",null,"$__timeGroupAlias(timestamp_col, '1h'), sum(value_double) as value",e.createElement("br",null),"FROM yourtable",e.createElement("br",null),"GROUP BY 1",e.createElement("br",null),"ORDER BY 1",e.createElement("br",null))),"Or build your own conditionals using these macros which just return the values:",e.createElement("ul",{className:t.ulPadding},e.createElement("li",null,"$__timeFrom() -> FROM_UNIXTIME(1492750877)"),e.createElement("li",null,"$__timeTo() -> FROM_UNIXTIME(1492750877)"),e.createElement("li",null,"$__unixEpochFrom() -> 1492750877"),e.createElement("li",null,"$__unixEpochTo() -> 1492750877"),e.createElement("li",null,"$__unixEpochNanoFrom() -> 1494410783152415214"),e.createElement("li",null,"$__unixEpochNanoTo() -> 1494497183142514872")))}function d(t){return{ulPadding:(0,I.css)({margin:t.spacing(1,0),paddingLeft:t.spacing(5)})}}var r=a(53419),A=a(22048),S=a(34427);function C(t){const l=[];for(const s of t){let i="text";switch(s.type?.toUpperCase()){case"BOOLEAN":case"BOOL":{i="boolean";break}case"BYTES":case"VARCHAR":{i="text";break}case"FLOAT":case"FLOAT64":case"INT":case"INTEGER":case"INT64":case"NUMERIC":case"BIGNUMERIC":{i="number";break}case"DATE":{i="date";break}case"DATETIME":{i="datetime";break}case"TIME":{i="time";break}case"TIMESTAMP":{i="datetime";break}case"GEOGRAPHY":{i="text";break}default:break}l.push({...s,raqbFieldType:i,icon:D(s.type.toUpperCase())})}return l}function D(t){switch(t){case"TIME":case"DATETIME":case"TIMESTAMP":return"clock-nine";case"BOOLEAN":return"toggle-off";case"INTEGER":case"FLOAT":case"FLOAT64":case"INT":case"SMALLINT":case"BIGINT":case"TINYINT":case"BYTEINT":case"INT64":case"NUMERIC":case"DECIMAL":return"calculator-alt";case"CHAR":case"VARCHAR":case"STRING":case"BYTES":case"TEXT":case"TINYTEXT":case"MEDIUMTEXT":case"LONGTEXT":return"text";case"GEOGRAPHY":return"map";default:return}}var v=a(69781),h=a(24492);function G({sql:t,dataset:l,table:s}){let i="";if(!t||!(0,h.IC)(t.columns))return i;if(i+=(0,h.zE)(t.columns),l&&s&&(i+=`FROM ${l}.${s} `),t.whereString&&(i+=`WHERE ${t.whereString} `),t.groupBy?.[0]?.property.name){const m=t.groupBy.map(o=>o.property.name).filter(o=>!(0,v.isEmpty)(o));i+=`GROUP BY ${m.join(", ")} `}return t.orderBy?.property.name&&(i+=`ORDER BY ${t.orderBy.property.name} `),t.orderBy?.property.name&&t.orderByDirection&&(i+=`${t.orderByDirection} `),t.limit!==void 0&&t.limit>=0&&(i+=`LIMIT ${t.limit} `),i}function N(t){return R(t)?t:`\`${t}\``}function R(t){const l=/^[a-zA-Z_][a-zA-Z0-9_$]*$/g.test(t);return!x.includes(t.toUpperCase())&&l}function L(t){return t[0]==='"'&&t[t.length-1]==='"'?t.substring(1,t.length-1).replace(/""/g,'"'):t[0]==="`"&&t[t.length-1]==="`"?t.substring(1,t.length-1):t}function M(t){return"'"+t.replace(/'/g,"''")+"'"}const x=["ACCESSIBLE","ADD","ALL","ALTER","ANALYZE","AND","AS","ASC","ASENSITIVE","BEFORE","BETWEEN","BIGINT","BINARY","BLOB","BOTH","BY","CALL","CASCADE","CASE","CHANGE","CHAR","CHARACTER","CHECK","COLLATE","COLUMN","CONDITION","CONSTRAINT","CONTINUE","CONVERT","CREATE","CROSS","CUBE","CUME_DIST","CURRENT_DATE","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_USER","CURSOR","DATABASE","DATABASES","DAY_HOUR","DAY_MICROSECOND","DAY_MINUTE","DAY_SECOND","DEC","DECIMAL","DECLARE","DEFAULT","DELAYED","DELETE","DENSE_RANK","DESC","DESCRIBE","DETERMINISTIC","DISTINCT","DISTINCTROW","DIV","DOUBLE","DROP","DUAL","EACH","ELSE","ELSEIF","EMPTY","ENCLOSED","ESCAPED","EXCEPT","EXISTS","EXIT","EXPLAIN","FALSE","FETCH","FIRST_VALUE","FLOAT","FLOAT4","FLOAT8","FOR","FORCE","FOREIGN","FROM","FULLTEXT","FUNCTION","GENERATED","GET","GRANT","GROUP","GROUPING","GROUPS","HAVING","HIGH_PRIORITY","HOUR_MICROSECOND","HOUR_MINUTE","HOUR_SECOND","IF","IGNORE","IN","INDEX","INFILE","INNER","INOUT","INSENSITIVE","INSERT","INT","INT1","INT2","INT3","INT4","INT8","INTEGER","INTERSECT","INTERVAL","INTO","IO_AFTER_GTIDS","IO_BEFORE_GTIDS","IS","ITERATE","JOIN","JSON_TABLE","KEY","KEYS","KILL","LAG","LAST_VALUE","LATERAL","LEAD","LEADING","LEAVE","LEFT","LIKE","LIMIT","LINEAR","LINES","LOAD","LOCALTIME","LOCALTIMESTAMP","LOCK","LONG","LONGBLOB","LONGTEXT","LOOP","LOW_PRIORITY","MASTER_BIND","MASTER_SSL_VERIFY_SERVER_CERT","MATCH","MAXVALUE","MEDIUMBLOB","MEDIUMINT","MEDIUMTEXT","MIDDLEINT","MINUTE_MICROSECOND","MINUTE_SECOND","MOD","MODIFIES","NATURAL","NOT","NO_WRITE_TO_BINLOG","NTH_VALUE","NTILE","NULL","NUMERIC","OF","ON","OPTIMIZE","OPTIMIZER_COSTS","OPTION","OPTIONALLY","OR","ORDER","OUT","OUTER","OUTFILE","OVER","PARTITION","PERCENT_RANK","PRECISION","PRIMARY","PROCEDURE","PURGE","RANGE","RANK","READ","READS","READ_WRITE","REAL","RECURSIVE","REFERENCES","REGEXP","RELEASE","RENAME","REPEAT","REPLACE","REQUIRE","RESIGNAL","RESTRICT","RETURN","REVOKE","RIGHT","RLIKE","ROW","ROWS","ROW_NUMBER","SCHEMA","SCHEMAS","SECOND_MICROSECOND","SELECT","SENSITIVE","SEPARATOR","SET","SHOW","SIGNAL","SMALLINT","SPATIAL","SPECIFIC","SQL","SQLEXCEPTION","SQLSTATE","SQLWARNING","SQL_BIG_RESULT","SQL_CALC_FOUND_ROWS","SQL_SMALL_RESULT","SSL","STARTING","STORED","STRAIGHT_JOIN","SYSTEM","TABLE","TERMINATED","THEN","TINYBLOB","TINYINT","TINYTEXT","TO","TRAILING","TRIGGER","TRUE","UNDO","UNION","UNIQUE","UNLOCK","UNSIGNED","UPDATE","USAGE","USE","USING","UTC_DATE","UTC_TIME","UTC_TIMESTAMP","VALUES","VARBINARY","VARCHAR","VARCHARACTER","VARYING","VIRTUAL","WHEN","WHERE","WHILE","WINDOW","WITH","WRITE","XOR","YEAR_MONTH","ZEROFILL"];function H(t){return`SELECT table_name FROM information_schema.tables WHERE table_schema = ${t!==void 0?E(t):"database()"} ORDER BY table_name`}function V(){return"SELECT DISTINCT TABLE_SCHEMA from information_schema.TABLES where TABLE_TYPE != 'SYSTEM VIEW' ORDER BY TABLE_SCHEMA"}function P(t,l){let s="SELECT column_name, data_type FROM information_schema.columns WHERE ";return s+=u(t,l),s+=" ORDER BY column_name",s}function u(t,l){let s="";if(t.includes(".")){const i=t.split(".");return s="table_schema = "+E(i[0]),s+=" AND table_name = "+E(i[1]),s}else return s=`table_schema = ${l!==void 0?E(l):"database()"} AND table_name = `+E(t),s}function E(t){return M(L(t))}var q=a(62937);const ee=({getMeta:t})=>(l,s)=>({...s&&(0,q.h)(l,s),customStatementPlacement:ne,customSuggestionKinds:ae(t)}),X={afterDatabase:"afterDatabase"},te={tablesWithinDatabase:"tablesWithinDatabase"},Y="FROM",ne=()=>[{id:X.afterDatabase,resolve:(t,l,s)=>!!(t?.is(r.iv.Delimiter,".")&&l?.value===Y&&(s?.is(r.iv.IdentifierQuote)||s?.isIdentifier())&&t?.getPreviousUntil(r.iv.Keyword,[r.iv.IdentifierQuote],Y)?.filter(i=>i.isIdentifier()).length===1)}],ae=t=>()=>[{id:r.is.Tables,overrideDefault:!0,suggestionsResolver:async l=>{const s=$(l.currentToken);return(await t({schema:s})).map(w(l))}},{id:r.is.Columns,overrideDefault:!0,suggestionsResolver:async l=>{const s=ie(l.currentToken),i=$(s),m=le(s);return!i||!m?[]:(await t({schema:i,table:m})).map(w(l))}},{id:te.tablesWithinDatabase,applyTo:[X.afterDatabase],suggestionsResolver:async l=>{const s=$(l.currentToken);return(await t({schema:s})).map(w(l))}}];function w(t){return function(l){return{label:l.name,insertText:l.completion??l.name,command:{id:"editor.action.triggerSuggest",title:""},kind:r.cm.Field,sortText:r.G8.High,range:{...t.range,startColumn:t.range.endColumn,endColumn:t.range.endColumn}}}}function $(t){if(t?.isIdentifier()&&t.value[t.value.length-1]!==".")return t.value;if(t?.is(r.iv.Delimiter,"."))return t.getPreviousOfType(r.iv.Identifier)?.value;if(t?.is(r.iv.IdentifierQuote))return t.getPreviousOfType(r.iv.Identifier)?.value||t.getNextOfType(r.iv.Identifier)?.value}function le(t){return t?.getNextOfType(r.iv.Identifier)?.value}const se=t=>(t?.getPreviousOfType(r.iv.Keyword,"SELECT")??null)?.getNextOfType(r.iv.Keyword,Y),ie=t=>{const s=se(t)?.getNextOfType(r.iv.Identifier);return s?.isKeyword()&&s.next?.is(r.iv.Parenthesis,"(")?null:s};class re extends A.D{constructor(l){super(l),this.instanceSettings=l}getQueryModel(){return{quoteLiteral:M}}getSqlLanguageDefinition(){if(this.sqlLanguageDefinition!==void 0)return this.sqlLanguageDefinition;const l={getMeta:s=>this.fetchMeta(s)};return this.sqlLanguageDefinition={id:"mysql",completionProvider:ee(l),formatter:S._},this.sqlLanguageDefinition}async fetchDatasets(){return(await this.runSql(V(),{refId:"datasets"})).map(s=>N(s[0]))}async fetchTables(l){return(await this.runSql(H(l),{refId:"tables"})).map(i=>N(i[0]))}async fetchFields(l){if(!l.dataset||!l.table)return[];const s=P(l.table,l.dataset),m=(await this.runSql(s,{refId:"fields"})).map(o=>({name:o[0],text:o[0],value:N(o[0]),type:o[1],label:o[0]}));return C(m)}async fetchMeta(l){const s=this.instanceSettings.jsonData.database;return!l?.schema&&s?(await this.fetchTables(s)).map(m=>({name:m,completion:`${s}.${m}`,kind:r.cm.Class})):!l?.schema&&!s?(await this.fetchDatasets()).map(m=>({name:m,completion:`${m}.`,kind:r.cm.Module})):!l?.table&&(!s||l?.schema)?(await this.fetchTables(l?.schema)).map(m=>({name:m,completion:m,kind:r.cm.Class})):l?.table&&l.schema?(await this.fetchFields({dataset:l.schema,table:l.table})).map(m=>({name:m.name,completion:m.value,kind:r.cm.Field})):[]}getDB(){return this.db!==void 0?this.db:{datasets:()=>this.fetchDatasets(),tables:l=>this.fetchTables(l),fields:l=>this.fetchFields(l),validateQuery:(l,s)=>Promise.resolve({query:l,error:"",isError:!1,isValid:!0}),dsID:()=>this.id,toRawSql:G,functions:()=>["VARIANCE","STDDEV"],getEditorLanguageDefinition:()=>this.getSqlLanguageDefinition()}}}var U=a(44992),oe=a(85510),F=a(83717),ce=a(98463),z=a(17302),Ee=a(85498),me=a(27218),O=a(85765),b=a(64516),ue=a(33904),K=a(76772),j=a(36667),J=a(58037),Z=a(49311),de=a(41854),Te=a(2537),y=a(27965),Ie=a(71378),fe=a(15580);const Ce=t=>{const[l,s]=(0,e.useState)(!0),{options:i,onOptionsChange:m}=t,o=i.jsonData;(0,fe.D)(t);const Re=()=>{(0,U.Mf)(t,"password")},k=_=>Q=>{m({...i,[_]:Q.currentTarget.value})},W=_=>Q=>{(0,U.tp)(t,_,Q.currentTarget.checked)},p=40;return e.createElement(e.Fragment,null,e.createElement(oe.j,{dataSourceName:"MySQL",docsLink:"https://grafana.com/docs/grafana/latest/datasources/mysql/",hasRequiredFields:!0}),e.createElement(y.i,null),e.createElement(me.U,{collapsible:!0,label:"User Permission",isOpen:l,onToggle:()=>s(_=>!_)},"The database user should only be granted SELECT permissions on the specified database & tables you want to query. ",e.createElement("br",null),"Grafana does not validate that queries are safe so queries can contain any SQL statement. For example, statements like ",e.createElement("code",null,"USE otherdb;")," and ",e.createElement("code",null,"DROP TABLE user;")," would be executed. ",e.createElement("br",null),"To protect against this we ",e.createElement("strong",null,"Highly")," recommend you create a specific MySQL user with restricted permissions. Check out the docs for more information."),e.createElement(y.i,null),e.createElement(F.K,{title:"Connection"},e.createElement(O.g,{label:"Host URL",required:!0},e.createElement(b.I,{width:p,name:"host",type:"text",value:i.url||"",placeholder:"localhost:3306",onChange:k("url")})),e.createElement(O.g,{label:"Database name"},e.createElement(b.I,{width:p,name:"database",value:o.database||"",placeholder:"Database",onChange:(0,U._R)(t,"database")}))),e.createElement(y.i,null),e.createElement(F.K,{title:"Authentication"},e.createElement(O.g,{label:"Username",required:!0},e.createElement(b.I,{width:p,value:i.user||"",placeholder:"Username",onChange:k("user")})),e.createElement(O.g,{label:"Password"},e.createElement(ue.m4,{width:p,placeholder:"Password",isConfigured:i.secureJsonFields&&i.secureJsonFields.password,onReset:Re,onBlur:(0,U.fi)(t,"password")})),e.createElement(O.g,{label:"Use TLS Client Auth",description:"Enables TLS authentication using client cert configured in secure json data."},e.createElement(K.r,{onChange:W("tlsAuth"),value:o.tlsAuth||!1})),e.createElement(O.g,{label:"With CA Cert",description:"Needed for verifying self-signed TLS Certs."},e.createElement(K.r,{onChange:W("tlsAuthWithCACert"),value:o.tlsAuthWithCACert||!1})),e.createElement(O.g,{label:"Skip TLS Verification",description:"When enabled, skips verification of the MySQL server's TLS certificate chain and host name."},e.createElement(K.r,{onChange:W("tlsSkipVerify"),value:o.tlsSkipVerify||!1})),e.createElement(O.g,{label:"Allow Cleartext Passwords",description:"Allows using the cleartext client side plugin if required by an account."},e.createElement(K.r,{onChange:W("allowCleartextPasswords"),value:o.allowCleartextPasswords||!1}))),o.tlsAuth||o.tlsAuthWithCACert?e.createElement(e.Fragment,null,e.createElement(y.i,null),e.createElement(F.K,{title:"TLS/SSL Auth Details"},o.tlsAuth||o.tlsAuthWithCACert?e.createElement(Ie.d,{showCACert:o.tlsAuthWithCACert,showKeyPair:o.tlsAuth,editorProps:t,labelWidth:p}):null)):null,e.createElement(y.i,null),e.createElement(F.K,{title:"Additional settings",isCollapsible:!0},e.createElement(ce._,{title:"MySQL Options"},e.createElement(O.g,{label:e.createElement(j._,null,e.createElement(z.K,{gap:.5},e.createElement("span",null,"Session timezone"),e.createElement(J.u,{content:e.createElement("span",null,"Specify the timezone used in the database session, such as ",e.createElement("code",null,"Europe/Berlin")," or",e.createElement("code",null,"+02:00"),". Required if the timezone of the database (or the host of the database) is set to something other than UTC. Set this to ",e.createElement("code",null,"+00:00")," so Grafana can handle times properly. Set the value used in the session with ",e.createElement("code",null,"SET time_zone='...'"),". If you leave this field empty, the timezone will not be updated. You can find more information in the MySQL documentation.")},e.createElement(Z.J,{name:"info-circle",size:"sm"}))))},e.createElement(b.I,{width:p,value:o.timezone||"",onChange:(0,U._R)(t,"timezone"),placeholder:"Europe/Berlin or +02:00"})),e.createElement(O.g,{label:e.createElement(j._,null,e.createElement(z.K,{gap:.5},e.createElement("span",null,"Min time interval"),e.createElement(J.u,{content:e.createElement("span",null,"A lower limit for the auto group by time interval. Recommended to be set to write frequency, for example",e.createElement("code",null,"1m")," if your data is written every minute.")},e.createElement(Z.J,{name:"info-circle",size:"sm"})))),description:"A lower limit for the auto group by time interval. Recommended to be set to write frequency, for example 1m if your data is written every minute."},e.createElement(b.I,{width:p,placeholder:"1m",value:o.timeInterval||"",onChange:(0,U._R)(t,"timeInterval")}))),e.createElement(Te.K,{options:i,onOptionsChange:m}),Ee.config.secureSocksDSProxyEnabled&&e.createElement(de.i,{options:i,onOptionsChange:m})))},he=new n.hf(re).setQueryEditor(T.M).setQueryEditorHelp(c).setConfigEditor(Ce)},47766:()=>{},60732:()=>{}}]);

//# sourceMappingURL=mysqlPlugin.80de70c96deb6e41f5dc.js.map