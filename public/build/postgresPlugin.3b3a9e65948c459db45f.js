(self.webpackChunkgrafana=self.webpackChunkgrafana||[]).push([[534,5783],{2537:(B,y,n)=>{"use strict";n.d(y,{K:()=>T});var t=n(31733),s=n(98463),e=n(17302),v=n(85498),d=n(85765),i=n(36667),p=n(58037),h=n(49311),L=n(64516),m=n(76772),o=n(20888);function D(C){return C.trim()===""?NaN:Number(C)}const T=C=>{const{onOptionsChange:z,options:j}=C,c=j.jsonData,O=c.maxIdleConnsAuto!==void 0?c.maxIdleConnsAuto:!1,_=E=>{const S={...j,jsonData:{...c,...E}};return z(S)},M=E=>S=>{_({[E]:S})},x=E=>{_(O&&E?{maxOpenConns:E,maxIdleConns:E}:{maxOpenConns:E})},R=()=>{let E,S;O?(S=c.maxOpenConns,E=c.maxIdleConns):c.maxOpenConns!==void 0&&(S=c.maxOpenConns,E=c.maxOpenConns),_({maxIdleConnsAuto:!O,maxIdleConns:E,maxOpenConns:S})},K=40;return t.createElement(s._,{title:"Connection limits"},t.createElement(d.g,{label:t.createElement(i._,null,t.createElement(e.K,{gap:.5},t.createElement("span",null,"Max open"),t.createElement(p.u,{content:t.createElement("span",null,"The maximum number of open connections to the database. If ",t.createElement("i",null,"Max idle connections")," is greater than 0 and the ",t.createElement("i",null,"Max open connections")," is less than ",t.createElement("i",null,"Max idle connections"),", then",t.createElement("i",null,"Max idle connections")," will be reduced to match the ",t.createElement("i",null,"Max open connections")," limit. If set to 0, there is no limit on the number of open connections.")},t.createElement(h.J,{name:"info-circle",size:"sm"}))))},t.createElement(L.I,{type:"number",placeholder:"unlimited",defaultValue:c.maxOpenConns,onChange:E=>{const S=D(E.currentTarget.value);Number.isNaN(S)||x(S)},width:K})),t.createElement(d.g,{label:t.createElement(i._,null,t.createElement(e.K,{gap:.5},t.createElement("span",null,"Auto Max Idle"),t.createElement(p.u,{content:t.createElement("span",null,"If enabled, automatically set the number of ",t.createElement("i",null,"Maximum idle connections")," to the same value as",t.createElement("i",null," Max open connections"),". If the number of maximum open connections is not set it will be set to the default (",v.config.sqlConnectionLimits.maxIdleConns,").")},t.createElement(h.J,{name:"info-circle",size:"sm"}))))},t.createElement(m.r,{value:O,onChange:R})),t.createElement(d.g,{label:t.createElement(i._,null,t.createElement(e.K,{gap:.5},t.createElement("span",null,"Max idle"),t.createElement(p.u,{content:t.createElement("span",null,"The maximum number of connections in the idle connection pool.If ",t.createElement("i",null,"Max open connections")," is greater than 0 but less than the ",t.createElement("i",null,"Max idle connections"),", then the ",t.createElement("i",null,"Max idle connections")," ","will be reduced to match the ",t.createElement("i",null,"Max open connections")," limit. If set to 0, no idle connections are retained.")},t.createElement(h.J,{name:"info-circle",size:"sm"}))))},O?t.createElement(o.W,{width:K},j.jsonData.maxIdleConns):t.createElement(L.I,{type:"number",placeholder:"2",defaultValue:c.maxIdleConns,onChange:E=>{const S=D(E.currentTarget.value);Number.isNaN(S)||M("maxIdleConns")(S)},width:K,disabled:O})),t.createElement(d.g,{label:t.createElement(i._,null,t.createElement(e.K,{gap:.5},t.createElement("span",null,"Max lifetime"),t.createElement(p.u,{content:t.createElement("span",null,"The maximum amount of time in seconds a connection may be reused. If set to 0, connections are reused forever.")},t.createElement(h.J,{name:"info-circle",size:"sm"}))))},t.createElement(L.I,{type:"number",placeholder:"14400",defaultValue:c.connMaxLifetime,onChange:E=>{const S=D(E.currentTarget.value);Number.isNaN(S)||M("connMaxLifetime")(S)},width:K})))}},27965:(B,y,n)=>{"use strict";n.d(y,{i:()=>v});var t=n(76932),s=n(31733),e=n(76067);const v=()=>{const i=(0,e.wW)(d);return s.createElement("hr",{className:i.horizontalDivider})},d=i=>({horizontalDivider:(0,t.css)({borderTop:`1px solid ${i.colors.border.weak}`,margin:i.spacing(2,0),width:"100%"})})},71378:(B,y,n)=>{"use strict";n.d(y,{d:()=>L});var t=n(31733),s=n(44992),e=n(85765),v=n(36667),d=n(37739),i=n(58037),p=n(49311),h=n(24444);const L=m=>{const{editorProps:o,showCACert:D,showKeyPair:T=!0}=m,{secureJsonFields:C}=o.options;return t.createElement(t.Fragment,null,T?t.createElement(e.g,{label:t.createElement(v._,null,t.createElement(d.K,{gap:.5},t.createElement("span",null,"TLS/SSL Client Certificate"),t.createElement(i.u,{content:t.createElement("span",null,"To authenticate with an TLS/SSL client certificate, provide the client certificate here.")},t.createElement(p.J,{name:"info-circle",size:"sm"}))))},t.createElement(h.Zk,{placeholder:"-----BEGIN CERTIFICATE-----",cols:45,rows:7,isConfigured:C&&C.tlsClientCert,onChange:(0,s.fi)(o,"tlsClientCert"),onReset:()=>{(0,s.Mf)(o,"tlsClientCert")}})):null,D?t.createElement(e.g,{label:t.createElement(v._,null,t.createElement(d.K,{gap:.5},t.createElement("span",null,"TLS/SSL Root Certificate"),t.createElement(i.u,{content:t.createElement("span",null,"If the selected TLS/SSL mode requires a server root certificate, provide it here.")},t.createElement(p.J,{name:"info-circle",size:"sm"}))))},t.createElement(h.Zk,{placeholder:"-----BEGIN CERTIFICATE-----",cols:45,rows:7,isConfigured:C&&C.tlsCACert,onChange:(0,s.fi)(o,"tlsCACert"),onReset:()=>{(0,s.Mf)(o,"tlsCACert")}})):null,T?t.createElement(e.g,{label:t.createElement(v._,null,t.createElement(d.K,{gap:.5},t.createElement("span",null,"TLS/SSL Client Key"),t.createElement(i.u,{content:t.createElement("span",null,"To authenticate with a client TLS/SSL certificate, provide the key here.")},t.createElement(p.J,{name:"info-circle",size:"sm"}))))},t.createElement(h.Zk,{placeholder:"-----BEGIN RSA PRIVATE KEY-----",cols:45,rows:7,isConfigured:C&&C.tlsClientKey,onChange:(0,s.fi)(o,"tlsClientKey"),onReset:()=>{(0,s.Mf)(o,"tlsClientKey")}})):null)}},15580:(B,y,n)=>{"use strict";n.d(y,{D:()=>v});var t=n(31733),s=n(70621),e=n(85498);function v({onOptionsChange:d,options:i}){(0,t.useEffect)(()=>{const p=i.jsonData;let h={...i},L=!1;if(i.database&&((0,s.o7)(`Migrating from options.database with value ${i.database} for ${i.name}`),h.database="",h.jsonData={...p,database:i.database},L=!0),p.maxOpenConns===void 0&&p.maxIdleConns===void 0&&p.maxIdleConnsAuto===void 0){const{maxOpenConns:m,maxIdleConns:o}=e.config.sqlConnectionLimits;(0,s.o7)(`Setting default max open connections to ${m} and setting max idle connection to ${o}`),h.jsonData={...h.jsonData,maxOpenConns:m,maxIdleConns:o,maxIdleConnsAuto:!0},L=!0}if(p.connMaxLifetime===void 0){const{connMaxLifetime:m}=e.config.sqlConnectionLimits;h.jsonData={...h.jsonData,connMaxLifetime:m},L=!0}L&&d(h)},[d,i])}},20684:(B,y,n)=>{"use strict";n.r(y),n.d(y,{plugin:()=>De});var t=n(51023),s=n(76932),e=n(31733),v=n(76067);function d(){const a=(0,v.wW)(i);return e.createElement("div",null,e.createElement("h2",null,"PostgreSQL cheat sheet"),"Time series:",e.createElement("ul",{className:a.ulPadding},e.createElement("li",null,"return column named ",e.createElement("i",null,"time")," (UTC in seconds or timestamp)"),e.createElement("li",null,"return column(s) with numeric datatype as values")),"Optional:",e.createElement("ul",{className:a.ulPadding},e.createElement("li",null,"return column named ",e.createElement("i",null,"metric")," to represent the series name."),e.createElement("li",null,"If multiple value columns are returned the metric column is used as prefix."),e.createElement("li",null,"If no column named metric is found the column name of the value column is used as series name")),e.createElement("p",null,"Resultsets of time series queries need to be sorted by time."),"Table:",e.createElement("ul",{className:a.ulPadding},e.createElement("li",null,"return any set of columns")),"Macros:",e.createElement("ul",{className:a.ulPadding},e.createElement("li",null,'$__time(column) -> column as "time"'),e.createElement("li",null,'$__timeEpoch -> extract(epoch from column) as "time"'),e.createElement("li",null,"$__timeFilter(column) -> column BETWEEN '2017-04-21T05:01:17Z' AND '2017-04-21T05:01:17Z'"),e.createElement("li",null,"$__unixEpochFilter(column) -> column >= 1492750877 AND column <= 1492750877"),e.createElement("li",null,"$__unixEpochNanoFilter(column) -> column >= 1494410783152415214 AND column <= 1494497183142514872"),e.createElement("li",null,"$__timeGroup(column,'5m'[, fillvalue]) -> (extract(epoch from column)/300)::bigint*300 by setting fillvalue grafana will fill in missing values according to the interval fillvalue can be either a literal value, NULL or previous; previous will fill in the previous seen value or NULL if none has been seen yet"),e.createElement("li",null,`$__timeGroupAlias(column,'5m') -> (extract(epoch from column)/300)::bigint*300 AS "time"`),e.createElement("li",null,"$__unixEpochGroup(column,'5m') -> floor(column/300)*300"),e.createElement("li",null,`$__unixEpochGroupAlias(column,'5m') -> floor(column/300)*300 AS "time"`)),e.createElement("p",null,"Example of group by and order by with $__timeGroup:"),e.createElement("pre",null,e.createElement("code",null,"SELECT $__timeGroup(date_time_col, '1h'), sum(value) as value ",e.createElement("br",null),"FROM yourtable",e.createElement("br",null),"GROUP BY time",e.createElement("br",null),"ORDER BY time",e.createElement("br",null))),"Or build your own conditionals using these macros which just return the values:",e.createElement("ul",{className:a.ulPadding},e.createElement("li",null,"$__timeFrom() -> '2017-04-21T05:01:17Z'"),e.createElement("li",null,"$__timeTo() -> '2017-04-21T05:01:17Z'"),e.createElement("li",null,"$__unixEpochFrom() -> 1492750877"),e.createElement("li",null,"$__unixEpochTo() -> 1492750877"),e.createElement("li",null,"$__unixEpochNanoFrom() -> 1494410783152415214"),e.createElement("li",null,"$__unixEpochNanoTo() -> 1494497183142514872")))}function i(a){return{ulPadding:(0,s.css)({margin:a.spacing(1,0),paddingLeft:a.spacing(5)})}}var p=n(29697);const h={dialect:"postgres"};function L(a){return e.createElement(p.M,{...a,queryHeaderProps:h})}var m=n(44992),o=n(85510),D=n(83717),T=n(17302),C=n(98463),z=n(85498),j=n(27218),c=n(85765),O=n(64516),_=n(33904),M=n(36667),x=n(58037),R=n(49311),K=n(38834),E=n(76772),S=n(41854),X=n(2537),U=n(27965),q=n(71378),k=n(15580),I=(a=>(a.disable="disable",a.require="require",a.verifyCA="verify-ca",a.verifyFull="verify-full",a))(I||{}),W=(a=>(a.filePath="file-path",a.fileContent="file-content",a))(W||{}),ee=n(96497),te=n(69391),ne=n(66261),ae=n(22048),le=n(34427),re=n(71199),ie=n(94442);class se{constructor(r,l,f){this.target=(0,ie.Y)(r||{refId:"A"}),this.templateSrv=l,this.scopedVars=f}interpolate(){return this.templateSrv?.replace(this.target.rawSql,this.scopedVars,re.b8.SQLString)||""}quoteLiteral(r){return"'"+r.replace(/'/g,"''")+"'"}}function oe(){return"SELECT current_setting('server_version_num')::int/100 as version"}function ce(){return"SELECT extversion FROM pg_extension WHERE extname = 'timescaledb'"}function ue(){return`select quote_ident(table_name) as "table" from information_schema.tables
    where quote_ident(table_schema) not in ('information_schema',
                             'pg_catalog',
                             '_timescaledb_cache',
                             '_timescaledb_catalog',
                             '_timescaledb_internal',
                             '_timescaledb_config',
                             'timescaledb_information',
                             'timescaledb_experimental')
      and ${de()}`}function me(a){return`select quote_ident(column_name) as "column", data_type as "type"
    from information_schema.columns
    where quote_ident(table_name) = '${a}'`}function de(){return`
          quote_ident(table_schema) IN (
          SELECT
            CASE WHEN trim(s[i]) = '"$user"' THEN user ELSE trim(s[i]) END
          FROM
            generate_series(
              array_lower(string_to_array(current_setting('search_path'),','),1),
              array_upper(string_to_array(current_setting('search_path'),','),1)
            ) as i,
            string_to_array(current_setting('search_path'),',') s
          )`}var fe=n(62937);const Ee=({getColumns:a,getTables:r})=>(l,f)=>({...f&&(0,fe.h)(l,f),tables:{resolve:async()=>await r.current()},columns:{resolve:async u=>await a.current({table:u?.table,refId:"A"})}});async function he(a,r){const l=await a.fields(r);return l.length>0?l.map(f=>({name:f.value,type:f.value,description:f.value})):[]}async function ge(a){return await a.lookup?.()||[]}var ve=n(69781),H=n(24492);function pe(a){switch(a){case"boolean":return{raqbFieldType:"boolean",icon:"toggle-off"};case"bit":case"bit varying":case"character":case"character varying":case"text":return{raqbFieldType:"text",icon:"text"};case"smallint":case"integer":case"bigint":case"decimal":case"numeric":case"real":case"double precision":case"serial":case"bigserial":case"smallserial":return{raqbFieldType:"number",icon:"calculator-alt"};case"date":return{raqbFieldType:"date",icon:"clock-nine"};case"time":case"time with time zone":case"time without time zone":case"interval":return{raqbFieldType:"time",icon:"clock-nine"};case"timestamp":case"timestamp with time zone":case"timestamp without time zone":return{raqbFieldType:"datetime",icon:"clock-nine"};default:return{raqbFieldType:"text",icon:"text"}}}function Ce({sql:a,table:r}){let l="";if(!a||!(0,H.IC)(a.columns))return l;if(l+=(0,H.zE)(a.columns),r&&(l+=`FROM ${r} `),a.whereString&&(l+=`WHERE ${a.whereString} `),a.groupBy?.[0]?.property.name){const f=a.groupBy.map(u=>u.property.name).filter(u=>!(0,ve.isEmpty)(u));l+=`GROUP BY ${f.join(", ")} `}return a.orderBy?.property.name&&(l+=`ORDER BY ${a.orderBy.property.name} `),a.orderBy?.property.name&&a.orderByDirection&&(l+=`${a.orderByDirection} `),a.limit!==void 0&&a.limit>=0&&(l+=`LIMIT ${a.limit} `),l}class Z extends ae.D{constructor(r){super(r),this.sqlLanguageDefinition=void 0}getQueryModel(r,l,f){return new se(r,l,f)}async getVersion(){const l=(await this.runSql(oe())).fields.version?.values;return l?l[0].toString():""}async getTimescaleDBVersion(){const l=(await this.runSql(ce())).fields.extversion?.values;if(l)return l[0]}async fetchTables(){return(await this.runSql(ue(),{refId:"tables"})).fields.table?.values.flat()??[]}getSqlLanguageDefinition(r){if(this.sqlLanguageDefinition!==void 0)return this.sqlLanguageDefinition;const l={getColumns:{current:f=>he(r,f)},getTables:{current:()=>ge(r)}};return this.sqlLanguageDefinition={id:"pgsql",completionProvider:Ee(l),formatter:le._},this.sqlLanguageDefinition}async fetchFields(r){const l=await this.runSql(me(r.table),{refId:"columns"}),f=[];for(let u=0;u<l.length;u++){const b=l.fields.column.values[u],w=l.fields.type.values[u];f.push({label:b,value:b,type:w,...pe(w)})}return f}getDB(){return this.db!==void 0?this.db:{init:()=>Promise.resolve(!0),datasets:()=>Promise.resolve([]),tables:()=>this.fetchTables(),getEditorLanguageDefinition:()=>this.getSqlLanguageDefinition(this.db),fields:async r=>r?.table?this.fetchFields(r):[],validateQuery:r=>Promise.resolve({isError:!1,isValid:!0,query:r,error:"",rawSql:r.rawSql}),dsID:()=>this.id,toRawSql:Ce,lookup:async()=>(await this.fetchTables()).map(l=>({name:l,completion:l}))}}}function Se({props:a,setVersionOptions:r}){const[l,f]=(0,e.useState)(!1),{options:u,onOptionsChange:b}=a;(0,ee.Z)(()=>{const w=async()=>{if(l){const g=await(0,ne.F)().get(u.name);if(g instanceof Z){const G=await g.getVersion(),A=parseInt(G,10);A>=906&&!u.jsonData.timescaledb&&await g.getTimescaleDBVersion()&&(0,m.tp)({options:u,onOptionsChange:b},"timescaledb",!0);const V=Math.trunc(A/100),$=A%100;let J=String(V);A<1e3&&(J=String(V)+"."+String($)),Y.find(F=>F.value===A)||r(F=>[...F,{label:J,value:A}]),(u.jsonData.postgresVersion===void 0||u.jsonData.postgresVersion!==A)&&(0,m.tp)({options:u,onOptionsChange:b},"postgresVersion",A)}}else{const g=await(0,te.i)().put(`/api/datasources/${u.id}`,u);f(!0),(0,m.fd)({options:u,onOptionsChange:b},"version",g.datasource.version)}};be(u)&&w()},[u,l,r])}function be(a){return a.url&&a.jsonData.database&&a.user&&(a.secureJsonData?.password||a.secureJsonFields?.password)&&(a.jsonData.sslmode===I.disable||a.jsonData.sslCertFile&&a.jsonData.sslKeyFile&&a.jsonData.sslRootCertFile)&&!a.jsonData.postgresVersion&&!a.readOnly}const Y=[{label:"9.0",value:900},{label:"9.1",value:901},{label:"9.2",value:902},{label:"9.3",value:903},{label:"9.4",value:904},{label:"9.5",value:905},{label:"9.6",value:906},{label:"10",value:1e3},{label:"11",value:1100},{label:"12",value:1200},{label:"13",value:1300},{label:"14",value:1400},{label:"15",value:1500}],ye=a=>{const[r,l]=(0,e.useState)(Y),[f,u]=(0,e.useState)(!0);Se({props:a,setVersionOptions:l}),(0,k.D)(a);const{options:b,onOptionsChange:w}=a,g=b.jsonData,G=()=>{(0,m.Mf)(a,"password")},A=[{value:I.disable,label:"disable"},{value:I.require,label:"require"},{value:I.verifyCA,label:"verify-ca"},{value:I.verifyFull,label:"verify-full"}],V=[{value:W.filePath,label:"File system path"},{value:W.fileContent,label:"Certificate content"}],$=N=>Q=>{(0,m.tp)(a,N,Q.value)},J=N=>{(0,m.tp)(a,"timescaledb",N.currentTarget.checked)},F=N=>Q=>{w({...b,[N]:Q.currentTarget.value})},P=40;return e.createElement(e.Fragment,null,e.createElement(o.j,{dataSourceName:"Postgres",docsLink:"https://grafana.com/docs/grafana/latest/datasources/postgres/",hasRequiredFields:!0}),e.createElement(U.i,null),e.createElement(j.U,{collapsible:!0,label:"User Permissions",isOpen:f,onToggle:()=>u(N=>!N)},"The database user should only be granted SELECT permissions on the specified database & tables you want to query. ",e.createElement("br",null),"Grafana does not validate that queries are safe so queries can contain any SQL statement. For example, statements like ",e.createElement("code",null,"DELETE FROM user;")," and ",e.createElement("code",null,"DROP TABLE user;")," would be executed. ",e.createElement("br",null),"To protect against this we ",e.createElement("strong",null,"Highly")," recommend you create a specific PostgreSQL user with restricted permissions. Check out the docs for more information."),e.createElement(U.i,null),e.createElement(D.K,{title:"Connection"},e.createElement(c.g,{label:"Host URL",required:!0},e.createElement(O.I,{width:P,name:"host",type:"text",value:b.url||"",placeholder:"localhost:5432",onChange:F("url")})),e.createElement(c.g,{label:"Database name",required:!0},e.createElement(O.I,{width:P,name:"database",value:g.database||"",placeholder:"Database",onChange:(0,m._R)(a,"database")}))),e.createElement(U.i,null),e.createElement(D.K,{title:"Authentication"},e.createElement(c.g,{label:"Username",required:!0},e.createElement(O.I,{width:P,value:b.user||"",placeholder:"Username",onChange:F("user")})),e.createElement(c.g,{label:"Password",required:!0},e.createElement(_.m4,{width:P,placeholder:"Password",isConfigured:b.secureJsonFields&&b.secureJsonFields.password,onReset:G,onBlur:(0,m.fi)(a,"password")})),e.createElement(c.g,{label:e.createElement(M._,null,e.createElement(T.K,{gap:.5},e.createElement("span",null,"TLS/SSL Mode"),e.createElement(x.u,{content:e.createElement("span",null,"This option determines whether or with what priority a secure TLS/SSL TCP/IP connection will be negotiated with the server")},e.createElement(R.J,{name:"info-circle",size:"sm"}))))},e.createElement(K.Ph,{options:A,value:g.sslmode||I.verifyFull,onChange:$("sslmode"),width:P})),b.jsonData.sslmode!==I.disable?e.createElement(c.g,{label:e.createElement(M._,null,e.createElement(T.K,{gap:.5},e.createElement("span",null,"TLS/SSL Method"),e.createElement(x.u,{content:e.createElement("span",null,"This option determines how TLS/SSL certifications are configured. Selecting"," ",e.createElement("i",null,"File system path")," will allow you to configure certificates by specifying paths to existing certificates on the local file system where Grafana is running. Be sure that the file is readable by the user executing the Grafana process.",e.createElement("br",null),e.createElement("br",null),"Selecting ",e.createElement("i",null,"Certificate content")," will allow you to configure certificates by specifying its content. The content will be stored encrypted in Grafana's database. When connecting to the database the certificates will be written as files to Grafana's configured data path on the local file system.")},e.createElement(R.J,{name:"info-circle",size:"sm"}))))},e.createElement(K.Ph,{options:V,value:g.tlsConfigurationMethod||W.filePath,onChange:$("tlsConfigurationMethod"),width:P})):null),g.sslmode!==I.disable?e.createElement(e.Fragment,null,e.createElement(U.i,null),e.createElement(D.K,{title:"TLS/SSL Auth Details"},g.tlsConfigurationMethod===W.fileContent?e.createElement(q.d,{showCACert:g.sslmode===I.verifyCA||g.sslmode===I.verifyFull,editorProps:a,labelWidth:P}):e.createElement(e.Fragment,null,e.createElement(c.g,{label:e.createElement(M._,null,e.createElement(T.K,{gap:.5},e.createElement("span",null,"TLS/SSL Root Certificate"),e.createElement(x.u,{content:e.createElement("span",null,"If the selected TLS/SSL mode requires a server root certificate, provide the path to the file here.")},e.createElement(R.J,{name:"info-circle",size:"sm"}))))},e.createElement(O.I,{value:g.sslRootCertFile||"",onChange:(0,m._R)(a,"sslRootCertFile"),placeholder:"TLS/SSL root cert file",width:P})),e.createElement(c.g,{label:e.createElement(M._,null,e.createElement(T.K,{gap:.5},e.createElement("span",null,"TLS/SSL Client Certificate"),e.createElement(x.u,{content:e.createElement("span",null,"To authenticate with an TLS/SSL client certificate, provide the path to the file here. Be sure that the file is readable by the user executing the grafana process.")},e.createElement(R.J,{name:"info-circle",size:"sm"}))))},e.createElement(O.I,{value:g.sslCertFile||"",onChange:(0,m._R)(a,"sslCertFile"),placeholder:"TLS/SSL client cert file",width:P})),e.createElement(c.g,{label:e.createElement(M._,null,e.createElement(T.K,{gap:.5},e.createElement("span",null,"TLS/SSL Client Key"),e.createElement(x.u,{content:e.createElement("span",null,"To authenticate with a client TLS/SSL certificate, provide the path to the corresponding key file here. Be sure that the file is ",e.createElement("i",null,"only")," readable by the user executing the grafana process.")},e.createElement(R.J,{name:"info-circle",size:"sm"}))))},e.createElement(O.I,{value:g.sslKeyFile||"",onChange:(0,m._R)(a,"sslKeyFile"),placeholder:"TLS/SSL client key file",width:P}))))):null,e.createElement(U.i,null),e.createElement(D.K,{title:"Additional settings",isCollapsible:!0},e.createElement(C._,{title:"PostgreSQL Options"},e.createElement(c.g,{label:e.createElement(M._,null,e.createElement(T.K,{gap:.5},e.createElement("span",null,"Version"),e.createElement(x.u,{content:e.createElement("span",null,"This option controls what functions are available in the PostgreSQL query builder")},e.createElement(R.J,{name:"info-circle",size:"sm"}))))},e.createElement(K.Ph,{value:g.postgresVersion||903,onChange:$("postgresVersion"),options:r,width:P})),e.createElement(c.g,{label:e.createElement(M._,null,e.createElement(T.K,{gap:.5},e.createElement("span",null,"Min time interval"),e.createElement(x.u,{content:e.createElement("span",null,"A lower limit for the auto group by time interval. Recommended to be set to write frequency, for example",e.createElement("code",null,"1m")," if your data is written every minute.")},e.createElement(R.J,{name:"info-circle",size:"sm"}))))},e.createElement(O.I,{placeholder:"1m",value:g.timeInterval||"",onChange:(0,m._R)(a,"timeInterval"),width:P})),e.createElement(c.g,{label:e.createElement(M._,null,e.createElement(T.K,{gap:.5},e.createElement("span",null,"TimescaleDB"),e.createElement(x.u,{content:e.createElement("span",null,"TimescaleDB is a time-series database built as a PostgreSQL extension. If enabled, Grafana will use",e.createElement("code",null,"time_bucket")," in the ",e.createElement("code",null,"$__timeGroup")," macro and display TimescaleDB specific aggregate functions in the query builder.")},e.createElement(R.J,{name:"info-circle",size:"sm"}))))},e.createElement(E.r,{value:g.timescaledb||!1,onChange:J,width:P}))),e.createElement(X.K,{options:b,onOptionsChange:w}),z.config.secureSocksDSProxyEnabled&&e.createElement(S.i,{options:b,onOptionsChange:()=>w(b)})))},De=new t.hf(Z).setQueryEditor(L).setQueryEditorHelp(d).setConfigEditor(ye)},96497:(B,y,n)=>{"use strict";n.d(y,{Z:()=>m});var t=n(31733),s=function(o){return o!==Object(o)},e=function(o,D,T){var C=(0,t.useRef)(void 0);(!C.current||!T(D,C.current))&&(C.current=D),(0,t.useEffect)(o,C.current)};const v=e;var d=n(7811),i=n.n(d);const p=i();var h=function(o){return o!==Object(o)},L=function(o,D){v(o,D,p)};const m=L},7811:B=>{"use strict";B.exports=function y(n,t){if(n===t)return!0;if(n&&t&&typeof n=="object"&&typeof t=="object"){if(n.constructor!==t.constructor)return!1;var s,e,v;if(Array.isArray(n)){if(s=n.length,s!=t.length)return!1;for(e=s;e--!==0;)if(!y(n[e],t[e]))return!1;return!0}if(n.constructor===RegExp)return n.source===t.source&&n.flags===t.flags;if(n.valueOf!==Object.prototype.valueOf)return n.valueOf()===t.valueOf();if(n.toString!==Object.prototype.toString)return n.toString()===t.toString();if(v=Object.keys(n),s=v.length,s!==Object.keys(t).length)return!1;for(e=s;e--!==0;)if(!Object.prototype.hasOwnProperty.call(t,v[e]))return!1;for(e=s;e--!==0;){var d=v[e];if(!(d==="_owner"&&n.$$typeof)&&!y(n[d],t[d]))return!1}return!0}return n!==n&&t!==t}},47766:()=>{},60732:()=>{}}]);

//# sourceMappingURL=postgresPlugin.3b3a9e65948c459db45f.js.map